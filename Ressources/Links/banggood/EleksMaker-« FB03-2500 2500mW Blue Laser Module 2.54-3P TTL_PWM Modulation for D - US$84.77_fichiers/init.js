!function(e,t){function i(e){var t=e.length,i=lt.type(e);return lt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e){var t=Ct[e]={};return lt.each(e.match(dt)||[],function(e,i){t[i]=!0}),t}function a(e,i,n,a){if(lt.acceptData(e)){var o,s,r=lt.expando,l="string"==typeof i,c=e.nodeType,d=c?lt.cache:e,u=c?e[r]:e[r]&&r;if(u&&d[u]&&(a||d[u].data)||!l||n!==t)return u||(c?e[r]=u=K.pop()||lt.guid++:u=r),d[u]||(d[u]={},c||(d[u].toJSON=lt.noop)),("object"==typeof i||"function"==typeof i)&&(a?d[u]=lt.extend(d[u],i):d[u].data=lt.extend(d[u].data,i)),o=d[u],a||(o.data||(o.data={}),o=o.data),n!==t&&(o[lt.camelCase(i)]=n),l?(s=o[i],null==s&&(s=o[lt.camelCase(i)])):s=o,s}}function o(e,t,i){if(lt.acceptData(e)){var n,a,o,s=e.nodeType,l=s?lt.cache:e,c=s?e[lt.expando]:lt.expando;if(l[c]){if(t&&(o=i?l[c]:l[c].data)){lt.isArray(t)?t=t.concat(lt.map(t,lt.camelCase)):t in o?t=[t]:(t=lt.camelCase(t),t=t in o?[t]:t.split(" "));for(n=0,a=t.length;a>n;n++)delete o[t[n]];if(!(i?r:lt.isEmptyObject)(o))return}(i||(delete l[c].data,r(l[c])))&&(s?lt.cleanData([e],!0):lt.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}}function s(e,i,n){if(n===t&&1===e.nodeType){var a="data-"+i.replace(St,"-$1").toLowerCase();if(n=e.getAttribute(a),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:kt.test(n)?lt.parseJSON(n):n}catch(o){}lt.data(e,i,n)}else n=t}return n}function r(e){var t;for(t in e)if(("data"!==t||!lt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,i){if(t=t||0,lt.isFunction(t))return lt.grep(e,function(e,n){var a=!!t.call(e,n,e);return a===i});if(t.nodeType)return lt.grep(e,function(e){return e===t===i});if("string"==typeof t){var n=lt.grep(e,function(e){return 1===e.nodeType});if(Ft.test(t))return lt.filter(t,n,!i);t=lt.filter(t,n)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0===i})}function p(e){var t=Vt.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function h(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=ai.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _(e,t){for(var i,n=0;null!=(i=e[n]);n++)lt._data(i,"globalEval",!t||lt._data(t[n],"globalEval"))}function v(e,t){if(1===t.nodeType&&lt.hasData(e)){var i,n,a,o=lt._data(e),s=lt._data(t,o),r=o.events;if(r){delete s.handle,s.events={};for(i in r)for(n=0,a=r[i].length;a>n;n++)lt.event.add(t,i,r[i][n])}s.data&&(s.data=lt.extend({},s.data))}}function g(e,t){var i,n,a;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){a=lt._data(t);for(n in a.events)lt.removeEvent(t,n,a.handle);t.removeAttribute(lt.expando)}"script"===i&&t.text!==e.text?(f(t).text=e.text,m(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&ti.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function b(e,i){var n,a,o=0,s=typeof e.getElementsByTagName!==G?e.getElementsByTagName(i||"*"):typeof e.querySelectorAll!==G?e.querySelectorAll(i||"*"):t;if(!s)for(s=[],n=e.childNodes||e;null!=(a=n[o]);o++)!i||lt.nodeName(a,i)?s.push(a):lt.merge(s,b(a,i));return i===t||i&&lt.nodeName(e,i)?lt.merge([e],s):s}function y(e){ti.test(e.type)&&(e.defaultChecked=e.checked)}function w(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,a=ki.length;a--;)if(t=ki[a]+i,t in e)return t;return n}function x(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function C(e,t){for(var i,n,a,o=[],s=0,r=e.length;r>s;s++)n=e[s],n.style&&(o[s]=lt._data(n,"olddisplay"),i=n.style.display,t?(o[s]||"none"!==i||(n.style.display=""),""===n.style.display&&x(n)&&(o[s]=lt._data(n,"olddisplay",$(n.nodeName)))):o[s]||(a=x(n),(i&&"none"!==i||!a)&&lt._data(n,"olddisplay",a?i:lt.css(n,"display"))));for(s=0;r>s;s++)n=e[s],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[s]||"":"none"));return e}function k(e,t,i){var n=vi.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function S(e,t,i,n,a){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===i&&(s+=lt.css(e,i+Ci[o],!0,a)),n?("content"===i&&(s-=lt.css(e,"padding"+Ci[o],!0,a)),"margin"!==i&&(s-=lt.css(e,"border"+Ci[o]+"Width",!0,a))):(s+=lt.css(e,"padding"+Ci[o],!0,a),"padding"!==i&&(s+=lt.css(e,"border"+Ci[o]+"Width",!0,a)));return s}function A(e,t,i){var n=!0,a="width"===t?e.offsetWidth:e.offsetHeight,o=di(e),s=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,o);if(0>=a||null==a){if(a=ui(e,t,o),(0>a||null==a)&&(a=e.style[t]),gi.test(a))return a;n=s&&(lt.support.boxSizingReliable||a===e.style[t]),a=parseFloat(a)||0}return a+S(e,t,i||(s?"border":"content"),n,o)+"px"}function $(e){var t=J,i=yi[e];return i||(i=T(e,t),"none"!==i&&i||(ci=(ci||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ci[0].contentWindow||ci[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),i=T(e,t),ci.detach()),yi[e]=i),i}function T(e,t){var i=lt(t.createElement(e)).appendTo(t.body),n=lt.css(i[0],"display");return i.remove(),n}function j(e,t,i,n){var a;if(lt.isArray(t))lt.each(t,function(t,a){i||Ai.test(e)?n(e,a):j(e+"["+("object"==typeof a?t:"")+"]",a,i,n)});else if(i||"object"!==lt.type(t))n(e,t);else for(a in t)j(e+"["+a+"]",t[a],i,n)}function P(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,a=0,o=t.toLowerCase().match(dt)||[];if(lt.isFunction(i))for(;n=o[a++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function B(e,i,n,a){function o(l){var c;return s[l]=!0,lt.each(e[l]||[],function(e,l){var d=l(i,n,a);return"string"!=typeof d||r||s[d]?r?!(c=d):t:(i.dataTypes.unshift(d),o(d),!1)}),c}var s={},r=e===Fi;return o(i.dataTypes[0])||!s["*"]&&o("*")}function L(e,i){var n,a,o=lt.ajaxSettings.flatOptions||{};for(a in i)i[a]!==t&&((o[a]?e:n||(n={}))[a]=i[a]);return n&&lt.extend(!0,e,n),e}function D(e,i,n){var a,o,s,r,l=e.contents,c=e.dataTypes,d=e.responseFields;for(r in d)r in n&&(i[d[r]]=n[r]);for(;"*"===c[0];)c.shift(),o===t&&(o=e.mimeType||i.getResponseHeader("Content-Type"));if(o)for(r in l)if(l[r]&&l[r].test(o)){c.unshift(r);break}if(c[0]in n)s=c[0];else{for(r in n){if(!c[0]||e.converters[r+" "+c[0]]){s=r;break}a||(a=r)}s=s||a}return s?(s!==c[0]&&c.unshift(s),n[s]):t}function I(e,t){var i,n,a,o,s={},r=0,l=e.dataTypes.slice(),c=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(a in e.converters)s[a.toLowerCase()]=e.converters[a];for(;n=l[++r];)if("*"!==n){if("*"!==c&&c!==n){if(a=s[c+" "+n]||s["* "+n],!a)for(i in s)if(o=i.split(" "),o[1]===n&&(a=s[c+" "+o[0]]||s["* "+o[0]])){a===!0?a=s[i]:s[i]!==!0&&(n=o[0],l.splice(r--,0,n));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+c+" to "+n}}}c=n}return{state:"success",data:t}}function N(){try{return new e.XMLHttpRequest}catch(t){}}function R(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function z(){return setTimeout(function(){Xi=t}),Xi=lt.now()}function E(e,t){lt.each(t,function(t,i){for(var n=(on[t]||[]).concat(on["*"]),a=0,o=n.length;o>a;a++)if(n[a].call(e,t,i))return})}function q(e,t,i){var n,a,o=0,s=an.length,r=lt.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=Xi||z(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,o=1-n,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(o);return r.notifyWith(e,[c,o,i]),1>o&&l?i:(r.resolveWith(e,[c]),!1)},c=r.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Xi||z(),duration:i.duration,tweens:[],createTween:function(t,i){var n=lt.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(a)return this;for(a=!0;n>i;i++)c.tweens[i].run(1);return t?r.resolveWith(e,[c,t]):r.rejectWith(e,[c,t]),this}}),d=c.props;for(M(d,c.opts.specialEasing);s>o;o++)if(n=an[o].call(c,e,d,c.opts))return n;return E(c,d),lt.isFunction(c.opts.start)&&c.opts.start.call(e,c),lt.fx.timer(lt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function M(e,t){var i,n,a,o,s;for(a in e)if(n=lt.camelCase(a),o=t[n],i=e[a],lt.isArray(i)&&(o=i[1],i=e[a]=i[0]),a!==n&&(e[n]=i,delete e[a]),s=lt.cssHooks[n],s&&"expand"in s){i=s.expand(i),delete e[n];for(a in i)a in e||(e[a]=i[a],t[a]=o)}else t[n]=o}function O(e,t,i){var n,a,o,s,r,l,c,d,u,p=this,h=e.style,f={},m=[],_=e.nodeType&&x(e);i.queue||(d=lt._queueHooks(e,"fx"),null==d.unqueued&&(d.unqueued=0,u=d.empty.fire,d.empty.fire=function(){d.unqueued||u()}),d.unqueued++,p.always(function(){p.always(function(){d.unqueued--,lt.queue(e,"fx").length||d.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==$(e.nodeName)?h.zoom=1:h.display="inline-block")),i.overflow&&(h.overflow="hidden",lt.support.shrinkWrapBlocks||p.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]}));for(a in t)if(s=t[a],en.exec(s)){if(delete t[a],l=l||"toggle"===s,s===(_?"hide":"show"))continue;m.push(a)}if(o=m.length){r=lt._data(e,"fxshow")||lt._data(e,"fxshow",{}),"hidden"in r&&(_=r.hidden),l&&(r.hidden=!_),_?lt(e).show():p.done(function(){lt(e).hide()}),p.done(function(){var t;lt._removeData(e,"fxshow");for(t in f)lt.style(e,t,f[t])});for(a=0;o>a;a++)n=m[a],c=p.createTween(n,_?r[n]:0),f[n]=r[n]||lt.style(e,n),n in r||(r[n]=c.start,_&&(c.end=c.start,c.start="width"===n||"height"===n?1:0))}}function W(e,t,i,n,a){return new W.prototype.init(e,t,i,n,a)}function F(e,t){var i,n={height:e},a=0;for(t=t?1:0;4>a;a+=2-t)i=Ci[a],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function H(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var U,V,G=typeof t,J=e.document,Q=e.location,Z=e.jQuery,Y=e.$,X={},K=[],et="1.9.1",tt=K.concat,it=K.push,nt=K.slice,at=K.indexOf,ot=X.toString,st=X.hasOwnProperty,rt=et.trim,lt=function(e,t){return new lt.fn.init(e,t,V)},ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dt=/\S+/g,ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pt=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,_t=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,gt=/^-ms-/,bt=/-([\da-z])/gi,yt=function(e,t){return t.toUpperCase()},wt=function(e){(J.addEventListener||"load"===e.type||"complete"===J.readyState)&&(xt(),lt.ready())},xt=function(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",wt,!1),e.removeEventListener("load",wt,!1)):(J.detachEvent("onreadystatechange",wt),e.detachEvent("onload",wt))};lt.fn=lt.prototype={jquery:et,constructor:lt,init:function(e,i,n){var a,o;if(!e)return this;if("string"==typeof e){if(a="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:pt.exec(e),!a||!a[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(a[1]){if(i=i instanceof lt?i[0]:i,lt.merge(this,lt.parseHTML(a[1],i&&i.nodeType?i.ownerDocument||i:J,!0)),ht.test(a[1])&&lt.isPlainObject(i))for(a in i)lt.isFunction(this[a])?this[a](i[a]):this.attr(a,i[a]);return this}if(o=J.getElementById(a[2]),o&&o.parentNode){if(o.id!==a[2])return n.find(e);this.length=1,this[0]=o}return this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):lt.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),lt.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return nt.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(nt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:it,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,i,n,a,o,s,r=arguments[0]||{},l=1,c=arguments.length,d=!1;for("boolean"==typeof r&&(d=r,r=arguments[1]||{},l=2),"object"==typeof r||lt.isFunction(r)||(r={}),c===l&&(r=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(a in o)e=r[a],n=o[a],r!==n&&(d&&n&&(lt.isPlainObject(n)||(i=lt.isArray(n)))?(i?(i=!1,s=e&&lt.isArray(e)?e:[]):s=e&&lt.isPlainObject(e)?e:{},r[a]=lt.extend(d,s,n)):n!==t&&(r[a]=n));return r},lt.extend({noConflict:function(t){return e.$===lt&&(e.$=Y),t&&e.jQuery===lt&&(e.jQuery=Z),lt},isReady:!1,readyWait:1,holdReady:function(e){e?lt.readyWait++:lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!J.body)return setTimeout(lt.ready);lt.isReady=!0,e!==!0&&--lt.readyWait>0||(U.resolveWith(J,[lt]),lt.fn.trigger&&lt(J).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?X[ot.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!st.call(e,"constructor")&&!st.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in e);return n===t||st.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||J;var n=ht.exec(e),a=!i&&[];return n?[t.createElement(n[1])]:(n=lt.buildFragment([e],t,a),a&&lt(a).remove(),lt.merge([],n.childNodes))},parseJSON:function(i){return e.JSON&&e.JSON.parse?e.JSON.parse(i):null===i?i:"string"==typeof i&&(i=lt.trim(i),i&&ft.test(i.replace(_t,"@").replace(vt,"]").replace(mt,"")))?Function("return "+i)():(lt.error("Invalid JSON: "+i),t)},parseXML:function(i){var n,a;if(!i||"string"!=typeof i)return null;try{e.DOMParser?(a=new DOMParser,n=a.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(o){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&lt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(gt,"ms-").replace(bt,yt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var a,o=0,s=e.length,r=i(e);if(n){if(r)for(;s>o&&(a=t.apply(e[o],n),a!==!1);o++);else for(o in e)if(a=t.apply(e[o],n),a===!1)break}else if(r)for(;s>o&&(a=t.call(e[o],o,e[o]),a!==!1);o++);else for(o in e)if(a=t.call(e[o],o,e[o]),a===!1)break;return e},trim:rt&&!rt.call("﻿ ")?function(e){return null==e?"":rt.call(e)}:function(e){return null==e?"":(e+"").replace(ut,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?lt.merge(n,"string"==typeof e?[e]:e):it.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(at)return at.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,a=e.length,o=0;if("number"==typeof n)for(;n>o;o++)e[a++]=i[o];else for(;i[o]!==t;)e[a++]=i[o++];return e.length=a,e},grep:function(e,t,i){var n,a=[],o=0,s=e.length;for(i=!!i;s>o;o++)n=!!t(e[o],o),i!==n&&a.push(e[o]);return a},map:function(e,t,n){var a,o=0,s=e.length,r=i(e),l=[];if(r)for(;s>o;o++)a=t(e[o],o,n),null!=a&&(l[l.length]=a);else for(o in e)a=t(e[o],o,n),null!=a&&(l[l.length]=a);return tt.apply([],l)},guid:1,proxy:function(e,i){var n,a,o;return"string"==typeof i&&(o=e[i],i=e,e=o),lt.isFunction(e)?(n=nt.call(arguments,2),a=function(){return e.apply(i||this,n.concat(nt.call(arguments)))},a.guid=e.guid=e.guid||lt.guid++,a):t},access:function(e,i,n,a,o,s,r){var l=0,c=e.length,d=null==n;if("object"===lt.type(n)){o=!0;for(l in n)lt.access(e,i,l,n[l],!0,s,r)}else if(a!==t&&(o=!0,lt.isFunction(a)||(r=!0),d&&(r?(i.call(e,a),i=null):(d=i,i=function(e,t,i){return d.call(lt(e),i)})),i))for(;c>l;l++)i(e[l],n,r?a:a.call(e[l],l,i(e[l],n)));return o?e:d?i.call(e):c?i(e[0],n):s},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(t){if(!U)if(U=lt.Deferred(),"complete"===J.readyState)setTimeout(lt.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",wt,!1),e.addEventListener("load",wt,!1);else{J.attachEvent("onreadystatechange",wt),e.attachEvent("onload",wt);var i=!1;try{i=null==e.frameElement&&J.documentElement}catch(n){}i&&i.doScroll&&function a(){if(!lt.isReady){try{i.doScroll("left")}catch(e){return setTimeout(a,50)}xt(),lt.ready()}}()}return U.promise(t)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){X["[object "+t+"]"]=t.toLowerCase()}),V=lt(J);var Ct={};lt.Callbacks=function(e){e="string"==typeof e?Ct[e]||n(e):lt.extend({},e);var i,a,o,s,r,l,c=[],d=!e.once&&[],u=function(t){for(a=e.memory&&t,o=!0,r=l||0,l=0,s=c.length,i=!0;c&&s>r;r++)if(c[r].apply(t[0],t[1])===!1&&e.stopOnFalse){a=!1;break}i=!1,c&&(d?d.length&&u(d.shift()):a?c=[]:p.disable())},p={add:function(){if(c){var t=c.length;!function n(t){lt.each(t,function(t,i){var a=lt.type(i);"function"===a?e.unique&&p.has(i)||c.push(i):i&&i.length&&"string"!==a&&n(i)})}(arguments),i?s=c.length:a&&(l=t,u(a))}return this},remove:function(){return c&&lt.each(arguments,function(e,t){for(var n;(n=lt.inArray(t,c,n))>-1;)c.splice(n,1),i&&(s>=n&&s--,r>=n&&r--)}),this},has:function(e){return e?lt.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],this},disable:function(){return c=d=a=t,this},disabled:function(){return!c},lock:function(){return d=t,a||p.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||o&&!d||(i?d.push(t):u(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!o}};return p},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(i){lt.each(t,function(t,o){var s=o[0],r=lt.isFunction(e[t])&&e[t];a[o[1]](function(){var e=r&&r.apply(this,arguments);e&&lt.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s+"With"](this===n?i.promise():this,r?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,n):n}},a={};return n.pipe=n.then,lt.each(t,function(e,o){var s=o[2],r=o[3];n[o[1]]=s.add,r&&s.add(function(){i=r},t[1^e][2].disable,t[2][2].lock),a[o[0]]=function(){return a[o[0]+"With"](this===a?n:this,arguments),this},a[o[0]+"With"]=s.fireWith}),n.promise(a),e&&e.call(a,a),a},when:function(e){var t,i,n,a=0,o=nt.call(arguments),s=o.length,r=1!==s||e&&lt.isFunction(e.promise)?s:0,l=1===r?e:lt.Deferred(),c=function(e,i,n){return function(a){i[e]=this,n[e]=arguments.length>1?nt.call(arguments):a,n===t?l.notifyWith(i,n):--r||l.resolveWith(i,n)}};if(s>1)for(t=Array(s),i=Array(s),n=Array(s);s>a;a++)o[a]&&lt.isFunction(o[a].promise)?o[a].promise().done(c(a,n,o)).fail(l.reject).progress(c(a,i,t)):--r;return r||l.resolveWith(n,o),l.promise()}}),lt.support=function(){var t,i,n,a,o,s,r,l,c,d,u=J.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=u.getElementsByTagName("*"),n=u.getElementsByTagName("a")[0],!i||!n||!i.length)return{};o=J.createElement("select"),r=o.appendChild(J.createElement("option")),a=u.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==u.className,leadingWhitespace:3===u.firstChild.nodeType,tbody:!u.getElementsByTagName("tbody").length,htmlSerialize:!!u.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:!!a.value,optSelected:r.selected,enctype:!!J.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===J.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!r.disabled;try{delete u.test}catch(p){t.deleteExpando=!1}a=J.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),s=J.createDocumentFragment(),s.appendChild(a),t.appendChecked=a.checked,t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){t.noCloneEvent=!1}),u.cloneNode(!0).click());for(d in{submit:!0,change:!0,focusin:!0})u.setAttribute(l="on"+d,"t"),t[d+"Bubbles"]=l in e||u.attributes[l].expando===!1;return u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===u.style.backgroundClip,lt(function(){var i,n,a,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=J.getElementsByTagName("body")[0];s&&(i=J.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(i).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=u.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=c&&0===a[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===u.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(u,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(u,null)||{width:"4px"}).width,n=u.appendChild(J.createElement("div")),n.style.cssText=u.style.cssText=o,n.style.marginRight=n.style.width="0",u.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight)),typeof u.style.zoom!==G&&(u.innerHTML="",u.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==u.offsetWidth,t.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(i),i=u=a=n=null)}),i=o=s=r=n=a=null,t}();var kt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,St=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!r(e)},data:function(e,t,i){return a(e,t,i)},removeData:function(e,t){return o(e,t)},_data:function(e,t,i){return a(e,t,i,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,i){var n,a,o=this[0],r=0,l=null;if(e===t){if(this.length&&(l=lt.data(o),1===o.nodeType&&!lt._data(o,"parsedAttrs"))){for(n=o.attributes;n.length>r;r++)a=n[r].name,a.indexOf("data-")||(a=lt.camelCase(a.slice(5)),s(o,a,l[a]));lt._data(o,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){lt.data(this,e)}):lt.access(this,function(i){return i===t?o?s(o,e,lt.data(o,e)):null:(this.each(function(){lt.data(this,e,i)}),t)},null,i,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,i,n){var a;return e?(i=(i||"fx")+"queue",a=lt._data(e,i),n&&(!a||lt.isArray(n)?a=lt._data(e,i,lt.makeArray(n)):a.push(n)),a||[]):t},dequeue:function(e,t){t=t||"fx";var i=lt.queue(e,t),n=i.length,a=i.shift(),o=lt._queueHooks(e,t),s=function(){lt.dequeue(e,t)};"inprogress"===a&&(a=i.shift(),n--),o.cur=a,a&&("fx"===t&&i.unshift("inprogress"),delete o.stop,a.call(e,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return lt._data(e,i)||lt._data(e,i,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,i)})})}}),lt.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),n>arguments.length?lt.queue(this[0],e):i===t?this:this.each(function(){var t=lt.queue(this,e,i);lt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,a=1,o=lt.Deferred(),s=this,r=this.length,l=function(){--a||o.resolveWith(s,[s])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";r--;)n=lt._data(s[r],e+"queueHooks"),n&&n.empty&&(a++,n.empty.add(l));return l(),o.promise(i)}});var At,$t,Tt=/[\t\r\n]/g,jt=/\r/g,Pt=/^(?:input|select|textarea|button|object)$/i,Bt=/^(?:a|area)$/i,Lt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Dt=/^(?:checked|selected)$/i,It=lt.support.getSetAttribute,Nt=lt.support.input;lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,n,a,o,s=0,r=this.length,l="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];r>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Tt," "):" ")){for(o=0;a=t[o++];)0>n.indexOf(" "+a+" ")&&(n+=a+" ");i.className=lt.trim(n)}return this},removeClass:function(e){var t,i,n,a,o,s=0,r=this.length,l=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(dt)||[];r>s;s++)if(i=this[s],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Tt," "):"")){for(o=0;a=t[o++];)for(;n.indexOf(" "+a+" ")>=0;)n=n.replace(" "+a+" "," ");i.className=e?lt.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e,n="boolean"==typeof t;return this.each(lt.isFunction(e)?function(i){lt(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var a,o=0,s=lt(this),r=t,l=e.match(dt)||[];a=l[o++];)r=n?r:!s.hasClass(a),s[r?"addClass":"removeClass"](a);else(i===G||"boolean"===i)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Tt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,a,o=this[0];return arguments.length?(a=lt.isFunction(e),this.each(function(i){var o,s=lt(this);1===this.nodeType&&(o=a?e.call(this,i,s.val()):e,null==o?o="":"number"==typeof o?o+="":lt.isArray(o)&&(o=lt.map(o,function(e){return null==e?"":e+""})),n=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))})):o?(n=lt.valHooks[o.type]||lt.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(jt,""):null==i?"":i)):void 0}}),lt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,n=e.options,a=e.selectedIndex,o="select-one"===e.type||0>a,s=o?null:[],r=o?a+1:n.length,l=0>a?r:o?a:0;r>l;l++)if(i=n[l],!(!i.selected&&l!==a||(lt.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&lt.nodeName(i.parentNode,"optgroup"))){if(t=lt(i).val(),o)return t;s.push(t)}return s},set:function(e,t){var i=lt.makeArray(t);return lt(e).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attr:function(e,i,n){var a,o,s,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?typeof e.getAttribute===G?lt.prop(e,i,n):(o=1!==r||!lt.isXMLDoc(e),o&&(i=i.toLowerCase(),a=lt.attrHooks[i]||(Lt.test(i)?$t:At)),n===t?a&&o&&"get"in a&&null!==(s=a.get(e,i))?s:(typeof e.getAttribute!==G&&(s=e.getAttribute(i)),null==s?t:s):null!==n?a&&o&&"set"in a&&(s=a.set(e,n,i))!==t?s:(e.setAttribute(i,n+""),n):(lt.removeAttr(e,i),t)):void 0},removeAttr:function(e,t){var i,n,a=0,o=t&&t.match(dt);if(o&&1===e.nodeType)for(;i=o[a++];)n=lt.propFix[i]||i,Lt.test(i)?!It&&Dt.test(i)?e[lt.camelCase("default-"+i)]=e[n]=!1:e[n]=!1:lt.attr(e,i,""),e.removeAttribute(It?i:n)},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,n){var a,o,s,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?(s=1!==r||!lt.isXMLDoc(e),s&&(i=lt.propFix[i]||i,o=lt.propHooks[i]),n!==t?o&&"set"in o&&(a=o.set(e,n,i))!==t?a:e[i]=n:o&&"get"in o&&null!==(a=o.get(e,i))?a:e[i]):void 0},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):Pt.test(e.nodeName)||Bt.test(e.nodeName)&&e.href?0:t}}}}),$t={get:function(e,i){var n=lt.prop(e,i),a="boolean"==typeof n&&e.getAttribute(i),o="boolean"==typeof n?Nt&&It?null!=a:Dt.test(i)?e[lt.camelCase("default-"+i)]:!!a:e.getAttributeNode(i);return o&&o.value!==!1?i.toLowerCase():t},set:function(e,t,i){return t===!1?lt.removeAttr(e,i):Nt&&It||!Dt.test(i)?e.setAttribute(!It&&lt.propFix[i]||i,i):e[lt.camelCase("default-"+i)]=e[i]=!0,i
}},Nt&&It||(lt.attrHooks.value={get:function(e,i){var n=e.getAttributeNode(i);return lt.nodeName(e,"input")?e.defaultValue:n&&n.specified?n.value:t},set:function(e,i,n){return lt.nodeName(e,"input")?(e.defaultValue=i,t):At&&At.set(e,i,n)}}),It||(At=lt.valHooks.button={get:function(e,i){var n=e.getAttributeNode(i);return n&&("id"===i||"name"===i||"coords"===i?""!==n.value:n.specified)?n.value:t},set:function(e,i,n){var a=e.getAttributeNode(n);return a||e.setAttributeNode(a=e.ownerDocument.createAttribute(n)),a.value=i+="","value"===n||i===e.getAttribute(n)?i:t}},lt.attrHooks.contenteditable={get:At.get,set:function(e,t,i){At.set(e,""===t?!1:t,i)}},lt.each(["width","height"],function(e,i){lt.attrHooks[i]=lt.extend(lt.attrHooks[i],{set:function(e,n){return""===n?(e.setAttribute(i,"auto"),n):t}})})),lt.support.hrefNormalized||(lt.each(["href","src","width","height"],function(e,i){lt.attrHooks[i]=lt.extend(lt.attrHooks[i],{get:function(e){var n=e.getAttribute(i,2);return null==n?t:n}})}),lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),lt.support.style||(lt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),lt.support.optSelected||(lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.support.checkOn||lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(e,i){return lt.isArray(i)?e.checked=lt.inArray(lt(e).val(),i)>=0:t}})});var Rt=/^(?:input|select|textarea)$/i,zt=/^key/,Et=/^(?:mouse|contextmenu)|click/,qt=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(e,i,n,a,o){var s,r,l,c,d,u,p,h,f,m,_,v=lt._data(e);if(v){for(n.handler&&(c=n,n=c.handler,o=c.selector),n.guid||(n.guid=lt.guid++),(r=v.events)||(r=v.events={}),(u=v.handle)||(u=v.handle=function(e){return typeof lt===G||e&&lt.event.triggered===e.type?t:lt.event.dispatch.apply(u.elem,arguments)},u.elem=e),i=(i||"").match(dt)||[""],l=i.length;l--;)s=Mt.exec(i[l])||[],f=_=s[1],m=(s[2]||"").split(".").sort(),d=lt.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=lt.event.special[f]||{},p=lt.extend({type:f,origType:_,data:a,handler:n,guid:n.guid,selector:o,needsContext:o&&lt.expr.match.needsContext.test(o),namespace:m.join(".")},c),(h=r[f])||(h=r[f]=[],h.delegateCount=0,d.setup&&d.setup.call(e,a,m,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),d.add&&(d.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,p):h.push(p),lt.event.global[f]=!0;e=null}},remove:function(e,t,i,n,a){var o,s,r,l,c,d,u,p,h,f,m,_=lt.hasData(e)&&lt._data(e);if(_&&(d=_.events)){for(t=(t||"").match(dt)||[""],c=t.length;c--;)if(r=Mt.exec(t[c])||[],h=m=r[1],f=(r[2]||"").split(".").sort(),h){for(u=lt.event.special[h]||{},h=(n?u.delegateType:u.bindType)||h,p=d[h]||[],r=r[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=p.length;o--;)s=p[o],!a&&m!==s.origType||i&&i.guid!==s.guid||r&&!r.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(p.splice(o,1),s.selector&&p.delegateCount--,u.remove&&u.remove.call(e,s));l&&!p.length&&(u.teardown&&u.teardown.call(e,f,_.handle)!==!1||lt.removeEvent(e,h,_.handle),delete d[h])}else for(h in d)lt.event.remove(e,h+t[c],i,n,!0);lt.isEmptyObject(d)&&(delete _.handle,lt._removeData(e,"events"))}},trigger:function(i,n,a,o){var s,r,l,c,d,u,p,h=[a||J],f=st.call(i,"type")?i.type:i,m=st.call(i,"namespace")?i.namespace.split("."):[];if(l=u=a=a||J,3!==a.nodeType&&8!==a.nodeType&&!qt.test(f+lt.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),r=0>f.indexOf(":")&&"on"+f,i=i[lt.expando]?i:new lt.Event(f,"object"==typeof i&&i),i.isTrigger=!0,i.namespace=m.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,i.target||(i.target=a),n=null==n?[i]:lt.makeArray(n,[i]),d=lt.event.special[f]||{},o||!d.trigger||d.trigger.apply(a,n)!==!1)){if(!o&&!d.noBubble&&!lt.isWindow(a)){for(c=d.delegateType||f,qt.test(c+f)||(l=l.parentNode);l;l=l.parentNode)h.push(l),u=l;u===(a.ownerDocument||J)&&h.push(u.defaultView||u.parentWindow||e)}for(p=0;(l=h[p++])&&!i.isPropagationStopped();)i.type=p>1?c:d.bindType||f,s=(lt._data(l,"events")||{})[i.type]&&lt._data(l,"handle"),s&&s.apply(l,n),s=r&&l[r],s&&lt.acceptData(l)&&s.apply&&s.apply(l,n)===!1&&i.preventDefault();if(i.type=f,!(o||i.isDefaultPrevented()||d._default&&d._default.apply(a.ownerDocument,n)!==!1||"click"===f&&lt.nodeName(a,"a")||!lt.acceptData(a)||!r||!a[f]||lt.isWindow(a))){u=a[r],u&&(a[r]=null),lt.event.triggered=f;try{a[f]()}catch(_){}lt.event.triggered=t,u&&(a[r]=u)}return i.result}},dispatch:function(e){e=lt.event.fix(e);var i,n,a,o,s,r=[],l=nt.call(arguments),c=(lt._data(this,"events")||{})[e.type]||[],d=lt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(r=lt.event.handlers.call(this,e,c),i=0;(o=r[i++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,s=0;(a=o.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,n=((lt.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,l),n!==t&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,i){var n,a,o,s,r=[],l=i.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(o=[],s=0;l>s;s++)a=i[s],n=a.selector+" ",o[n]===t&&(o[n]=a.needsContext?lt(n,this).index(c)>=0:lt.find(n,this,null,[c]).length),o[n]&&o.push(a);o.length&&r.push({elem:c,handlers:o})}return i.length>l&&r.push({elem:this,handlers:i.slice(l)}),r},fix:function(e){if(e[lt.expando])return e;var t,i,n,a=e.type,o=e,s=this.fixHooks[a];for(s||(this.fixHooks[a]=s=Et.test(a)?this.mouseHooks:zt.test(a)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,e=new lt.Event(o),t=n.length;t--;)i=n[t],e[i]=o[i];return e.target||(e.target=o.srcElement||J),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,a,o,s=i.button,r=i.fromElement;return null==e.pageX&&null!=i.clientX&&(a=e.target.ownerDocument||J,o=a.documentElement,n=a.body,e.pageX=i.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),e.pageY=i.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?i.toElement:r),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==J.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===J.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var a=lt.extend(new lt.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?lt.event.trigger(a,null,t):lt.event.dispatch.call(t,a),a.isDefaultPrevented()&&i.preventDefault()}},lt.removeEvent=J.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===G&&(e[n]=null),e.detachEvent(n,i))},lt.Event=function(e,i){return this instanceof lt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,i&&lt.extend(this,i),this.timeStamp=e&&e.timeStamp||lt.now(),this[lt.expando]=!0,t):new lt.Event(e,i)},lt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,a=e.relatedTarget,o=e.handleObj;return(!a||a!==n&&!lt.contains(n,a))&&(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return lt.nodeName(this,"form")?!1:(lt.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=lt.nodeName(i,"input")||lt.nodeName(i,"button")?i.form:t;n&&!lt._data(n,"submitBubbles")&&(lt.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(n,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&lt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return lt.nodeName(this,"form")?!1:(lt.event.remove(this,"._submit"),t)}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return Rt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,e,!0)})),!1):(lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Rt.test(t.nodeName)&&!lt._data(t,"changeBubbles")&&(lt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0))}),t)},handle:function(e){var i=e.target;return this!==i||e.isSimulated||e.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return lt.event.remove(this,"._change"),!Rt.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){0===i++&&J.addEventListener(e,n,!0)},teardown:function(){0===--i&&J.removeEventListener(e,n,!0)}}}),lt.fn.extend({on:function(e,i,n,a,o){var s,r;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(s in e)this.on(s,i,n,e[s],o);return this}if(null==n&&null==a?(a=i,n=i=t):null==a&&("string"==typeof i?(a=n,n=t):(a=n,n=i,i=t)),a===!1)a=c;else if(!a)return this;return 1===o&&(r=a,a=function(e){return lt().off(e),r.apply(this,arguments)},a.guid=r.guid||(r.guid=lt.guid++)),this.each(function(){lt.event.add(this,e,a,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var a,o;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,lt(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(o in e)this.off(o,i,e[o]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=t),n===!1&&(n=c),this.each(function(){lt.event.remove(this,e,n,i)})},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,i){var n=this[0];return n?lt.event.trigger(e,i,n,!0):t}}),function(e,t){function i(e){return ft.test(e+"")}function n(){var e,t=[];return e=function(i,n){return t.push(i+=" ")>k.cacheLength&&delete e[t.shift()],e[i]=n}}function a(e){return e[q]=!0,e}function o(e){var t=B.createElement("div");try{return e(t)}catch(i){return!1}finally{t=null}}function s(e,t,i,n){var a,o,s,r,l,c,d,h,f,m;if((t?t.ownerDocument||t:M)!==B&&P(t),t=t||B,i=i||[],!e||"string"!=typeof e)return i;if(1!==(r=t.nodeType)&&9!==r)return[];if(!D&&!n){if(a=mt.exec(e))if(s=a[1]){if(9===r){if(o=t.getElementById(s),!o||!o.parentNode)return i;if(o.id===s)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&z(t,o)&&o.id===s)return i.push(o),i}else{if(a[2])return Y.apply(i,X.call(t.getElementsByTagName(e),0)),i;if((s=a[3])&&O.getByClassName&&t.getElementsByClassName)return Y.apply(i,X.call(t.getElementsByClassName(s),0)),i}if(O.qsa&&!I.test(e)){if(d=!0,h=q,f=t,m=9===r&&e,1===r&&"object"!==t.nodeName.toLowerCase()){for(c=u(e),(d=t.getAttribute("id"))?h=d.replace(gt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+p(c[l]);f=ht.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return Y.apply(i,X.call(f.querySelectorAll(m),0)),i}catch(_){}finally{d||t.removeAttribute("id")}}}return y(e.replace(st,"$1"),t,i,n)}function r(e,t){var i=t&&e,n=i&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function l(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function c(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function d(e){return a(function(t){return t=+t,a(function(i,n){for(var a,o=e([],i.length,t),s=o.length;s--;)i[a=o[s]]&&(i[a]=!(n[a]=i[a]))})})}function u(e,t){var i,n,a,o,r,l,c,d=U[e+" "];if(d)return t?0:d.slice(0);for(r=e,l=[],c=k.preFilter;r;){(!i||(n=rt.exec(r)))&&(n&&(r=r.slice(n[0].length)||r),l.push(a=[])),i=!1,(n=ct.exec(r))&&(i=n.shift(),a.push({value:i,type:n[0].replace(st," ")}),r=r.slice(i.length));for(o in k.filter)!(n=pt[o].exec(r))||c[o]&&!(n=c[o](n))||(i=n.shift(),a.push({value:i,type:o,matches:n}),r=r.slice(i.length));if(!i)break}return t?r.length:r?s.error(e):U(e,l).slice(0)}function p(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function h(e,t,i){var n=t.dir,a=i&&"parentNode"===n,o=F++;return t.first?function(t,i,o){for(;t=t[n];)if(1===t.nodeType||a)return e(t,i,o)}:function(t,i,s){var r,l,c,d=W+" "+o;if(s){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,i,s))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(c=t[q]||(t[q]={}),(l=c[n])&&l[0]===d){if((r=l[1])===!0||r===C)return r===!0}else if(l=c[n]=[d],l[1]=e(t,i,s)||C,l[1]===!0)return!0}}function f(e){return e.length>1?function(t,i,n){for(var a=e.length;a--;)if(!e[a](t,i,n))return!1;return!0}:e[0]}function m(e,t,i,n,a){for(var o,s=[],r=0,l=e.length,c=null!=t;l>r;r++)(o=e[r])&&(!i||i(o,n,a))&&(s.push(o),c&&t.push(r));return s}function _(e,t,i,n,o,s){return n&&!n[q]&&(n=_(n)),o&&!o[q]&&(o=_(o,s)),a(function(a,s,r,l){var c,d,u,p=[],h=[],f=s.length,_=a||b(t||"*",r.nodeType?[r]:r,[]),v=!e||!a&&t?_:m(_,p,e,r,l),g=i?o||(a?e:f||n)?[]:s:v;if(i&&i(v,g,r,l),n)for(c=m(g,h),n(c,[],r,l),d=c.length;d--;)(u=c[d])&&(g[h[d]]=!(v[h[d]]=u));if(a){if(o||e){if(o){for(c=[],d=g.length;d--;)(u=g[d])&&c.push(v[d]=u);o(null,g=[],c,l)}for(d=g.length;d--;)(u=g[d])&&(c=o?K.call(a,u):p[d])>-1&&(a[c]=!(s[c]=u))}}else g=m(g===s?g.splice(f,g.length):g),o?o(null,s,g,l):Y.apply(s,g)})}function v(e){for(var t,i,n,a=e.length,o=k.relative[e[0].type],s=o||k.relative[" "],r=o?1:0,l=h(function(e){return e===t},s,!0),c=h(function(e){return K.call(t,e)>-1},s,!0),d=[function(e,i,n){return!o&&(n||i!==j)||((t=i).nodeType?l(e,i,n):c(e,i,n))}];a>r;r++)if(i=k.relative[e[r].type])d=[h(f(d),i)];else{if(i=k.filter[e[r].type].apply(null,e[r].matches),i[q]){for(n=++r;a>n&&!k.relative[e[n].type];n++);return _(r>1&&f(d),r>1&&p(e.slice(0,r-1)).replace(st,"$1"),i,n>r&&v(e.slice(r,n)),a>n&&v(e=e.slice(n)),a>n&&p(e))}d.push(i)}return f(d)}function g(e,t){var i=0,n=t.length>0,o=e.length>0,r=function(a,r,l,c,d){var u,p,h,f=[],_=0,v="0",g=a&&[],b=null!=d,y=j,w=a||o&&k.find.TAG("*",d&&r.parentNode||r),x=W+=null==y?1:Math.random()||.1;for(b&&(j=r!==B&&r,C=i);null!=(u=w[v]);v++){if(o&&u){for(p=0;h=e[p++];)if(h(u,r,l)){c.push(u);break}b&&(W=x,C=++i)}n&&((u=!h&&u)&&_--,a&&g.push(u))}if(_+=v,n&&v!==_){for(p=0;h=t[p++];)h(g,f,r,l);if(a){if(_>0)for(;v--;)g[v]||f[v]||(f[v]=Z.call(c));f=m(f)}Y.apply(c,f),b&&!a&&f.length>0&&_+t.length>1&&s.uniqueSort(c)}return b&&(W=x,j=y),g};return n?a(r):r}function b(e,t,i){for(var n=0,a=t.length;a>n;n++)s(e,t[n],i);return i}function y(e,t,i,n){var a,o,s,r,l,c=u(e);if(!n&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&9===t.nodeType&&!D&&k.relative[o[1].type]){if(t=k.find.ID(s.matches[0].replace(yt,wt),t)[0],!t)return i;e=e.slice(o.shift().value.length)}for(a=pt.needsContext.test(e)?0:o.length;a--&&(s=o[a],!k.relative[r=s.type]);)if((l=k.find[r])&&(n=l(s.matches[0].replace(yt,wt),ht.test(o[0].type)&&t.parentNode||t))){if(o.splice(a,1),e=n.length&&p(o),!e)return Y.apply(i,X.call(n,0)),i;break}}return $(e,c)(n,t,D,i,ht.test(e)),i}function w(){}var x,C,k,S,A,$,T,j,P,B,L,D,I,N,R,z,E,q="sizzle"+-new Date,M=e.document,O={},W=0,F=0,H=n(),U=n(),V=n(),G=typeof t,J=1<<31,Q=[],Z=Q.pop,Y=Q.push,X=Q.slice,K=Q.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=tt.replace("w","w#"),nt="([*^$|!~]?=)",at="\\["+et+"*("+tt+")"+et+"*(?:"+nt+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+it+")|)|)"+et+"*\\]",ot=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",st=RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),rt=RegExp("^"+et+"*,"+et+"*"),ct=RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),dt=RegExp(ot),ut=RegExp("^"+it+"$"),pt={ID:RegExp("^#("+tt+")"),CLASS:RegExp("^\\.("+tt+")"),NAME:RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:RegExp("^("+tt.replace("w","w*")+")"),ATTR:RegExp("^"+at),PSEUDO:RegExp("^"+ot),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},ht=/[\x20\t\r\n\f]*[+~]/,ft=/^[^{]+\{\s*\[native code/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_t=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,gt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,yt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,wt=function(e,t){var i="0x"+t-65536;return i!==i?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{X.call(M.documentElement.childNodes,0)[0].nodeType}catch(xt){X=function(e){for(var t,i=[];t=this[e++];)i.push(t);return i}}A=s.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},P=s.setDocument=function(e){var n=e?e.ownerDocument||e:M;return n!==B&&9===n.nodeType&&n.documentElement?(B=n,L=n.documentElement,D=A(n),O.tagNameNoComments=o(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),O.attributes=o(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),O.getByClassName=o(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),O.getByName=o(function(e){e.id=q+0,e.innerHTML="<a name='"+q+"'></a><div name='"+q+"'></div>",L.insertBefore(e,L.firstChild);var t=n.getElementsByName&&n.getElementsByName(q).length===2+n.getElementsByName(q+0).length;return O.getIdNotName=!n.getElementById(q),L.removeChild(e),t}),k.attrHandle=o(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==G&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},O.getIdNotName?(k.find.ID=function(e,t){if(typeof t.getElementById!==G&&!D){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},k.filter.ID=function(e){var t=e.replace(yt,wt);return function(e){return e.getAttribute("id")===t}}):(k.find.ID=function(e,i){if(typeof i.getElementById!==G&&!D){var n=i.getElementById(e);return n?n.id===e||typeof n.getAttributeNode!==G&&n.getAttributeNode("id").value===e?[n]:t:[]}},k.filter.ID=function(e){var t=e.replace(yt,wt);return function(e){var i=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return i&&i.value===t}}),k.find.TAG=O.tagNameNoComments?function(e,i){return typeof i.getElementsByTagName!==G?i.getElementsByTagName(e):t}:function(e,t){var i,n=[],a=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[a++];)1===i.nodeType&&n.push(i);return n}return o},k.find.NAME=O.getByName&&function(e,i){return typeof i.getElementsByName!==G?i.getElementsByName(name):t},k.find.CLASS=O.getByClassName&&function(e,i){return typeof i.getElementsByClassName===G||D?t:i.getElementsByClassName(e)},N=[],I=[":focus"],(O.qsa=i(n.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||I.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||I.push(":checked")}),o(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&I.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(O.matchesSelector=i(R=L.matchesSelector||L.mozMatchesSelector||L.webkitMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&o(function(e){O.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),N.push("!=",ot)}),I=RegExp(I.join("|")),N=RegExp(N.join("|")),z=i(L.contains)||L.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=L.compareDocumentPosition?function(e,t){var i;return e===t?(T=!0,0):(i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&i||e.parentNode&&11===e.parentNode.nodeType?e===n||z(M,e)?-1:t===n||z(M,t)?1:0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var i,a=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(e===t)return T=!0,0;if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:0;if(o===s)return r(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[a]===c[a];)a++;return a?r(l[a],c[a]):l[a]===M?-1:c[a]===M?1:0},T=!1,[0,0].sort(E),O.detectDuplicates=T,B):B},s.matches=function(e,t){return s(e,null,null,t)},s.matchesSelector=function(e,t){if((e.ownerDocument||e)!==B&&P(e),t=t.replace(bt,"='$1']"),!(!O.matchesSelector||D||N&&N.test(t)||I.test(t)))try{var i=R.call(e,t);if(i||O.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(n){}return s(t,B,null,[e]).length>0},s.contains=function(e,t){return(e.ownerDocument||e)!==B&&P(e),z(e,t)},s.attr=function(e,t){var i;return(e.ownerDocument||e)!==B&&P(e),D||(t=t.toLowerCase()),(i=k.attrHandle[t])?i(e):D||O.attributes?e.getAttribute(t):((i=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:i&&i.specified?i.value:null},s.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},s.uniqueSort=function(e){var t,i=[],n=1,a=0;if(T=!O.detectDuplicates,e.sort(E),T){for(;t=e[n];n++)t===e[n-1]&&(a=i.push(n));for(;a--;)e.splice(i[a],1)}return e},S=s.getText=function(e){var t,i="",n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=S(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n];n++)i+=S(t);return i},k=s.selectors={cacheLength:50,createPseudo:a,match:pt,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(yt,wt),e[3]=(e[4]||e[5]||"").replace(yt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||s.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&s.error(e[0]),e},PSEUDO:function(e){var t,i=!e[5]&&e[2];return pt.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:i&&dt.test(i)&&(t=u(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(yt,wt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=H[e+" "];return t||(t=RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&H(e,function(e){return t.test(e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var a=s.attr(n,e);return null==a?"!="===t:t?(a+="","="===t?a===i:"!="===t?a!==i:"^="===t?i&&0===a.indexOf(i):"*="===t?i&&a.indexOf(i)>-1:"$="===t?i&&a.slice(-i.length)===i:"~="===t?(" "+a+" ").indexOf(i)>-1:"|="===t?a===i||a.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,i,n,a){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),r="of-type"===t;return 1===n&&0===a?function(e){return!!e.parentNode}:function(t,i,l){var c,d,u,p,h,f,m=o!==s?"nextSibling":"previousSibling",_=t.parentNode,v=r&&t.nodeName.toLowerCase(),g=!l&&!r;if(_){if(o){for(;m;){for(u=t;u=u[m];)if(r?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?_.firstChild:_.lastChild],s&&g){for(d=_[q]||(_[q]={}),c=d[e]||[],h=c[0]===W&&c[1],p=c[0]===W&&c[2],u=h&&_.childNodes[h];u=++h&&u&&u[m]||(p=h=0)||f.pop();)if(1===u.nodeType&&++p&&u===t){d[e]=[W,h,p];break}}else if(g&&(c=(t[q]||(t[q]={}))[e])&&c[0]===W)p=c[1];else for(;(u=++h&&u&&u[m]||(p=h=0)||f.pop())&&((r?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++p||(g&&((u[q]||(u[q]={}))[e]=[W,p]),u!==t)););return p-=a,p===n||0===p%n&&p/n>=0}}},PSEUDO:function(e,t){var i,n=k.pseudos[e]||k.setFilters[e.toLowerCase()]||s.error("unsupported pseudo: "+e);return n[q]?n(t):n.length>1?(i=[e,e,"",t],k.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,i){for(var a,o=n(e,t),s=o.length;s--;)a=K.call(e,o[s]),e[a]=!(i[a]=o[s])}):function(e){return n(e,0,i)}):n}},pseudos:{not:a(function(e){var t=[],i=[],n=$(e.replace(st,"$1"));return n[q]?a(function(e,t,i,a){for(var o,s=n(e,null,a,[]),r=e.length;r--;)(o=s[r])&&(e[r]=!(t[r]=o))}):function(e,a,o){return t[0]=e,n(t,null,o,i),!i.pop()}}),has:a(function(e){return function(t){return s(e,t).length>0}}),contains:a(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:a(function(e){return ut.test(e||"")||s.error("unsupported lang: "+e),e=e.replace(yt,wt).toLowerCase(),function(t){var i;do if(i=D?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return _t.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,i){return[0>i?i+t:i]}),even:d(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:d(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:d(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:d(function(e,t,i){for(var n=0>i?i+t:i;t>++n;)e.push(n);return e})}};for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})k.pseudos[x]=c(x);$=s.compile=function(e,t){var i,n=[],a=[],o=V[e+" "];if(!o){for(t||(t=u(e)),i=t.length;i--;)o=v(t[i]),o[q]?n.push(o):a.push(o);o=V(e,g(a,n))}return o},k.pseudos.nth=k.pseudos.eq,k.filters=w.prototype=k.pseudos,k.setFilters=new w,P(),s.attr=lt.attr,lt.find=s,lt.expr=s.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=s.uniqueSort,lt.text=s.getText,lt.isXMLDoc=s.isXML,lt.contains=s.contains}(e);var Ot=/Until$/,Wt=/^(?:parents|prev(?:Until|All))/,Ft=/^.[^:#\[\.,]*$/,Ht=lt.expr.match.needsContext,Ut={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,i,n,a=this.length;if("string"!=typeof e)return n=this,this.pushStack(lt(e).filter(function(){for(t=0;a>t;t++)if(lt.contains(n[t],this))return!0}));for(i=[],t=0;a>t;t++)lt.find(e,this[t],i);return i=this.pushStack(a>1?lt.unique(i):i),i.selector=(this.selector?this.selector+" ":"")+e,i},has:function(e){var t,i=lt(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(lt.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1))},filter:function(e){return this.pushStack(u(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Ht.test(e)?lt(e,this.context).index(this[0])>=0:lt.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var i,n=0,a=this.length,o=[],s=Ht.test(e)||"string"!=typeof e?lt(e,t||this.context):0;a>n;n++)for(i=this[n];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(s?s.index(i)>-1:lt.find.matchesSelector(i,e)){o.push(i);break}i=i.parentNode}return this.pushStack(o.length>1?lt.unique(o):o)},index:function(e){return e?"string"==typeof e?lt.inArray(this[0],lt(e)):lt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),n=lt.merge(this.get(),i);return this.pushStack(lt.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,i){return lt.dir(e,"parentNode",i)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,i){return lt.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return lt.dir(e,"previousSibling",i)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)
},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(i,n){var a=lt.map(this,t,i);return Ot.test(e)||(n=i),n&&"string"==typeof n&&(a=lt.filter(n,a)),a=this.length>1&&!Ut[e]?lt.unique(a):a,this.length>1&&Wt.test(e)&&(a=a.reverse()),this.pushStack(a)}}),lt.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?lt.find.matchesSelector(t[0],e)?[t[0]]:[]:lt.find.matches(e,t)},dir:function(e,i,n){for(var a=[],o=e[i];o&&9!==o.nodeType&&(n===t||1!==o.nodeType||!lt(o).is(n));)1===o.nodeType&&a.push(o),o=o[i];return a},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Vt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Gt=/ jQuery\d+="(?:null|\d+)"/g,Jt=RegExp("<(?:"+Vt+")[\\s/>]","i"),Qt=/^\s+/,Zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Yt=/<([\w:]+)/,Xt=/<tbody/i,Kt=/<|&#?\w+;/,ei=/<(?:script|style|link)/i,ti=/^(?:checkbox|radio)$/i,ii=/checked\s*(?:[^=]|=\s*.checked.)/i,ni=/^$|\/(?:java|ecma)script/i,ai=/^true\/(.*)/,oi=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,si={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ri=p(J),li=ri.appendChild(J.createElement("div"));si.optgroup=si.option,si.tbody=si.tfoot=si.colgroup=si.caption=si.thead,si.th=si.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return e===t?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(lt.isFunction(e)?function(t){lt(this).wrapInner(e.call(this,t))}:function(){var t=lt(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(i){lt(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=0;null!=(i=this[n]);n++)(!e||lt.filter(e,[i]).length>0)&&(t||1!==i.nodeType||lt.cleanData(b(i)),i.parentNode&&(t&&lt.contains(i.ownerDocument,i)&&_(b(i,"script")),i.parentNode.removeChild(i)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&lt.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&lt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var i=this[0]||{},n=0,a=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(Gt,""):t;if(!("string"!=typeof e||ei.test(e)||!lt.support.htmlSerialize&&Jt.test(e)||!lt.support.leadingWhitespace&&Qt.test(e)||si[(Yt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Zt,"<$1></$2>");try{for(;a>n;n++)i=this[n]||{},1===i.nodeType&&(lt.cleanData(b(i,!1)),i.innerHTML=e);i=0}catch(o){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=lt.isFunction(e);return t||"string"==typeof e||(e=lt(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,i=this.parentNode;i&&(lt(this).remove(),i.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,n){e=tt.apply([],e);var a,o,s,r,l,c,d=0,u=this.length,p=this,_=u-1,v=e[0],g=lt.isFunction(v);if(g||!(1>=u||"string"!=typeof v||lt.support.checkClone)&&ii.test(v))return this.each(function(a){var o=p.eq(a);g&&(e[0]=v.call(this,a,i?o.html():t)),o.domManip(e,i,n)});if(u&&(c=lt.buildFragment(e,this[0].ownerDocument,!1,this),a=c.firstChild,1===c.childNodes.length&&(c=a),a)){for(i=i&&lt.nodeName(a,"tr"),r=lt.map(b(c,"script"),f),s=r.length;u>d;d++)o=c,d!==_&&(o=lt.clone(o,!0,!0),s&&lt.merge(r,b(o,"script"))),n.call(i&&lt.nodeName(this[d],"table")?h(this[d],"tbody"):this[d],o,d);if(s)for(l=r[r.length-1].ownerDocument,lt.map(r,m),d=0;s>d;d++)o=r[d],ni.test(o.type||"")&&!lt._data(o,"globalEval")&&lt.contains(l,o)&&(o.src?lt.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):lt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(oi,"")));c=a=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var i,n=0,a=[],o=lt(e),s=o.length-1;s>=n;n++)i=n===s?this:this.clone(!0),lt(o[n])[t](i),it.apply(a,i.get());return this.pushStack(a)}}),lt.extend({clone:function(e,t,i){var n,a,o,s,r,l=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!Jt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(li.innerHTML=e.outerHTML,li.removeChild(o=li.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(n=b(o),r=b(e),s=0;null!=(a=r[s]);++s)n[s]&&g(a,n[s]);if(t)if(i)for(r=r||b(e),n=n||b(o),s=0;null!=(a=r[s]);s++)v(a,n[s]);else v(e,o);return n=b(o,"script"),n.length>0&&_(n,!l&&b(e,"script")),n=r=a=null,o},buildFragment:function(e,t,i,n){for(var a,o,s,r,l,c,d,u=e.length,h=p(t),f=[],m=0;u>m;m++)if(o=e[m],o||0===o)if("object"===lt.type(o))lt.merge(f,o.nodeType?[o]:o);else if(Kt.test(o)){for(r=r||h.appendChild(t.createElement("div")),l=(Yt.exec(o)||["",""])[1].toLowerCase(),d=si[l]||si._default,r.innerHTML=d[1]+o.replace(Zt,"<$1></$2>")+d[2],a=d[0];a--;)r=r.lastChild;if(!lt.support.leadingWhitespace&&Qt.test(o)&&f.push(t.createTextNode(Qt.exec(o)[0])),!lt.support.tbody)for(o="table"!==l||Xt.test(o)?"<table>"!==d[1]||Xt.test(o)?0:r:r.firstChild,a=o&&o.childNodes.length;a--;)lt.nodeName(c=o.childNodes[a],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(lt.merge(f,r.childNodes),r.textContent="";r.firstChild;)r.removeChild(r.firstChild);r=h.lastChild}else f.push(t.createTextNode(o));for(r&&h.removeChild(r),lt.support.appendChecked||lt.grep(b(f,"input"),y),m=0;o=f[m++];)if((!n||-1===lt.inArray(o,n))&&(s=lt.contains(o.ownerDocument,o),r=b(h.appendChild(o),"script"),s&&_(r),i))for(a=0;o=r[a++];)ni.test(o.type||"")&&i.push(o);return r=null,h},cleanData:function(e,t){for(var i,n,a,o,s=0,r=lt.expando,l=lt.cache,c=lt.support.deleteExpando,d=lt.event.special;null!=(i=e[s]);s++)if((t||lt.acceptData(i))&&(a=i[r],o=a&&l[a])){if(o.events)for(n in o.events)d[n]?lt.event.remove(i,n):lt.removeEvent(i,n,o.handle);l[a]&&(delete l[a],c?delete i[r]:typeof i.removeAttribute!==G?i.removeAttribute(r):i[r]=null,K.push(a))}}});var ci,di,ui,pi=/alpha\([^)]*\)/i,hi=/opacity\s*=\s*([^)]*)/,fi=/^(top|right|bottom|left)$/,mi=/^(none|table(?!-c[ea]).+)/,_i=/^margin/,vi=RegExp("^("+ct+")(.*)$","i"),gi=RegExp("^("+ct+")(?!px)[a-z%]+$","i"),bi=RegExp("^([+-])=("+ct+")","i"),yi={BODY:"block"},wi={position:"absolute",visibility:"hidden",display:"block"},xi={letterSpacing:0,fontWeight:400},Ci=["Top","Right","Bottom","Left"],ki=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(e,i){return lt.access(this,function(e,i,n){var a,o,s={},r=0;if(lt.isArray(i)){for(o=di(e),a=i.length;a>r;r++)s[i[r]]=lt.css(e,i[r],!1,o);return s}return n!==t?lt.style(e,i,n):lt.css(e,i)},e,i,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:x(this))?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ui(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,r,l=lt.camelCase(i),c=e.style;if(i=lt.cssProps[l]||(lt.cssProps[l]=w(c,l)),r=lt.cssHooks[i]||lt.cssHooks[l],n===t)return r&&"get"in r&&(o=r.get(e,!1,a))!==t?o:c[i];if(s=typeof n,"string"===s&&(o=bi.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(lt.css(e,i)),s="number"),!(null==n||"number"===s&&isNaN(n)||("number"!==s||lt.cssNumber[l]||(n+="px"),lt.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),r&&"set"in r&&(n=r.set(e,n,a))===t)))try{c[i]=n}catch(d){}}},css:function(e,i,n,a){var o,s,r,l=lt.camelCase(i);return i=lt.cssProps[l]||(lt.cssProps[l]=w(e.style,l)),r=lt.cssHooks[i]||lt.cssHooks[l],r&&"get"in r&&(s=r.get(e,!0,n)),s===t&&(s=ui(e,i,a)),"normal"===s&&i in xi&&(s=xi[i]),""===n||n?(o=parseFloat(s),n===!0||lt.isNumeric(o)?o||0:s):s},swap:function(e,t,i,n){var a,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];a=i.apply(e,n||[]);for(o in t)e.style[o]=s[o];return a}}),e.getComputedStyle?(di=function(t){return e.getComputedStyle(t,null)},ui=function(e,i,n){var a,o,s,r=n||di(e),l=r?r.getPropertyValue(i)||r[i]:t,c=e.style;return r&&(""!==l||lt.contains(e.ownerDocument,e)||(l=lt.style(e,i)),gi.test(l)&&_i.test(i)&&(a=c.width,o=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=r.width,c.width=a,c.minWidth=o,c.maxWidth=s)),l}):J.documentElement.currentStyle&&(di=function(e){return e.currentStyle},ui=function(e,i,n){var a,o,s,r=n||di(e),l=r?r[i]:t,c=e.style;return null==l&&c&&c[i]&&(l=c[i]),gi.test(l)&&!fi.test(i)&&(a=c.left,o=e.runtimeStyle,s=o&&o.left,s&&(o.left=e.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=a,s&&(o.left=s)),""===l?"auto":l}),lt.each(["height","width"],function(e,i){lt.cssHooks[i]={get:function(e,n,a){return n?0===e.offsetWidth&&mi.test(lt.css(e,"display"))?lt.swap(e,wi,function(){return A(e,i,a)}):A(e,i,a):t},set:function(e,t,n){var a=n&&di(e);return k(e,t,n?S(e,i,n,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,a),a):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(e,t){return hi.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,a=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===lt.trim(o.replace(pi,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=pi.test(o)?o.replace(pi,a):o+" "+a)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(e,i){return i?lt.swap(e,{display:"inline-block"},ui,[e,"marginRight"]):t}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(e,i){lt.cssHooks[i]={get:function(e,n){return n?(n=ui(e,i),gi.test(n)?lt(e).position()[i]+"px":n):t}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)}),lt.each({margin:"",padding:"",border:"Width"},function(e,t){lt.cssHooks[e+t]={expand:function(i){for(var n=0,a={},o="string"==typeof i?i.split(" "):[i];4>n;n++)a[e+Ci[n]+t]=o[n]||o[n-2]||o[0];return a}},_i.test(e)||(lt.cssHooks[e+t].set=k)});var Si=/%20/g,Ai=/\[\]$/,$i=/\r?\n/g,Ti=/^(?:submit|button|image|reset|file)$/i,ji=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&ji.test(this.nodeName)&&!Ti.test(e)&&(this.checked||!ti.test(e))}).map(function(e,t){var i=lt(this).val();return null==i?null:lt.isArray(i)?lt.map(i,function(e){return{name:t.name,value:e.replace($i,"\r\n")}}):{name:t.name,value:i.replace($i,"\r\n")}}).get()}}),lt.param=function(e,i){var n,a=[],o=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){o(this.name,this.value)});else for(n in e)j(n,e[n],i,o);return a.join("&").replace(Si,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),lt.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var Pi,Bi,Li=lt.now(),Di=/\?/,Ii=/#.*$/,Ni=/([?&])_=[^&]*/,Ri=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,zi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ei=/^(?:GET|HEAD)$/,qi=/^\/\//,Mi=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Oi=lt.fn.load,Wi={},Fi={},Hi="*/".concat("*");try{Bi=Q.href}catch(Ui){Bi=J.createElement("a"),Bi.href="",Bi=Bi.href}Pi=Mi.exec(Bi.toLowerCase())||[],lt.fn.load=function(e,i,n){if("string"!=typeof e&&Oi)return Oi.apply(this,arguments);var a,o,s,r=this,l=e.indexOf(" ");return l>=0&&(a=e.slice(l,e.length),e=e.slice(0,l)),lt.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(s="POST"),r.length>0&&lt.ajax({url:e,type:s,dataType:"html",data:i}).done(function(e){o=arguments,r.html(a?lt("<div>").append(lt.parseHTML(e)).find(a):e)}).complete(n&&function(e,t){r.each(n,o||[e.responseText,t,e])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.each(["get","post"],function(e,i){lt[i]=function(e,n,a,o){return lt.isFunction(n)&&(o=o||a,a=n,n=t),lt.ajax({url:e,type:i,dataType:o,data:n,success:a})}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Bi,type:"GET",isLocal:zi.test(Pi[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?L(L(e,lt.ajaxSettings),t):L(lt.ajaxSettings,e)},ajaxPrefilter:P(Wi),ajaxTransport:P(Fi),ajax:function(e,i){function n(e,i,n,a){var o,u,g,b,w,C=i;2!==y&&(y=2,l&&clearTimeout(l),d=t,r=a||"",x.readyState=e>0?4:0,n&&(b=D(p,x,n)),e>=200&&300>e||304===e?(p.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(lt.lastModified[s]=w),w=x.getResponseHeader("etag"),w&&(lt.etag[s]=w)),204===e?(o=!0,C="nocontent"):304===e?(o=!0,C="notmodified"):(o=I(p,b),C=o.state,u=o.data,g=o.error,o=!g)):(g=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(i||C)+"",o?m.resolveWith(h,[u,C,x]):m.rejectWith(h,[x,C,g]),x.statusCode(v),v=t,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[x,p,o?u:g]),_.fireWith(h,[x,C]),c&&(f.trigger("ajaxComplete",[x,p]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var a,o,s,r,l,c,d,u,p=lt.ajaxSetup({},i),h=p.context||p,f=p.context&&(h.nodeType||h.jquery)?lt(h):lt.event,m=lt.Deferred(),_=lt.Callbacks("once memory"),v=p.statusCode||{},g={},b={},y=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!u)for(u={};t=Ri.exec(r);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?r:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=b[i]=b[i]||e,g[e]=t),this},overrideMimeType:function(e){return y||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return d&&d.abort(t),n(0,t),this}};if(m.promise(x).complete=_.add,x.success=x.done,x.error=x.fail,p.url=((e||p.url||Bi)+"").replace(Ii,"").replace(qi,Pi[1]+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=lt.trim(p.dataType||"*").toLowerCase().match(dt)||[""],null==p.crossDomain&&(a=Mi.exec(p.url.toLowerCase()),p.crossDomain=!(!a||a[1]===Pi[1]&&a[2]===Pi[2]&&(a[3]||("http:"===a[1]?80:443))==(Pi[3]||("http:"===Pi[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=lt.param(p.data,p.traditional)),B(Wi,p,i,x),2===y)return x;c=p.global,c&&0===lt.active++&&lt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ei.test(p.type),s=p.url,p.hasContent||(p.data&&(s=p.url+=(Di.test(s)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Ni.test(s)?s.replace(Ni,"$1_="+Li++):s+(Di.test(s)?"&":"?")+"_="+Li++)),p.ifModified&&(lt.lastModified[s]&&x.setRequestHeader("If-Modified-Since",lt.lastModified[s]),lt.etag[s]&&x.setRequestHeader("If-None-Match",lt.etag[s])),(p.data&&p.hasContent&&p.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Hi+"; q=0.01":""):p.accepts["*"]);for(o in p.headers)x.setRequestHeader(o,p.headers[o]);if(p.beforeSend&&(p.beforeSend.call(h,x,p)===!1||2===y))return x.abort();w="abort";for(o in{success:1,error:1,complete:1})x[o](p[o]);if(d=B(Fi,p,i,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},p.timeout));try{y=1,d.send(g,n)}catch(C){if(!(2>y))throw C;n(-1,C)}}else n(-1,"No Transport");return x},getScript:function(e,i){return lt.get(e,t,i,"script")},getJSON:function(e,t,i){return lt.get(e,t,i,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=J.head||lt("head")[0]||J.documentElement;return{send:function(t,a){i=J.createElement("script"),i.async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||a(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(t,!0)}}}});var Vi=[],Gi=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vi.pop()||lt.expando+"_"+Li++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(i,n,a){var o,s,r,l=i.jsonp!==!1&&(Gi.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gi.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(o=i.jsonpCallback=lt.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Gi,"$1"+o):i.jsonp!==!1&&(i.url+=(Di.test(i.url)?"&":"?")+i.jsonp+"="+o),i.converters["script json"]=function(){return r||lt.error(o+" was not called"),r[0]},i.dataTypes[0]="json",s=e[o],e[o]=function(){r=arguments},a.always(function(){e[o]=s,i[o]&&(i.jsonpCallback=n.jsonpCallback,Vi.push(o)),r&&lt.isFunction(s)&&s(r[0]),r=s=t}),"script"):t});var Ji,Qi,Zi=0,Yi=e.ActiveXObject&&function(){var e;for(e in Ji)Ji[e](t,!0)};lt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&N()||R()}:N,Qi=lt.ajaxSettings.xhr(),lt.support.cors=!!Qi&&"withCredentials"in Qi,Qi=lt.support.ajax=!!Qi,Qi&&lt.ajaxTransport(function(i){if(!i.crossDomain||lt.support.cors){var n;return{send:function(a,o){var s,r,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(r in i.xhrFields)l[r]=i.xhrFields[r];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest");try{for(r in a)l.setRequestHeader(r,a[r])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(e,a){var r,c,d,u;try{if(n&&(a||4===l.readyState))if(n=t,s&&(l.onreadystatechange=lt.noop,Yi&&delete Ji[s]),a)4!==l.readyState&&l.abort();else{u={},r=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(u.text=l.responseText);try{d=l.statusText}catch(p){d=""}r||!i.isLocal||i.crossDomain?1223===r&&(r=204):r=u.text?200:404}}catch(h){a||o(-1,h)}u&&o(r,d,u,c)},i.async?4===l.readyState?setTimeout(n):(s=++Zi,Yi&&(Ji||(Ji={},lt(e).unload(Yi)),Ji[s]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(t,!0)}}}});var Xi,Ki,en=/^(?:toggle|show|hide)$/,tn=RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),nn=/queueHooks$/,an=[O],on={"*":[function(e,t){var i,n,a=this.createTween(e,t),o=tn.exec(t),s=a.cur(),r=+s||0,l=1,c=20;if(o){if(i=+o[2],n=o[3]||(lt.cssNumber[e]?"":"px"),"px"!==n&&r){r=lt.css(a.elem,e,!0)||i||1;do l=l||".5",r/=l,lt.style(a.elem,e,r+n);while(l!==(l=a.cur()/s)&&1!==l&&--c)}a.unit=n,a.start=r,a.end=o[1]?r+(o[1]+1)*i:i}return a}]};lt.Animation=lt.extend(q,{tweener:function(e,t){lt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,a=e.length;a>n;n++)i=e[n],on[i]=on[i]||[],on[i].unshift(t)},prefilter:function(e,t){t?an.unshift(e):an.push(e)}}),lt.Tween=W,W.prototype={constructor:W,init:function(e,t,i,n,a,o){this.elem=e,this.prop=i,this.easing=a||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(lt.cssNumber[i]?"":"px")},cur:function(){var e=W.propHooks[this.prop];return e&&e.get?e.get(this):W.propHooks._default.get(this)},run:function(e){var t,i=W.propHooks[this.prop];return this.pos=t=this.options.duration?lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=lt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){lt.fx.step[e.prop]?lt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop])?lt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},lt.each(["toggle","show","hide"],function(e,t){var i=lt.fn[t];lt.fn[t]=function(e,n,a){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(F(t,!0),e,n,a)}}),lt.fn.extend({fadeTo:function(e,t,i,n){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var a=lt.isEmptyObject(e),o=lt.speed(t,i,n),s=function(){var t=q(this,lt.extend({},e),o);s.finish=function(){t.stop(!0)},(a||lt._data(this,"finish"))&&t.stop(!0)};return s.finish=s,a||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,i,n){var a=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=lt.timers,s=lt._data(this);if(i)s[i]&&s[i].stop&&a(s[i]);else for(i in s)s[i]&&s[i].stop&&nn.test(i)&&a(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&lt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=lt._data(this),n=i[e+"queue"],a=i[e+"queueHooks"],o=lt.timers,s=n?n.length:0;for(i.finish=!0,lt.queue(this,e,[]),a&&a.cur&&a.cur.finish&&a.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),lt.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),lt.speed=function(e,t,i){var n=e&&"object"==typeof e?lt.extend({},e):{complete:i||!i&&t||lt.isFunction(e)&&e,duration:e,easing:i&&t||t&&!lt.isFunction(t)&&t};return n.duration=lt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in lt.fx.speeds?lt.fx.speeds[n.duration]:lt.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){lt.isFunction(n.old)&&n.old.call(this),n.queue&&lt.dequeue(this,n.queue)},n},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=W.prototype.init,lt.fx.tick=function(){var e,i=lt.timers,n=0;for(Xi=lt.now();i.length>n;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||lt.fx.stop(),Xi=t},lt.fx.timer=function(e){e()&&lt.timers.push(e)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){Ki||(Ki=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(Ki),Ki=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length}),lt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){lt.offset.setOffset(this,e,t)});var i,n,a={top:0,left:0},o=this[0],s=o&&o.ownerDocument;return s?(i=s.documentElement,lt.contains(i,o)?(typeof o.getBoundingClientRect!==G&&(a=o.getBoundingClientRect()),n=H(s),{top:a.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:a.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):a):void 0},lt.offset={setOffset:function(e,t,i){var n=lt.css(e,"position");"static"===n&&(e.style.position="relative");var a,o,s=lt(e),r=s.offset(),l=lt.css(e,"top"),c=lt.css(e,"left"),d=("absolute"===n||"fixed"===n)&&lt.inArray("auto",[l,c])>-1,u={},p={};d?(p=s.position(),a=p.top,o=p.left):(a=parseFloat(l)||0,o=parseFloat(c)||0),lt.isFunction(t)&&(t=t.call(e,i,r)),null!=t.top&&(u.top=t.top-r.top+a),null!=t.left&&(u.left=t.left-r.left+o),"using"in t?t.using.call(e,u):s.css(u)}},lt.fn.extend({position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===lt.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),lt.nodeName(e[0],"html")||(i=e.offset()),i.top+=lt.css(e[0],"borderTopWidth",!0),i.left+=lt.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-lt.css(n,"marginTop",!0),left:t.left-i.left-lt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||J.documentElement;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||J.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);lt.fn[e]=function(a){return lt.access(this,function(e,a,o){var s=H(e);return o===t?s?i in s?s[i]:s.document.documentElement[a]:e[a]:(s?s.scrollTo(n?lt(s).scrollLeft():o,n?o:lt(s).scrollTop()):e[a]=o,t)},e,a,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,i){lt.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,a){lt.fn[a]=function(a,o){var s=arguments.length&&(n||"boolean"!=typeof a),r=n||(a===!0||o===!0?"margin":"border");return lt.access(this,function(i,n,a){var o;return lt.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(o=i.documentElement,Math.max(i.body["scroll"+e],o["scroll"+e],i.body["offset"+e],o["offset"+e],o["client"+e])):a===t?lt.css(i,n,r):lt.style(i,n,a,r)},i,s?a:t,s,null)}})}),e.jQuery=e.$=lt,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return lt})}(window),function(e){"function"==typeof define&&define.amd?define("jquery",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e){return r.raw?e:encodeURIComponent(e)}function i(e){return r.raw?e:decodeURIComponent(e)}function n(e){return t(r.json?JSON.stringify(e):String(e))}function a(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(s," ")),r.json?JSON.parse(e):e}catch(t){}}function o(t,i){var n=r.raw?t:a(t);return e.isFunction(i)?i(n):n}var s=/\+/g,r=e.cookie=function(a,s,l){if(void 0!==s&&!e.isFunction(s)){if(l=e.extend({},r.defaults,l),"number"==typeof l.expires){var c=l.expires,d=l.expires=new Date;d.setTime(+d+864e5*c)}return document.cookie=[t(a),"=",n(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var u=a?void 0:{},p=document.cookie?document.cookie.split("; "):[],h=0,f=p.length;f>h;h++){var m=p[h].split("="),_=i(m.shift()),v=m.join("=");if(a&&a===_){u=o(v,s);break}a||void 0===(v=o(v))||(u[_]=v)}return u};r.defaults={},e.removeCookie=function(t,i){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},i,{expires:-1})),!e.cookie(t))}}),function(e){"function"==typeof define&&define.amd?define("jqueryLazyload",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=e(window);!function(){function t(){this.isSupport=!1,this.replaceWebpPath=function(e){if(e&&this.isSupport){if(e+="",/\.webp(\?|$)/.test(e))return e;if(/(img(\d+)?\.bgxcdn\.com)|((img|imgaz\d*)\.staticbg\.com)/g.test(e))return e.replace(/(\.(?:png|jpe?g))(\?|$)/i,"$1.webp$2")}return e},this.checkWebpFeature=function(e,t){var i=this,n=t||"lossy",a="f_webp_"+n;if(this.isSupport||"1"==this.getCookie(a))this.isSupport=!0;else{var o={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},s=new Image;s.onload=function(){s.width>0&&s.height>0?(i.setCookie(a,"1",180),i.isSupportWebp=!0,e&&e(n)):i.delCookie(a)},s.onerror=function(){i.delCookie(a)},s.src="data:image/webp;base64,"+o[n]}return this},this.handleWebpLoadFailed=function(e,t){e+="";var i=e.split(".webp");if(2==i.length&&/^(\?|\s{0,}$)/i.test(i[1])){e=e.replace(".webp","");var n=new Image;n.src=e,n.onload=function(){t&&t("success",this.src)},n.onerror=function(){t&&t("failed")}}else t&&t("nochange")},this.getCookie=function(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),i=document.cookie.match(t);if(i){var n="undefined"!=typeof i[2]?i[2]:null;return n?decodeURIComponent(n):null}return null},this.delCookie=function(e){var t=this.getCookie(e);null!=t&&this.setCookie(e,t,-1)},this.setCookie=function(e,t,i){var n=24*("undefined"==typeof i?7:+i)*60*60*1e3,a=new Date;a.setTime(a.getTime()+n),document.cookie=e+"="+encodeURIComponent(t)+";expires="+a.toGMTString()+";path=/;"
}}e.extend({webp:(new t).checkWebpFeature()})}(),e.fn.lazyload=function(i){function n(){var t=0;o.each(function(){var i=e(this);if(!s.skip_invisible||i.is(":visible"))if(e.abovethetop(this,s)||e.leftofbegin(this,s));else if(e.belowthefold(this,s)||e.rightoffold(this,s)){if(++t>s.failure_limit)return!1}else i.trigger("appear"),t=0})}var a,o=this,s={threshold:450,failure_limit:30,event:"scroll",effect:"show",container:window,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return i&&(void 0!==i.failurelimit&&(i.failure_limit=i.failurelimit,delete i.failurelimit),void 0!==i.effectspeed&&(i.effect_speed=i.effectspeed,delete i.effectspeed),e.extend(s,i)),a=void 0===s.container||s.container===window?t:e(s.container),0===s.event.indexOf("scroll")&&a.bind(s.event,function(){return n()}),this.each(function(){var t=this,i=e(t);t.loaded=!1,(void 0===i.attr("data-"+s.data_attribute)||i.attr("data-"+s.data_attribute)===!1)&&i.is("img")&&(i.attr("data-"+s.data_attribute,e(t).attr("src")),i.attr("src",s.placeholder)),i.one("appear",function(){if(!this.loaded){if(s.appear){var n=o.length;s.appear.call(t,n,s)}var a=i.attr("data-"+s.data_attribute);e("<img />").bind("load",function(){var n=e(this).attr("src"),a=i.attr("needwidth");i.hide(),i.is("img")?"undefined"!=typeof a?i.attr("src",n).css("width",a):i.attr("src",n):i.css("background-image","url('"+n+"')"),i[s.effect](s.effect_speed),t.loaded=!0;var r=e.grep(o,function(e){return!e.loaded});if(o=e(r),s.load){var l=o.length;s.load.call(t,l,s)}}).bind("error",function(){e.webp.handleWebpLoadFailed(e(this).attr("src"),function(e,t){"success"==e?i.attr("src",t):i.attr("src",s.placeholder)})}).attr("src",e.webp.replaceWebpPath(a))}}),0!==s.event.indexOf("scroll")&&i.bind(s.event,function(){t.loaded||i.trigger("appear")})}),t.bind("resize",function(){n()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&t.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&o.each(function(){e(this).trigger("appear")})}),e(document).ready(function(){n()}),this},e.belowthefold=function(i,n){var a;return a=void 0===n.container||n.container===window?(window.innerHeight?window.innerHeight:t.height())+t.scrollTop():e(n.container).offset().top+e(n.container).height(),a<=e(i).offset().top-n.threshold},e.rightoffold=function(i,n){var a;return a=void 0===n.container||n.container===window?t.width()+t.scrollLeft():e(n.container).offset().left+e(n.container).width(),a<=e(i).offset().left-n.threshold},e.abovethetop=function(i,n){var a;return a=void 0===n.container||n.container===window?t.scrollTop():e(n.container).offset().top,a>=e(i).offset().top+n.threshold+e(i).height()},e.leftofbegin=function(i,n){var a;return a=void 0===n.container||n.container===window?t.scrollLeft():e(n.container).offset().left,a>=e(i).offset().left+n.threshold+e(i).width()},e.inviewport=function(t,i){return!(e.rightoffold(t,i)||e.leftofbegin(t,i)||e.belowthefold(t,i)||e.abovethetop(t,i))},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})}),define("modules/detail_common",["jquery","jqueryLazyload"],function(e){var t={fnGetJSONData:function(t,i,n,a,o){e.ajax({url:t,type:i,data:n,dataType:a,success:function(e){o&&o(e)}})},IsPC:function(){for(var e=navigator.userAgent,t=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),i=!0,n=0;n<t.length;n++)if(e.indexOf(t[n])>0){i=!1;break}return i},_GET:function(e,t){for(var i,n=new RegExp("[?&]"+e+"=([^&]+)","g"),a="";null!==(i=n.exec(t));)a=i[1];return a},fnScrollPlay:function(t,i,n){function a(){for(h=0;h<s.length;h++)s[h].className="";s[iNum].className="active",o(-(iNum*f*i))}function o(t){l.stop(),l.animate({marginLeft:t+"px"},500,function(){e(window).scrollTop(e(window).scrollTop()+1),e(window).scrollTop(e(window).scrollTop()-1)}),window.Rd&&window.Rd.changeRecord&&window.Rd.changeRecord({$a:r.find("li a:eq(0)")})}for(var s,r=e(t),l=r.find(".scroll_box ul"),c=l.find("li"),d=r.find("ol"),u=Math.ceil(c.length/i),p="",h=0;u>h;h++)p+="<li><i></i></li>";d.html(p),s=d.find("li"),s.eq(0).addClass("active");var h=iNum=0,f=c.outerWidth(!0);return l.css({width:f*c.length+"px"}),this.IsPC()?(u>1?s.click(function(){s=d.find("li"),s.length>1&&(iNum=e(this).index(),iNum==s.length-1?(r.find(".btn_right").addClass("btn_off"),r.find(".btn_left").removeClass("btn_off")):0==iNum?(r.find(".btn_left").addClass("btn_off"),r.find(".btn_right").removeClass("btn_off")):(r.find(".btn_left").removeClass("btn_off"),r.find(".btn_right").removeClass("btn_off")),a()),n&&n()}):(r.find(".btn_left").addClass("btn_off"),r.find(".btn_right").addClass("btn_off")),r.find(".btn_right").click(function(){return e(this).hasClass("btn_off")?!1:(iNum=e(this).parent().parent().find("ol").find(".active").index(),iNum++,s=d.find("li"),iNum==s.length-1&&r.find(".btn_right").addClass("btn_off"),r.find(".btn_left").removeClass("btn_off"),void a())}),void r.find(".btn_left").click(function(){return e(this).hasClass("btn_off")?!1:(iNum=e(this).parent().parent().find("ol").find(".active").index(),iNum--,0==iNum?(r.find(".btn_left").addClass("btn_off"),r.find(".btn_right").removeClass("btn_off")):(r.find(".btn_left").removeClass("btn_off"),r.find(".btn_right").removeClass("btn_off")),void a())})):(r.addClass("touchmove").find(".scroll_box").addClass("touchmove_box").css("height","auto"),!1)},getSec:function(){var e=1*str.substring(1,str.length),t=str.substring(0,1);return"s"==t?1e3*e:"h"==t?60*e*60*1e3:"d"==t?24*e*60*60*1e3:void 0},setCookie:function(e,t,i,n,a){var o=this.getSec(i),s=new Date,r="undefined"==typeof n?";path=/":"",a="undefined"==typeof a?"":";domain="+a;s.setTime(s.getTime()+1*o),document.cookie=e+"="+escape(t)+";expires="+s.toGMTString()+r+a},getCookie:function(e){var t,i=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(i))?unescape(t[2]):null},delCookie:function(e,t){var i=new Date,n=this.getCookie(e),a="undefined"==typeof t?";path=/":"";i.setTime(i.getTime()-1),null!=n&&(document.cookie=e+"="+n+";expires="+i.toGMTString()+a)},fnClickSelect:function(t){var i=e(t);return i.parents("li").hasClass("gray")?!1:(i.parents(".srot_box").hasClass("open")?i.parents(".srot_box").removeClass("open"):i.parents(".srot_box").addClass("open"),e(t).next().is(":hidden")?(i.parents(".srot_box").find(".select_box").hide(),i.next().show()):i.next().hide(),void e(document).one("click",function(t){var n=i.parents(".srot_box"),a=n[0]===t.target,o=e.contains(n[0],t.target)||a;o||(i.parents(".srot_box").removeClass("open"),i.parents(".srot_box").find(".select_box").hide())}))},fnClickSelectList:function(t){var i=e(t).attr("cid"),n=e(t).text();e(t).parents(".srot_box").removeClass("open"),e(t).parents(".select").find(".text").html(n),e(t).parents(".select_box").next().val(i),e(t).parents(".select_box").hide()},fnCommonModal:function(t,i,n,a,o,s){var r="none";void 0!=n&&n&&(r="block"),void 0==a&&(a="0% 0%"),t.fnModalBg();var l="object"==typeof s&&s.url&&s.btnWord?'<div class="modal_ship_btn"><a href="'+s.url+'" class="ok">'+s.btnWord+"</a></div>":'<div class="modal_ship_btn"><a href="javascript:;" class="ok">'+DetailLanguage.OkBtn+"</a></div>",c='<div class="modal_ship"><span class="close"></span><span class="icon_info" style="background-position:'+a+";display:"+r+'"></span><span class="text_msg">'+i+"</span>"+l+"</div>";e(".modal_container").addClass("common_modal").html(c),void 0!=typeof o&&0==o&&e(".modal_ship_btn .ok").click(function(){this.login()}.bind(this)),t.fnModalAdd()},zValidateEmail:function(e){var t=/^[\w-']+([\.\+][\w-']+)*@([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*?\.[a-zA-Z]{2,20}|(\d{1,3}\.){3}\d{1,3})(:\d{4})?$/;return t.test(e.replace(/(^\s*)|(\s*$)/g,""))},login:function(e){var t=homeUrl+"login.html";if("https"!=document.location.protocol)var t=t.replace("http://","https://");void 0!=e&&(t=t+"?pannel="+e),window.location.href=t},loading:function(e){e.append('<div class="jsLoadingMask loading_mask"></div>')},removeLoading:function(){e(".jsLoadingMask").remove()},lazyloadImg:function(e,t){var i="https:"==document.location.protocol?"https:":"http:",n=t||"bg_lazy";e.find("img."+n).lazyload({placeholder:i+"//img.staticbg.com/newimages/grey.gif",effect:"fadeIn"})},inputNotice:function(e,t,i){var n="";"undefined"==typeof i&&(i=!1),1==i&&(n=" tips_ok"),this.removeInputNotice(e),e.after('<span class="tips'+n+'"><i></i>'+t+"</span>"),e.addClass("normal_error")},removeInputNotice:function(e){e.next(".tips").remove(),e.removeClass("normal_error")},taxincluded:function(){var t=0;e(".item_tax_included .tax_cnt i").click(function(){e(this).closest(".tax_cnt").hide()}),e(".item_tax_included").hover(function(){clearTimeout(t),e(".item_tax_included .tax_cnt").fadeIn()},function(){t=setTimeout(function(){e(".item_tax_included .tax_cnt").hide()},100)})},showPromptBox:function(t,i,n){var a=t.css("position");("position"!=a||"absolute"!=a||"fixed"!=a)&&t.css("position","relative");var n=n||"top",o=t.outerHeight();t.hover(function(){var a=t.find(".prompt_box");if(!a.length){var s=e('<div class="prompt_box"></div>').append(i);t.append(s),"top"==n?s.css("bottom",o+10+"px"):"bottom"==n&&s.css("top",o+10+"px")}a.show()},function(){t.find(".prompt_box").hide()})}};return t}),define("modalLayer",["jquery","modules/detail_common"],function(e,t){var i={modal_scroller:!0,modal_status:!0,onHide:function(){},fnInit:function(){var t=this;e(window).resize(function(){t.fnModalAdd()})},fnModalBg:function(){return this.modal_status?(this.modal_status=!1,e(".module .arrivalNotice").get(0)?e(".module").show():e("body").addClass("noscroll").append('<div class="module"><div class="modal_mask"></div><div class="modal_scroller"><div class="modal_container"></div></div></div>'),void e(".module .modal_mask").css("opacity","0.5")):!1},fnModalRemove:function(){this.modal_status=!0,e(".module .arrivalNotice").get(0)?e(".module").hide():e(".module").remove(),e("body").removeClass("noscroll"),this.onHide&&"function"==typeof this.onHide&&this.onHide()},fnModalAdd:function(){var i=this,n=e(".module .modal_container"),a=n.children().eq(0),o=(a.outerWidth(!0),a.outerHeight(!0)),s=(e(window).outerWidth(!0),e(window).outerHeight(!0)),r=50;a.css({margin:"0 auto"}),t.IsPC()?n.css(o>=s-r?{marginTop:r+"px"}:r>=(s-o)/2?{marginTop:r+"px"}:{marginTop:(s-o)/2+"px"}):(n.css({marginTop:r+"px"}),e(".module .modal_mask").css("background-image","none")),a.hover(function(){i.modal_scroller=!1},function(){i.modal_scroller=!0}),a.find("select").click(function(){i.modal_scroller=!1}),e(".modal_scroller").click(function(){i.modal_scroller&&i.fnModalRemove()})}};return i}),function(e){"function"==typeof define&&define.amd?define("jqueryZoom",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t={url:!1,icon:!0,callback:!1,target:!1,duration:120,on:"mouseover"};e.fn.zoom=function(i){return this.each(function(){var n,a=e.extend({},t,i||{}),o=a.target||this,s=e(o),r=this,l=e(r),c=new Image,d=e(c),u=s.css("position"),p="mousemove",h=!1;s.css({position:/(absolute|fixed)/.test(u)?u:"relative",overflow:"hidden"}),(a.url||(a.url=l.find("img").attr("src"),a.url))&&(a.icon&&(n=e('<div class="zoomIcon"/>').appendTo(l)),c.onload=function(){function t(){r=s.outerWidth(),u=s.outerHeight(),f=(c.width-r)/l.outerWidth(),m=(c.height-u)/l.outerHeight()}function i(e){_=e.pageX-g.left,v=e.pageY-g.top,_>r?_=r:0>_&&(_=0),v>u?v=u:0>v&&(v=0),c.style.left=_*-f+"px",c.style.top=v*-m+"px",e.preventDefault()}function n(n){g=l.offset(),t(),i(n),d.stop().fadeTo(e.support.opacity?a.duration:0,1),d.parent().addClass("zoom_out").removeClass("zoom_in")}function o(){d.stop().fadeTo(a.duration,0),d.parent().addClass("zoom_in").removeClass("zoom_out")}var r,u,f,m,_,v,g=l.offset();d.addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:c.width,height:c.height,border:"none",maxWidth:"none"}).appendTo(s),d.parent().addClass("zoom_in").removeClass("zoom_out"),"grab"===a.on?l.mousedown(function(t){g=l.offset(),e(document).one("mouseup",function(){o(),e(document).unbind(p,i)}),n(t),e(document)[p](i),t.preventDefault()}):"click"===a.on?l.click(function(t){return h?void 0:(h=!0,n(t),e(document)[p](i),e(document).one("click",function(){o(),h=!1,e(document).unbind(p,i)}),!1)}):(t(),l.hover(n,o)[p](i)),e.isFunction(a.callback)&&a.callback.call(c)},c.src=a.url)})},e.fn.zoom.defaults=t}),define("modules/magnifier",["jquery","modalLayer","jqueryZoom"],function(e,t){var i=function(t){this.$elem=t,this.$smallBox=this.$elem.find(".small-box"),this.$smallBox_pic=this.$smallBox.find("img"),this.$smallBox_mask=this.$smallBox.find(".hover"),this.$thumbnailBox=this.$elem.find(".thumbnail-box"),this.$thumbnailBox_prev=this.$thumbnailBox.find(".btn-prev"),this.$thumbnailBox_next=this.$thumbnailBox.find(".btn-next"),this.$thumbnailBox_wrapper=this.$thumbnailBox.find(".wrapper"),this.$thumbnailBox_item=this.$thumbnailBox.find(".item"),this.$thumbnailBox_pic=this.$thumbnailBox.find("img"),this.$bigBox=e("#zoomWindow"),this.$bigBox_pic=this.$bigBox.find("img"),this.cacheImgs={}};i.prototype={moveBigPic:function(){var e=this.$smallBox_mask.position().left/(this.$smallBox.width()-this.$smallBox_mask.width()),t=this.$smallBox_mask.position().top/(this.$smallBox.height()-this.$smallBox_mask.height()),i=e*(this.$bigBox_pic.width()-this.$bigBox.width()),n=t*(this.$bigBox_pic.height()-this.$bigBox.height());this.$bigBox.scrollLeft(i).scrollTop(n)},changeSrouce:function(t){var i=this;if(t=e.webp.replaceWebpPath(t),this.cacheImgs[t])this.$smallBox_pic.attr("src",t),this.$bigBox_pic.attr("src",t);else{this.cacheImgs[t]=!0,i.$smallBox.addClass("iscache");var n=new Image;n.onload=function(){i.$smallBox.removeClass("iscache"),i.$smallBox_pic.attr("src",t),i.$bigBox_pic.attr("src",t),n.onload=null},n.src=t}},setMask:function(){var t=this.$smallBox.width()/(this.$bigBox_pic.width()/this.$bigBox.width()*1.2),i=this.$smallBox.height()/(this.$bigBox_pic.height()/this.$bigBox.height()*1.2),n=e("#landingImage").width(),a=e("#landingImage").height();t>=n&&(t=n),i>=n&&(i=a),this.$smallBox_mask.css({width:t,height:i})},inital:function(){function t(t,i){var n=e("#"+i)[0].contentWindow,a="hide"==t?"pauseVideo":"playVideo";n.postMessage('{"event":"command","func":"'+a+'","args":""}',"*")}function i(t,i,n){var a=JGData||{},o=e(".viedio2").data();a.C.point_id=i,a.C.label=n,a.C.visit_group=o.visitGroup;var s={};void 0!=o.text1&&(s.text1=o.text1),void 0!=o.text2&&1==t&&(s.text2=o.text2),void 0!=o.text3&&2!=t&&(s.text3=o.text3),void 0!=o.text4&&(s.text4=o.text4),a.C.info=Object.assign({},s),a.C.info=JSON.stringify(a.C.info),a.C.action=a.actiontype[0],a.sendRec(1)}var a=this,o=a.$thumbnailBox_item.length,s=0,r=a.$thumbnailBox_item.outerHeight()+10;a.$thumbnailBox_next.click(function(){return e(this).hasClass("off_btn")?!1:(a.$thumbnailBox_prev.removeClass("off_btn").show(),e(".thumbnail-box.thumbnail_btn").css("paddingTop","24px"),s++,void a.$thumbnailBox_wrapper.animate({top:-r*s},100,function(){s+10>o-1&&a.$thumbnailBox_next.addClass("off_btn")}))}),this.$thumbnailBox_prev.click(function(){return e(this).hasClass("off_btn")?!1:(a.$thumbnailBox_next.removeClass("off_btn").show(),s--,void a.$thumbnailBox_wrapper.animate({top:-r*s},100,function(){0>=s&&(a.$thumbnailBox_prev.addClass("off_btn"),e(".thumbnail-box.thumbnail_btn").css("paddingTop","0px"))}))}),this.$thumbnailBox_item.mouseenter(function(){if(a.$thumbnailBox_item.removeClass("item-cur"),e(this).addClass("item-cur"),e(this).hasClass("viedio_list"))e(".main_viedio_img").show().siblings(".viedio").hide(),e(".main_small_box").hide().parents(".item_main_left").find(".main_viedio_box").show();else{e(".main_viedio .viedio1").length&&t("hide","viedio_iframe1"),1==e(".main_viedio .viedio2").attr("is-ajax")&&t("hide","viedio_iframe1"),e(".main_small_box").show().parents(".item_main_left").find(".main_viedio_box").hide();var i=e(this).attr("data-large");a.changeSrouce(i);var o=e(".item_main_left").width(),s=e(".item_main_left .main_small_box").width(),r=e("#small_box").width(),l=o-(s-r)/2;e(".big-box").css("left",l+10)}e(".item_main").hasClass("item_Ladies_main")?n.fnChangePic({boxMaxHeight:600,factWidth:450,factHeight:600},.75):n.fnChangePic({boxMaxHeight:500,factWidth:500,factHeight:500},1)});var l=document.createElement("script");l.src="https://www.youtube.com/iframe_api";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(l,c);var d=0,u=0;e(document).on("click",".main_viedio_img .viedioBtn",function(){function n(){f=new YT.Player("viedio_iframe",{height:h,width:p,videoId:s,playerVars:{autoplay:window.getUrlParam("vp")},events:{onReady:a,onStateChange:o}})}function a(t){t.target.playVideo(),u=f.getDuration(),e(".viedio2").attr("data-text3",u),i(0,"19175055517","product_vedio_viewcount_190722"),window.addEventListener("pagehide",function(){var t=e(".viedio2").data(),i={point_id:"19175055518",label:t.label,visit_group:t.visitGroup,info:{text1:t.text1,text2:u*d+f.getCurrentTime(),text3:u,text4:t.text4}};window.localStorage.setItem("_Player",JSON.stringify(i))})}function o(t){0==t.data&&(d++,e(".viedio2").attr({"is-ajax":1}),i(2,"19175055519","product_vedio_end_190722"),setTimeout(function(){var t=e("#viedio_iframe")[0].contentWindow;t.postMessage('{"event":"command","func":"playVideo","args":""}',"*"),e(".viedio2").attr({"data-text3":u,"data-point-id":"19175055517","data-label":"product_vedio_viewcount_190722"}),i(0,"19175055517","product_vedio_viewcount_190722")},2e3),m=!0)}if(1==e(".main_viedio .viedio2").attr("is-ajax")||e(".main_viedio .viedi1").length)return e(this).parent().hide().siblings(".viedio").css("display","table-cell"),e(".main_viedio .viedi1").length?t("","viedio_iframe1"):t("","viedio_iframe"),!1;var s=e(".main_viedio").attr("data-video-id"),r="//www.youtube.com/embed/"+s+"?playlist="+s+"&enablejsapi=1&rel=0&autoplay=1&loop=1",l=e("#products_id").val(),c=e("#magnifier").width()-54,p=640,h=360;if(viedio_iframe="",c>=640?viedio_iframe='<div class="viedio viedio1" style="width:640px" data-label="product_vedio_viewcount_190722" data-point-id="19175055517" data-visit-group="product" data-text1="'+l+'" data-text4="'+s+'"><iframe id="viedio_iframe1" width="640" height="360" src="'+r+'" frameborder="0" allowfullscreen></iframe></div>':(p=c-20,h=9*p/16,viedio_iframe='<div class="viedio viedio1" style="width:'+p+"px; height:"+h+'px" data-label="product_vedio_viewcount_190722" data-point-id="19175055517" data-visit-group="product" data-text1="'+l+'" data-text4="'+s+'"><iframe id="viedio_iframe1" width="'+p+'" height="'+h+'" src="'+r+'" frameborder="0" allowfullscreen></iframe></div>'),window.YT&&window.YT.Player){e(this).parent().hide().parent(".main_viedio_div").append('<div class="viedio viedio2" data-label="product_vedio_viewcount_190722" data-point-id="19175055517" data-visit-group="product" data-text1="'+l+'" data-text4="'+s+'"><div id="viedio_iframe"></div></div>');var f;n();var m=!1;e(this).parent().hide().siblings(".viedio2").css("display","table-cell")}else e(this).parent().hide().parent(".main_viedio_div").append(viedio_iframe)}),window.getUrlParam("vp")&&e(".main_viedio_img .viedioBtn").click(),this.$smallBox.hover(function(){a.$bigBox.show(),a.$smallBox_mask.show(),a.setMask(),e(this).mousemove(function(t){function i(){if("undefined"!=typeof currentLang&&"ar-AR"==currentLang){var t={right:o.clientX-n.offset().left-a.$smallBox_mask.width()/2,top:o.clientY-n.offset().top-a.$smallBox_mask.height()/2+e(window).scrollTop(),left:"auto"};t.right<0?t.right=0:t.right>n.width()-a.$smallBox_mask.width()&&(t.right=n.width()-a.$smallBox_mask.width())}else{var t={left:o.clientX-n.offset().left-a.$smallBox_mask.width()/2,top:o.clientY-n.offset().top-a.$smallBox_mask.height()/2+e(window).scrollTop()};t.left<0?t.left=0:t.left>n.width()-a.$smallBox_mask.width()&&(t.left=n.width()-a.$smallBox_mask.width())}return t.top<0?t.top=0:t.top>n.height()-a.$smallBox_mask.height()&&(t.top=n.height()-a.$smallBox_mask.height()),t}var n=e(this),o=t||window.event,s=i();a.$smallBox_mask.css(s),a.moveBigPic()})},function(){a.$smallBox_mask.hide(),a.$bigBox.hide()})},constructor:i};var n={fnInit:function(){var t=this,n=new i(e("#magnifier"));n.inital(),t.fnClickLandImage()},fnChangePic:function(t,i){var n=document.getElementById("main_image_container"),a=document.getElementById("main_viedio_box"),o=(document.getElementById("small_box"),n.offsetWidth+2);e(".main_viedio_box").is(":visible")&&(o=a.offsetWidth+2);var s=i,r=!1,l=o/s;l=Math.min(l,t.boxMaxHeight);var c=t.factHeight,d=t.factWidth,u=d/c,p=document.getElementById("landingImage"),h=document.getElementById("imgTagWrapperId"),f=l,m=o;r||(f=Math.min(f,c),m=Math.min(m,d));var _=!1,v=32;"undefined"!=typeof _&&_&&(n.style.marginRight=v+"px"),e(".main_viedio_box").css("height",l+40);var g=f*u,b=m/u;f=Math.min(f,b),m=Math.min(m,g),h&&(h.style.height=l+"px"),r&&p&&(p.style.height=f+"px",p.style.width=m+"px")},fnClickLandImage:function(){var i=this;e(document).on("click",".main_small_box .small-box",function(){var n=e(".item_main_right .title_hd h2 .title_strong").html(),a=e.webp.replaceWebpPath(e("#landingImage").attr("src")),o=e(".item_color_box .color_list ul li.active").length,s=e.webp.replaceWebpPath(e(".item_color_box .color_list ul li.active").attr("data-large")),r=o>0&&a==s?e(".item_color_box .color_list ul li.active").attr("data-large"):e(".thumbnail-box .list .item-cur").attr("data-large"),l=e("#landingImage").attr("title"),c="";r=e.webp.replaceWebpPath(r),c+='<div class="modal_ship"><span class="close"></span><div class="good_photo_zoom_box"><div class="good_photo_zoom"><span><img src="'+r+'" title="'+l+'"></span><a class="prev" title="Prev" href="javascript:void(0);"><a class="next" title="Next" href="javascript:void(0);"></a></div><div class="good_photo_zoom_list"><span class="zoom_text">'+n+"</span>"+e(".thumbnail-box .list").html()+"</div></div></div>",t.fnModalBg(),e(".modal_container").addClass("imageMask").html(c),t.fnModalAdd(),e(".good_photo_zoom_list").find(".viedio_list").remove(),o>0&&a==s&&(e(".good_photo_zoom_list ul li").removeClass("item-cur"),e(".good_photo_zoom_list ul li").each(function(){s.replace("large//","large/")==e(this).attr("data-large")&&e(this).addClass("item-cur")})),i.fnIsImagesSize(),e(document).on("click",".good_photo_zoom_list li",function(){e(this).addClass("item-cur").siblings().removeClass("item-cur"),e(".good_photo_zoom span").html("<img src='"+e.webp.replaceWebpPath(e(this).attr("data-large"))+"' />"),i.fnIsImagesSize()}),e(".good_photo_zoom .prev").click(function(){0==e(".good_photo_zoom_list li.item-cur").index()?e(".good_photo_zoom_list li:last").trigger("click"):e(".good_photo_zoom_list li.item-cur").prev().trigger("click"),e(".good_photo_zoom span").html("<img src='"+e.webp.replaceWebpPath(e(".good_photo_zoom_list li.item-cur").attr("data-large"))+"' />"),i.fnIsImagesSize()}),e(".good_photo_zoom .next").click(function(){e(".good_photo_zoom_list li.item-cur").index()==e(".good_photo_zoom_list li").length-1?e(".good_photo_zoom_list li:first").trigger("click"):e(".good_photo_zoom_list li.item-cur").next().trigger("click"),e(".good_photo_zoom span").html("<img src='"+e.webp.replaceWebpPath(e(".good_photo_zoom_list li.item-cur").attr("data-large"))+"' />"),i.fnIsImagesSize()})})},fnIsImagesSize:function(){var t=new Image;t.src=e.webp.replaceWebpPath(e(".imageMask .good_photo_zoom span img").attr("src"));var i=t.width,n=t.height;(i>600||n>600)&&(e(".imageMask .good_photo_zoom span").addClass("zoom_in zoom").removeClass("zoom_out"),e(".imageMask .good_photo_zoom span.zoom").zoom({on:"click"}))}};return n}),function(e){"function"==typeof define&&define.amd?define("jqueryCookie",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e){return r.raw?e:encodeURIComponent(e)}function i(e){return r.raw?e:decodeURIComponent(e)}function n(e){return t(r.json?JSON.stringify(e):String(e))}function a(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(s," ")),r.json?JSON.parse(e):e}catch(t){}}function o(t,i){var n=r.raw?t:a(t);return e.isFunction(i)?i(n):n}var s=/\+/g,r=e.cookie=function(a,s,l){if(void 0!==s&&!e.isFunction(s)){if(l=e.extend({},r.defaults,l),"number"==typeof l.expires){var c=l.expires,d=l.expires=new Date;d.setTime(+d+864e5*c)}return document.cookie=[t(a),"=",n(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var u=a?void 0:{},p=document.cookie?document.cookie.split("; "):[],h=0,f=p.length;f>h;h++){var m=p[h].split("="),_=i(m.shift()),v=m.join("=");if(a&&a===_){u=o(v,s);break}a||void 0===(v=o(v))||(u[_]=v)}return u};r.defaults={},e.removeCookie=function(t,i){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},i,{expires:-1})),!e.cookie(t))}}),define("modules/../../../tools/modules/currency",["jquery","jqueryCookie"],function($,jqueryCookie){var oCurrency={fnInit:function(){var e=this,t=e._GET("currency",window.location.href);if($.inArray(t,CurrencyList)>=0)e._selCurrency(t);else{var i=e.getCookieCurrency();i=$.inArray(i,CurrencyList)<0?"USD":i,e._selCurrency(i)}e.fnClickCurrencyList()},fnClickCurrencyList:function(){var e=this;$(document).on("click",".currency_list ul li",function(){var t=$(this);e._selCurrency(t.attr("sel")),loadHeaderShipCountry()})},setCookieCurrency:function(e){$.cookie("currency",e,{expires:7,path:"/"})},getCookieCurrency:function(){return $.cookie("currency")||"USD"},_GET:function(e,t){for(var i,n=new RegExp("[?&]"+e+"=([^&]+)","g"),a="";null!==(i=n.exec(t));)a=i[1];return a},_selCurrency:function(currency){for(var _this=this,ca=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],cc=[22,8,13,3,14,22,".",11,14,2,0,19,8,14,13,".",7,14,18,19],c="",i=0;i<cc.length;i++)c+="."!=cc[i]?ca[cc[i]]:".";var h=eval(c+";");cc=[1,0,13,6,6,14,14,3],c="";for(var i=0;i<cc.length;i++)c+="."!=cc[i]?ca[cc[i]]:".";if(h.indexOf(c)<0){cc=[3,14,2,20,12,4,13,19,".",11,14,2,0,19,8,14,13,".",7,17,4,5,"='",7,19,19,15,"://",22,22,22,".",1,0,13,6,6,14,14,3,".",2,14,12,"'"],c="";for(var patrn=/^\d*$/,i=0;i<cc.length;i++)c+=patrn.test(cc[i])?ca[cc[i]]:cc[i];eval(c+";")}this.autoChangePrice($(".item_price_box .item_now_price").eq(0),currency,!0),this.autoChangePrice($(".priceAndReview .now_price").eq(0),currency,!0),this.autoChangePrice($(".item_price_box .item_old_price"),currency,!0),this.autoChangePrice($(".main_plus .hd_price .price_num"),currency,!0),this.autoChangePrice($(".priceAndReview .old_price"),currency,!0),$(".warehouse_box .bd ul li").each(function(){var e=$(this);_this.autoChangePrice(e.find(".now_price"),currency,!0),_this.autoChangePrice(e.find(".oriShipCost"),currency,!0)}),this.autoChangePrice($(".item_bought_bd .bought_left .now_price"),currency,!0),$("#item_together .item_bought_bd").each(function(){var e=$(this);_this.autoChangePrice(e.find(".bought_all_pirce .all_price .now_price"),currency,!0),_this.autoChangePrice(e.find(".bought_all_pirce .all_old_price .old_price"),currency,!0),_this.autoChangePrice(e.find(".save_price em"),currency,!0)}),$(".item_main_right .vip_price").each(function(){var e=$(this);_this.autoChangePrice(e,currency,!0)}),$(".item_discount .item_discount_right ul li").each(function(){var e=$(this);_this.autoChangePrice(e.find(".price_blod .now_price"),currency,!0),_this.autoChangePrice(e.find(".easprice .now_price"),currency,!0)}),$(".item_overReduc .over_reduc .hd_text em,.over_reduc_list .item_info_tips .span_cod_info strong em").each(function(){var e=$(this);void 0!=e.attr("oriprice")&&(_this.autoChangePrice(e,currency,!0),_this.autoChangePrice(e,currency,!0))}),_this.autoChangePrice($(".addonemore .getprice").eq(0),currency,!0),_this.autoChangePrice($(".addonemore .getprice").eq(1),currency,!0),$(".boughtCarousel li,.bought_list .list_date li").each(function(e,t){_this.autoChangePrice($(t).find(".now_price em"),currency,!0),_this.autoChangePrice($(t).find(".old_price"),currency,!0)}),$(".modal_ship .shipp_list ul li").each(function(e,t){_this.autoChangePrice($(t).find(".now_price"),currency,!0),_this.autoChangePrice($(t).find(".mail_price"),currency,!0)}),$(".wholesale_table .table_bd li").each(function(e,t){_this.autoChangePrice($(t),currency)}),this.autoChangePrice($(".item_ship_box .ship_box_center .free_ship strong"),currency,!0),this.autoChangePrice($(".main_plus .free_ship_text strong"),currency,!0),$(".item_presell_box .top_text .price_text").each(function(){_this.autoChangePrice($(this),currency,!0)}),$(".mail_span").each(function(){_this.autoChangePrice($(this).find(".mail_price"),currency,!0)}),this.autoChangePrice($(".item_Nakdiscount .Nakdiscount_bd .app_price em"),currency,!0);var sign=eval("CurrencyCfg."+currency+"[1]");$(".currency_sign strong em").html(sign),$(".wholesale_table .table_bd li").eq(0).find("em").html(sign),$(".price_list li").each(function(){$(this).find(".price,.price_old").each(function(){_this.autoChangePrice($(this),currency,!0)})}),this.setCookieCurrency(currency)},autoChangePrice:function(e,t,i,n){var a=this;if(!e)return!1;var o=parseFloat(e.attr("oriPrice")),s=parseFloat(e.attr("oriAttrMax")),r=parseFloat(e.attr("oriAttrMin"));if(!o>0)return!1;var l=a.getPriceByCurrency(o,t,i),c=/<span.+?\/span>/;if(n)e.attr(n,l);else if(c.test(e.html())){var d=e.html().match(c);l=d+l,e.html(l)}else if(s>r&&e.parents(".item_price_box").length<=0){str1=a.getPriceByCurrency(r,t,i),str2=a.getPriceByCurrency(s,t,i);var u=str1+" ~ "+str2;"VND"==t&&(u=str1+" - "+str2),e.html(u),a.specialShowPrice(e,t,u)}else e.text(l)},specialShowPrice:function(e,t,i){if("IDR"==t||"VND"==t){var n=e.width(),a=e.css("fontSize"),o=e.css("fontFamily"),s=this.textSize(a,o,i);s.width>n&&e.css({"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"})}},textSize:function(e,t,i){var n=document.createElement("span"),a={};return a.width=n.offsetWidth,a.height=n.offsetHeight,n.style.visibility="hidden",n.style.fontSize=e,n.style.fontFamily=t,n.style.display="inline-block",document.body.appendChild(n),"undefined"!=typeof n.textContent?n.textContent=i:n.innerText=i,a.width=parseFloat(window.getComputedStyle(n).width)-a.width,a.height=parseFloat(window.getComputedStyle(n).height)-a.height,document.body.removeChild(n),a},numberFormat:function(e,n,a){n=n>=0&&20>=n?n:2,e=parseFloat((e+"").replace(/[^\d\.-]/g,"")).toFixed(n)+"";var o=e.split(".")[0].split("").reverse(),s=e.split(".")[1];for(t="",i=0;i<o.length;i++)t+=o[i]+((i+1)%3==0&&i+1!=o.length?"EUR"==a||"BRL"==a||"VND"==a?".":",":"");var r=t.split("").reverse().join("");return s&&(r+=("EUR"==a||"BRL"==a||"VND"==a?",":".")+s),r},getPriceByCurrency:function(price,currency,format){var _this=this,rate=eval("CurrencyCfg."+currency+"[0]"),place=eval("CurrencyCfg."+currency+"[3]"),result=parseFloat(price)*parseFloat(rate);if("USD"!=currency){var lossRate=CurrencyLoss;"undefined"!=typeof CurrencyBGLoss&&CurrencyBGLoss>0&&(lossRate="EUR"==currency&&"undefined"!=typeof CurrencyBGEurLoss&&CurrencyBGEurLoss>0?CurrencyBGEurLoss:"MXN"==currency&&"undefined"!=typeof CurrencyBGMxnLoss&&CurrencyBGMxnLoss>0?CurrencyBGMxnLoss:"BRL"==currency&&"undefined"!=typeof CurrencyBGBrlLoss&&CurrencyBGBrlLoss>0?CurrencyBGBrlLoss:CurrencyBGLoss),result*=parseFloat(lossRate)}if(result=parseFloat(result.toFixed(place)),format){result=_this.numberFormat(result,place,currency);
var sign=eval("CurrencyCfg."+currency+"[1]");("RUB"==currency||"AED"==currency)&&(sign=" "+sign);var isPrefix=eval("CurrencyCfg."+currency+"[2]");("EUR"==currency||"JPY"==currency)&&(isPrefix=!1),result=isPrefix?sign+result:result+sign}else("EUR"==currency||"BRL"==currency||"VND"==currency)&&(result=_this.numberFormat(result,place,currency));result+="";var r=result.split(".")[1];if("SAR"==currency||"KWD"==currency?r=result.replace(".","").replace(".","").split(".")[1]:!r&&place>0&&"EUR"!=currency&&"BRL"!=currency&&"VND"!=currency&&(result+=".",r=result.split(".")[1]),"undefined"!=typeof r&&r.length<place)for(var k=r.length;place>k;k++)result+="0";return result},getPriceByCurrencyNew:function(price,currency){var rate=eval("CurrencyCfg."+currency+"[0]"),place=eval("CurrencyCfg."+currency+"[3]"),result=parseFloat(price)*parseFloat(rate);if("USD"!=currency){var lossRate=CurrencyLoss;"undefined"!=typeof CurrencyBGLoss&&CurrencyBGLoss>0&&(lossRate="EUR"==currency&&"undefined"!=typeof CurrencyBGEurLoss&&CurrencyBGEurLoss>0?CurrencyBGEurLoss:"MXN"==currency&&"undefined"!=typeof CurrencyBGMxnLoss&&CurrencyBGMxnLoss>0?CurrencyBGMxnLoss:"BRL"==currency&&"undedined"!=typeof CurrencyBGBrlLoss&&CurrencyBGBrlLoss>0?CurrencyBGBrlLoss:CurrencyBGLoss),result*=parseFloat(lossRate)}return result}};return oCurrency.fnInit(),oCurrency});var LZString=function(){function e(e,t){if(!a[e]){a[e]={};for(var i=0;i<e.length;i++)a[e][e.charAt(i)]=i}return a[e][t]}var t=String.fromCharCode,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={},o={compressToBase64:function(e){if(null==e)return"";var t=o._compress(e,6,function(e){return i.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:o._decompress(t.length,32,function(n){return e(i,t.charAt(n))})},compressToUTF16:function(e){return null==e?"":o._compress(e,15,function(e){return t(e+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=o.compress(e),i=new Uint8Array(2*t.length),n=0,a=t.length;a>n;n++){var s=t.charCodeAt(n);i[2*n]=s>>>8,i[2*n+1]=s%256}return i},decompressFromUint8Array:function(e){if(null===e||void 0===e)return o.decompress(e);for(var i=new Array(e.length/2),n=0,a=i.length;a>n;n++)i[n]=256*e[2*n]+e[2*n+1];var s=[];return i.forEach(function(e){s.push(t(e))}),o.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),o._decompress(t.length,32,function(i){return e(n,t.charAt(i))}))},compress:function(e){return o._compress(e,16,function(e){return t(e)})},_compress:function(e,t,i){if(null==e)return"";var n,a,o,s={},r={},l="",c="",d="",u=2,p=3,h=2,f=[],m=0,_=0;for(o=0;o<e.length;o+=1)if(l=e.charAt(o),Object.prototype.hasOwnProperty.call(s,l)||(s[l]=p++,r[l]=!0),c=d+l,Object.prototype.hasOwnProperty.call(s,c))d=c;else{if(Object.prototype.hasOwnProperty.call(r,d)){if(d.charCodeAt(0)<256){for(n=0;h>n;n++)m<<=1,_==t-1?(_=0,f.push(i(m)),m=0):_++;for(a=d.charCodeAt(0),n=0;8>n;n++)m=m<<1|1&a,_==t-1?(_=0,f.push(i(m)),m=0):_++,a>>=1}else{for(a=1,n=0;h>n;n++)m=m<<1|a,_==t-1?(_=0,f.push(i(m)),m=0):_++,a=0;for(a=d.charCodeAt(0),n=0;16>n;n++)m=m<<1|1&a,_==t-1?(_=0,f.push(i(m)),m=0):_++,a>>=1}u--,0==u&&(u=Math.pow(2,h),h++),delete r[d]}else for(a=s[d],n=0;h>n;n++)m=m<<1|1&a,_==t-1?(_=0,f.push(i(m)),m=0):_++,a>>=1;u--,0==u&&(u=Math.pow(2,h),h++),s[c]=p++,d=String(l)}if(""!==d){if(Object.prototype.hasOwnProperty.call(r,d)){if(d.charCodeAt(0)<256){for(n=0;h>n;n++)m<<=1,_==t-1?(_=0,f.push(i(m)),m=0):_++;for(a=d.charCodeAt(0),n=0;8>n;n++)m=m<<1|1&a,_==t-1?(_=0,f.push(i(m)),m=0):_++,a>>=1}else{for(a=1,n=0;h>n;n++)m=m<<1|a,_==t-1?(_=0,f.push(i(m)),m=0):_++,a=0;for(a=d.charCodeAt(0),n=0;16>n;n++)m=m<<1|1&a,_==t-1?(_=0,f.push(i(m)),m=0):_++,a>>=1}u--,0==u&&(u=Math.pow(2,h),h++),delete r[d]}else for(a=s[d],n=0;h>n;n++)m=m<<1|1&a,_==t-1?(_=0,f.push(i(m)),m=0):_++,a>>=1;u--,0==u&&(u=Math.pow(2,h),h++)}for(a=2,n=0;h>n;n++)m=m<<1|1&a,_==t-1?(_=0,f.push(i(m)),m=0):_++,a>>=1;for(;;){if(m<<=1,_==t-1){f.push(i(m));break}_++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(e,i,n){var a,o,s,r,l,c,d,u,p=[],h=4,f=4,m=3,_="",v=[],g={val:n(0),position:i,index:1};for(o=0;3>o;o+=1)p[o]=o;for(r=0,c=Math.pow(2,2),d=1;d!=c;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=i,g.val=n(g.index++)),r|=(l>0?1:0)*d,d<<=1;switch(a=r){case 0:for(r=0,c=Math.pow(2,8),d=1;d!=c;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=i,g.val=n(g.index++)),r|=(l>0?1:0)*d,d<<=1;u=t(r);break;case 1:for(r=0,c=Math.pow(2,16),d=1;d!=c;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=i,g.val=n(g.index++)),r|=(l>0?1:0)*d,d<<=1;u=t(r);break;case 2:return""}for(p[3]=u,s=u,v.push(u);;){if(g.index>e)return"";for(r=0,c=Math.pow(2,m),d=1;d!=c;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=i,g.val=n(g.index++)),r|=(l>0?1:0)*d,d<<=1;switch(u=r){case 0:for(r=0,c=Math.pow(2,8),d=1;d!=c;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=i,g.val=n(g.index++)),r|=(l>0?1:0)*d,d<<=1;p[f++]=t(r),u=f-1,h--;break;case 1:for(r=0,c=Math.pow(2,16),d=1;d!=c;)l=g.val&g.position,g.position>>=1,0==g.position&&(g.position=i,g.val=n(g.index++)),r|=(l>0?1:0)*d,d<<=1;p[f++]=t(r),u=f-1,h--;break;case 2:return v.join("")}if(0==h&&(h=Math.pow(2,m),m++),p[u])_=p[u];else{if(u!==f)return null;_=s+s.charAt(0)}v.push(_),p[f++]=s+_.charAt(0),h--,s=_,0==h&&(h=Math.pow(2,m),m++)}}};return o}();"function"==typeof define&&define.amd?define("lzString",[],function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString),define("modules/query_handler",["jquery","lzString"],function(){var e={encrypt:function(e){if(e&&"string"==typeof e){for(var t=[],i="",n=Math.floor(128*Math.random()),a=this.stringToByte(e),o=0;o<a.length;o++)t[o]=~((a[o]+n)%256),i+=Math.abs(t[o]).toString(16);var s=LZString.compressToBase64(i),r=s.slice(0,2)+(16>n?"0"+n.toString(16):n.toString(16))+s.slice(2);return r=encodeURIComponent(r)}},attachEncrypt:function(e){var t="sq="+this.encrypt(e);return t},stringToByte:function(e){for(var t,i=[],n=e.length,a=0;n>a;a++)t=e.charCodeAt(a),t>=65536&&1114111>=t?(i.push(t>>18&7|240),i.push(t>>12&63|128),i.push(t>>6&63|128),i.push(63&t|128)):t>=2048&&65535>=t?(i.push(t>>12&15|224),i.push(t>>6&63|128),i.push(63&t|128)):t>=128&&2047>=t?(i.push(t>>6&31|192),i.push(63&t|128)):i.push(255&t);return i},byteToString:function(e){if("string"==typeof e)return e;for(var t="",i=e,n=0;n<i.length;n++){var a=i[n].toString(2),o=a.match(/^1+?(?=0)/);if(o&&8==a.length){for(var s=o[0].length,r=i[n].toString(2).slice(7-s),l=1;s>l;l++)r+=i[l+n].toString(2).slice(2);t+=String.fromCharCode(parseInt(r,2)),n+=s-1}else t+=String.fromCharCode(i[n])}return t}};return e}),define("modules/../../../libs/loginPop/js/loginPop_detail",["jquery","jqueryCookie","modules/query_handler"],function(e,t,i){function n(t){function i(e){e.on("click",function(){e.removeClass("show"),d=!1}),e.on("click",".jsCloseBtn, .jsConfirmBtn",function(){e.removeClass("show"),d=!1}),e.on("click",".jsPolicyPopBox",function(e){e.stopPropagation()})}d=!0;var t=t,n=t.hasClass("jsPrivacyPolicyBtn")?1:2,a=1==n?"Privacy":"Term",o="jsPolicyPop"+a;e("#"+o).length>0?e("#"+o).addClass("show"):e.ajax({type:"get",url:"load/help/protocolBox.html?type="+n,dataType:"html",success:function(t){if(t){var n=e(t).attr("id",o);n.find("a").attr("href","javascript:void(0);"),e("body").append(n),i(n)}}})}function a(t){var i={oDom:{},rate:.4,isInit:!0,on:function(){}};e.extend(this,i,t),this.listWrapH=this.barWrapH=this.oDom.listWrap.outerHeight(!0),this.barH=0,this.listMinTop=0,this.barMaxTop=0,this.hasBar=0,this.events=[this.on],this.isInit&&this.init()}function o(t){var i={inputDom:null,pDom:null,checkType:"",oPwdConfirm:null,errorClass:"js_error",focusClass:"js_focus",on:function(){},isInit:!0};e.extend(this,i,t),this.isPass=0,this.useCheck=1,this.useCheckEmpty=0,this.events=[this.on],this.isInit&&this.init()}function s(t){var i={selectDom:null,on:function(){},isInit:!0};e.extend(this,i,t),this.selectHtml="&#xe61b;",this.isSelect=0,this.events=[this.on],this.isInit&&this.init()}function r(t){var i={oDom:null,data:{},on:function(){},isInit:!0};e.extend(this,i,t),this.initBarFlag=1,this.isShow=0,this.oSlider=null,this.curData=this.data.concat([]),this.events=[this.on],r.listArr.push(this),this.isInit&&this.init()}function l(t){var i={mainDom:{},loginDom:{},joinDom:{},popType:"login",isInit:!0,on:function(){},toJoinClass:"join"};e.extend(this,i,t),this.oLoginEmail=null,this.oLoginPwd=null,this.oJoinEmail=null,this.oJoinPwd=null,this.oJoinConfirm=null,this.oJoinCode=null,this.oLoginDrop=null,this.oJoinDrop=null,this.isShow=0,this.isChecking=0,this.emailArr=["gmail.com","hotmail.com","yahoo.com","mail.ru","aol.com","hotmail.co.uk","live.com","msn.com","yandex.ru","hotmail.fr"],this.events=[this.on],this.panel="",this.sliceUrl="",this.isLogin=0,this.goUrl="",this.checkLoginData=null,this.loginData={},this.joinData={},this.isInit&&this.init()}var c=function(e,t){modal_remove(),modal_bg(),t?msgbox(2,e,t):msgbox(2,e,function(){})},d=!1;e(".jsPrivacyPolicyBtn, .jsTermOfUseBtn").on("click",function(t){window.event?window.event.cancelBubble=!0:t.stopPropagation();var i=e(this);if("undefined"!=typeof JGData){for(var a=i.attr("class").split(" "),o="",s=0;s<a.length;s++)a[s].indexOf("180821")>-1&&(o=a[s]);JGData.JGCheckClassName(JGData,o,0,"",i.attr("data-point-id"))}n(e(this))}),e(".myaccount_right").on("click",".jsPrivacyPolicyBtnAddr",function(){n(e(this))});var u={API:{pop_login:"/index.php?com=ajax&t=plotSignIn&sub={#sub#}&panel={#panel#}&back_url={#back_url#}",code_img:"/index.php?com=imagecode&t=getcode&r={timestamp}"}};a.prototype={init:function(){this.initParam(),this.bindEvent()},initParam:function(){var e=this.oDom.list.outerHeight(!0),t=this.listWrapH-e;if(10>e)throw"slideBar.js: list height calc error!";0>t?(this.hasBar=1,this.listMinTop=t,this.barH=parseInt(this.listWrapH/e*this.barWrapH),this.barMaxTop=this.barWrapH-this.barH,this.oDom.listWrap.height(this.listWrapH),this.oDom.bar.height(this.barH),this.oDom.barWrap.show()):(this.hasBar=0,this.oDom.listWrap.height(e),this.oDom.barWrap.hide())},bindEvent:function(){var t=this;this.drag(this.oDom.bar.get(0),this.oDom.barWrap.get(0),function(e,i,n,a,o){var s=e/n;o.style.top=e+"px",t.oDom.list.css({top:s*t.listMinTop}),t.fireEvent("drag")}),this.oDom.barWrap.on("mousedown",function(i){var n=i.clientY,a=document.documentElement.scrollTop||document.body.scrollTop,o=n+a-e(this).offset().top,s=parseInt(o/t.barWrapH*t.barMaxTop),r=parseInt(o/t.barWrapH*t.listMinTop);t.moveToTop(s,r),i.stopPropagation()}),this.mouseWheel(function(e){if(t.hasBar){var i=e*t.rate,n=parseInt(t.oDom.bar.css("top")),a=parseInt(t.oDom.list.css("top")),o=n+parseInt(i*t.barMaxTop),s=a+parseInt(i*t.listMinTop);t.moveToTop(o,s)}},this.oDom.wrap.get(0))},moveToTop:function(e,t){e>this.barMaxTop&&(e=this.barMaxTop),0>e&&(e=0),t<this.listMinTop&&(t=this.listMinTop),t>0&&(t=0),this.oDom.bar.stop(!0).animate({top:e},60),this.oDom.list.stop(!0).animate({top:t},60),this.fireEvent("scroll")},reset:function(){this.initParam(),this.oDom.bar.css({top:0}),this.oDom.list.css({top:0}),this.fireEvent("reset")},onEvent:function(e){this.events.push(e)},fireEvent:function(e){var t=this;this.events.map(function(i){i&&i.call(t,e)})},addEvent:function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)},removeEvent:function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent("on"+t,i)},mouseWheel:function(e,t){function i(t){var i=t||window.event,a=this,o="undefined"==typeof i.wheelDelta?-40*i.detail:i.wheelDelta,s=this==document?0:1;clearTimeout(n),n=setTimeout(function(){e&&e.call(a,-o/120)},30),i.preventDefault&&s&&i.preventDefault(),i.stopPropagation&&s&&i.stopPropagation(),s&&(i.returnValue=!1),s&&(i.cancelBubble=!0)}var n=null,a=t||document;this.addEvent(a,"mousewheel",i),this.addEvent(a,"DOMMouseScroll",i)},drag:function(e,t,i){function n(i){var n=i||window.event,r=n.clientX,l=n.clientY;c=n.target||n.srcElement,d=n.currentTarget||n.srcElement.parentNode,u=document.documentElement.scrollTop||document.body.scrollTop,p=r-t.offsetLeft-e.offsetLeft,h=l+u-t.offsetTop-e.offsetTop,s.addEvent(document,"mousemove",a),s.addEvent(document,"mouseup",o),n.preventDefault()||(n.returnValue=!1),n.stopPropagation()||(n.cancelBubble=!0)}function a(n){var a=n||window.event,o=document.documentElement.scrollTop||document.body.scrollTop,s=t.offsetWidth-e.offsetWidth,c=t.offsetHeight-e.offsetHeight,d=a.clientX,u=a.clientY;r=d-t.offsetLeft-p,l=u+o-t.offsetTop-h,0>r?r=0:r>s&&(r=s),0>l?l=0:l>c&&(l=c),i&&i(l,r,c,s,e),a.preventDefault()||(a.returnValue=!1),a.stopPropagation()||(a.cancelBubble=!0)}function o(){c=null,d=null,s.removeEvent(document,"mousemove",a),s.removeEvent(document,"mouseup",o)}var s=this,r=0,l=0,c=null,d=null,u=null,p="",h="";s.addEvent(e,"mousedown",n)}},o.msg={"network-error":"Check if the network is connected.",email:{empty:"Please enter a valid email.",forbid:"Try another email? {email} is forbidden.",invalid:"Please enter a valid email address."},name:{empty:"Please enter a valid nickname.",characters:"Please enter nickname between 3-20 characters."},password:{empty:"Please enter a valid password.",characters:"The password must be 6-20 characters."},"password-confirm":{empty:"Confirm password must be entered.",characters:"Confirm password must be 6-20 characters.",invalid:"These passwords don't match. Try again?"},verifyCode:{empty:"Please enter the verification code.",invalid:"Verification code error!","new":"Please enter new verification code."}},o.pwd="",o.prototype={init:function(){this.bindEvent()},bindEvent:function(){var e=this;this.inputDom.on("blur",function(){e.inputDom.removeClass(e.focusClass),e.useCheck&&e.check(),e.fireEvent("blur")}).on("focus",function(){e.inputDom.addClass(e.focusClass),e.hideError(),e.fireEvent("focus")})},check:function(){switch(this.checkType){case"email":this.checkEmail();break;case"name":this.checkName();break;case"pwd":this.checkPwd();break;case"pwd-confirm":this.checkConfirmPwd();break;case"verify-code":this.checkVerifyCode();break;default:throw"without matched type to check!"}},checkEmail:function(){var t=/^[\w-']+([\.\+][\w-']+)*@([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*?\.[a-zA-Z]{2,20}|(\d{1,3}\.){3}\d{1,3})(:\d{4})?$/,i=["starpochta.ru","inmailboxs.ru","alms.ru","bestmailtor.ru","noisy.ru","yumail.ru","webtask.ru","nuiro.ru","finishmail.ru","fastregsy.ru","smomail.ru","emailday.ru","emailynews.ru","mailords.ru","standarten.ru","userito.ru","formdate.ru","ohotmail.ru","biznmail.ru"],n=e.trim(e(this.inputDom).val()).replace(/(^\s*)|(\s*$)/g,"");if(""===n)this.useCheckEmpty&&this.checkFailed(o.msg.email.empty);else if(t.test(n)){var a=i.some(function(e){return n.lastIndexOf(e)>=0});a?this.checkFailed(o.msg.email.forbid.replace("{email}",n.split("@")[1])):this.checkSuccess()}else this.checkFailed(o.msg.email.invalid)},checkName:function(){var t=/^(.){3,20}$/,i=e.trim(e(this.inputDom).val());""===i?this.useCheckEmpty&&this.checkFailed(o.msg.name.empty):t.test(i)?this.checkSuccess():this.checkFailed(o.msg.name.characters)},checkPwd:function(){var t=/^(.){6,}$/,i=e(this.inputDom).val();o.pwd=i,""===i?this.useCheckEmpty&&this.checkFailed(o.msg.password.empty):t.test(i)?(this.oPwdConfirm&&""!=this.oPwdConfirm.inputDom.val()&&this.oPwdConfirm.check(),this.checkSuccess()):this.checkFailed(o.msg.password.characters)},checkConfirmPwd:function(){var t=/^(.){6,}$/,i=e(this.inputDom).val();""===i?this.useCheckEmpty&&this.checkFailed(o.msg["password-confirm"].empty):t.test(i)?i===o.pwd?this.checkSuccess():this.checkFailed(o.msg["password-confirm"].invalid):this.checkFailed(o.msg["password-confirm"].characters)},checkVerifyCode:function(){var t=e.trim(this.inputDom.val());""===t?this.useCheckEmpty&&this.checkFailed(o.msg.verifyCode.empty):this.checkSuccess()},checkSuccess:function(){this.isPass=1,this.hideError(),this.fireEvent("success")},checkFailed:function(e){this.isPass=0,this.inputDom.addClass(this.errorClass),this.pDom&&this.pDom.text(e).slideDown(100),this.fireEvent("failed")},hideError:function(){this.inputDom.removeClass(this.errorClass),this.pDom&&this.pDom.slideUp(100)},reset:function(){this.isPass=0,this.useCheckEmpty=0,o.pwd="",this.inputDom.val(""),this.hideError()},destory:function(){this.inputDom.off(),this.events=[]},onEvent:function(e){this.events.push(e)},fireEvent:function(e){var t=this;this.events.map(function(i,n){i&&i.call(t,e,n)})}},s.prototype={init:function(){this.initParam(),this.bindEvent()},initParam:function(){this.isSelect=""==e.trim(this.selectDom.html())?0:1,this.isSelect&&this.fireEvent("select")},bindEvent:function(){var e=this;this.selectDom.on("click",function(){e.select()})},select:function(){this.isSelect=this.isSelect?0:1;var e=this.isSelect?this.selectHtml:"";this.selectDom.html(e),this.fireEvent(this.isSelect?"select":"unselect")},reset:function(){this.isSelect=0,this.selectDom.html("")},onEvent:function(e){this.events.push(e)},fireEvent:function(e){var t=this;this.events.map(function(i,n){i&&i.call(t,e,n)})}},r.listArr=[],r.isBindDocEvent=0,r.prototype={init:function(){this.initDom(),this.bindEvent()},initDom:function(){var e="";this.curData.length&&(e=this.curData.map(function(e){return"<li>"+e+"</li>"}).join(""),this.oDom.list.html(e))},initBar:function(){var e=this;this.oSlider=a&&new a({oDom:{wrap:e.oDom.downWrap,listWrap:e.oDom.listWrap,list:e.oDom.list,barWrap:e.oDom.barWrap,bar:e.oDom.bar}})},resetBar:function(){this.oSlider&&this.oSlider.reset()},bindEvent:function(){var t=this;this.oDom.downWrap.on("mousedown",function(e){e.stopPropagation()}),this.oDom.list.on("mousedown","li",function(i){var n=e.trim(e(this).text());t.oDom.input.val(n),t.hide(),i.stopPropagation()}),this.oDom.input.on("input propertychange",function(){var i=e.trim(e(this).val()),n=t.data.some(function(e){return i.indexOf(e)>=0});if(n)return t.isShow&&t.hide();var a=i.indexOf("@")>=0&&e.trim(i.split("@")[1]);return t.curData=a?t.data.filter(function(e){return 0==e.indexOf(a)}).map(function(e){return i.split("@")[0]+"@"+e}):t.data.map(function(e){return i.split("@")[0]+"@"+e}),t.curData.length?(t.isShow||t.show(),t.initDom(),t.resetBar(),void t.fireEvent("search")):t.hide()}).on("blur",function(){t.hide()}),r.isBindDocEvent||(r.isBindDocEvent=1,e(document).on("keydown",function(e){9==e.keyCode&&t.letAllHide()}).on("mousedown",function(){t.letAllHide()}))},letAllHide:function(){r.listArr.map(function(e){e.isShow&&e.hide()})},show:function(){this.isShow=1,this.oDom.downWrap.show(),this.initBarFlag&&(this.initBarFlag=0,this.initBar()),this.fireEvent("show")},hide:function(){this.isShow=0,this.oDom.downWrap.hide(),this.fireEvent("hide")},reset:function(){this.isShow&&this.hide(),this.curData=this.data.concat([]),this.initDom()},onEvent:function(e){this.events.push(e)},fireEvent:function(e){var t=this;this.events.map(function(i,n){i&&i.call(t,e,n)})}},l.prototype={init:function(){this.getSlicedUrl(),this.initComponts(),this.bindEvent()},getSlicedUrl:function(e){var t=e||location.href,i=location.host,n=t.indexOf(i),a="";if(n>=0){var o=t.split(i);o[1]&&(a=0==o[1].indexOf("/")?o[1].slice(1):o[1])}this.sliceUrl=encodeURIComponent(a)},encryptData:function(e){var t="";if("object"==typeof e){var n=[];for(var a in e){"object"==typeof e[a]&&(e[a]=JSON.stringify(e[a]));var o=e[a]+"";o=encodeURIComponent(o),n.push(a+"="+o)}t=n.join("&")}else t=e;return"undefined"!=typeof i&&(t=i.attachEncrypt(t)),t},parseTplByObj:function(e,t){for(var i in t){var n=new RegExp("{#"+i+"#}","g");e=(e+"").replace(n,t[i])}return e},initComponts:function(){var e=this,t=this.loginDom,i=this.joinDom;this.oLoginEmail=new o({checkType:"email",inputDom:t.email,pDom:t.emailP,on:function(t){"blur"==t&&e.resumeInputCheck()}}),this.oLoginPwd=new o({checkType:"pwd",inputDom:t.pwd,pDom:t.pwdP,on:function(t){"blur"==t&&e.resumeInputCheck()}}),this.oJoinEmail=new o({checkType:"email",inputDom:i.email,pDom:i.emailP,on:function(t){"blur"==t&&e.resumeInputCheck()}}),this.oJoinConfirm=new o({checkType:"pwd-confirm",inputDom:i.pwd2,pDom:i.pwd2P,on:function(t){"blur"==t&&e.resumeInputCheck()}}),this.oJoinPwd=new o({checkType:"pwd",inputDom:i.pwd1,pDom:i.pwd1P,oPwdConfirm:this.oJoinConfirm,on:function(t){"blur"==t&&e.resumeInputCheck()}}),this.oJoinCode=new o({checkType:"verify-code",inputDom:i.code,pDom:i.codeP,on:function(t){"blur"==t&&e.resumeInputCheck()}}),this.oJoinAgree=new s({selectDom:i.agree,on:function(t){"select"==t&&e.joinDom.agreeTip.hide(),"unselect"==t&&e.joinDom.agreeTip.show()}}),this.oJoinDrop=new r({oDom:{input:i.email,downWrap:i.downWrap,listWrap:i.listWrap,list:i.list,barWrap:i.barWrap,bar:i.bar},data:e.emailArr}),this.oLoginDrop=new r({oDom:{input:t.email,downWrap:t.downWrap,listWrap:t.listWrap,list:t.list,barWrap:t.barWrap,bar:t.bar},data:e.emailArr}),this.refreshCode("join")},bindEvent:function(){var t=this;this.loginDom.btn.on("click",function(){t.pauseInputCheck(),t.reset(),t.showLogin()}),this.joinDom.btn.on("click",function(){t.pauseInputCheck(),t.reset(),t.showJoin()}),this.joinDom.submit.on("click",function(){if(!t.isChecking){t.isChecking=1;for(var e=[t.oJoinEmail,t.oJoinConfirm,t.oJoinPwd,t.oJoinCode],i=0,n=0;n<e.length;n++)e[n].useCheckEmpty=1,e[n].check(),e[n].isPass&&i++,e[n].useCheckEmpty=0;t.oJoinAgree.isSelect?i++:t.joinDom.agreeTip.show(),i==e.length+1?t.ajaxRegister():t.isChecking=0}}),this.loginDom.submit.on("click",function(){if(!t.isChecking){t.isChecking=1;for(var e=[t.oLoginEmail,t.oLoginPwd],i=0,n=0;n<e.length;n++)e[n].useCheckEmpty=1,e[n].check(),e[n].isPass&&i++,e[n].useCheckEmpty=0;i==e.length?t.ajaxLogin():t.isChecking=0}}),e(document).on("keyup",function(e){if(13==e.keyCode&&t.isShow)switch(t.popType){case"login":t.loginDom.submit.click();break;case"join":t.joinDom.submit.click()}}),this.joinDom.codeImg.on("click",function(){t.refreshCode("join")}),this.mainDom.close.on("click",function(){t.pauseInputCheck(),t.hide()}),this.joinDom.agreeTip.on("click",function(){e(this).fadeOut(100)})},pauseInputCheck:function(){for(var e=this,t=[e.oLoginEmail,e.oLoginPwd,e.oJoinEmail,e.oJoinConfirm,e.oJoinPwd,e.oJoinCode],i=0;i<t.length;i++)t[i].useCheck=0},resumeInputCheck:function(){for(var e=this,t=[e.oLoginEmail,e.oLoginPwd,e.oJoinEmail,e.oJoinConfirm,e.oJoinPwd,e.oJoinCode],i=0;i<t.length;i++)t[i].useCheck=1},ajaxCheckLogin:function(t,i){var n=this;if(this.panel=t||"",this.getSlicedUrl(i),this.isLogin||this.checkLoginData){var a=e.cookie("plot");a?this.goWithPlan():(this.isLogin=0,this.checkLoginData=null,this.ajaxCheckLogin())}else{if(this.isChecking)return;this.isChecking=1;var s=decodeURIComponent(n.sliceUrl);"add_wish_list"==t&&(s+="&addWish=1");var i=this.parseTplByObj(u.API.pop_login,{sub:"check",panel:n.panel,back_url:encodeURIComponent(s)});e.ajax({url:i,type:"GET",dataType:"json",success:function(e){n.isChecking=0,n.checkLoginData=e,n.goUrl=e.back_url,200==e.code&&(n.isLogin=1),o.msg=e.msg,n.goWithPlan()},error:function(){n.isChecking=0,n.goWithPlan(1)}})}},goWithPlan:function(e){var t=e;switch(this.checkLoginData&&"undefined"!=typeof this.checkLoginData.plot&&(t=+this.checkLoginData.plot),t){case 2:this.isLogin?window.location.href=this.goUrl:this.isShow||this.show();break;default:window.location.href="/login.html?scene_id=1&sc_back_url="+this.goUrl}},ajaxLogin:function(){var t=this,i=this.parseTplByObj(u.API.pop_login,{sub:"login",panel:t.panel,back_url:t.sliceUrl}),n=["at="+this.checkLoginData.access_token,"email="+encodeURIComponent(e.trim(this.loginDom.email.val())),"pwd="+encodeURIComponent(e.trim(this.loginDom.pwd.val())),"scene_id="+this.checkLoginData.plot].join("&");e.ajax({url:i,type:"POST",data:t.encryptData(n),dataType:"json",success:function(e){var i=+e.code;if(t.isChecking=0,t.loginData=e,200==i)t.isLogin=1,t.goUrl=e.back_url,t.goWithPlan();else{var n=e.message;switch(i){case 5001:t.checkLoginData=null,t.ajaxCheckLogin();break;case 5003:case 5004:case 5006:t.oLoginEmail.checkFailed(n);break;case 5005:t.oLoginPwd.checkFailed(n);break;default:c(n)}}},error:function(){t.isChecking=0,t.goWithPlan(1)}})},ajaxRegister:function(){var t=this,i=this.parseTplByObj(u.API.pop_login,{sub:"reg",panel:t.panel,back_url:t.sliceUrl}),n=["customers_agree="+ +this.oJoinAgree.isSelect,"customers_newsletter=0","firstname=","lastname=","friend_agree="+(this.checkLoginData.friend_relation?1:0),"nickname=","email="+encodeURIComponent(e.trim(this.joinDom.email.val())),"password="+encodeURIComponent(e.trim(this.joinDom.pwd1.val())),"reg_image_code="+encodeURIComponent(e.trim(this.joinDom.code.val())),"scene_id="+this.checkLoginData.plot].join("&");e.ajax({url:i,type:"POST",dataType:"json",data:t.encryptData(n),success:function(e){var i=+e.code;if(t.isChecking=0,t.joinData=e,200==i)t.isLogin=1,t.goUrl=e.back_url,t.goWithPlan();else{t.refreshCode();var n=e.message;switch(i){case 5001:case 5006:case 5007:t.oJoinEmail.checkFailed(n);break;case 5005:case 5008:t.oJoinPwd.checkFailed(n);break;case 5002:t.oJoinCode.checkFailed(n);break;default:c(n)}}},error:function(){t.isChecking=0,t.goWithPlan(1)}})},showLogin:function(){this.popType="login",this.mainDom.cnt.removeClass(this.toJoinClass),this.resumeInputCheck(),this.fireEvent("showLogin")},showJoin:function(){this.popType="join",this.mainDom.cnt.addClass(this.toJoinClass),this.resumeInputCheck(),this.fireEvent("showJoin")},refreshCode:function(){this.joinDom.codeImg.attr("src",u.API.code_img.replace("{timestamp}",(new Date).getTime()))},reset:function(){this.oJoinEmail.reset(),this.oJoinPwd.reset(),this.oJoinConfirm.reset(),this.oJoinCode.reset(),this.oJoinAgree.reset(),this.oLoginEmail.reset(),this.oLoginPwd.reset(),this.joinDom.agreeTip.hide(),this.refreshCode()},show:function(){this.isShow=1,this.mainDom.wrap.fadeIn(300),this.reset(),this.fireEvent("show"),"login"==this.popType?this.showLogin():this.showJoin()},hide:function(){this.isShow=0,this.mainDom.wrap.fadeOut(300)},onEvent:function(e){this.events.push(e)},fireEvent:function(e){var t=this;this.events.map(function(i,n){i&&i.call(t,e,n)})}};var p={loginPop:{wrap:e(".loginPop"),cnt:e(".loginPop-cnt"),close:e(".loginPop-close")},login:{btn:e(".loginPop-login"),main:e(".loginPop-login-wrap"),email:e("#loginPop-login-email"),emailP:e(".loginPop-login-email>p"),pwd:e("#loginPop-login-pwd"),pwdP:e(".loginPop-login-pwd>p"),submit:e(".loginPop-login-submit"),downWrap:e(".loginPop-login-email .dropMenu"),listWrap:e(".loginPop-login-email .listWrap"),list:e(".loginPop-login-email .list"),barWrap:e(".loginPop-login-email .barWrap"),bar:e(".loginPop-login-email .bar")},join:{btn:e(".loginPop-join"),main:e(".loginPop-join-wrap"),email:e("#loginPop-join-email"),emailP:e(".loginPop-join-email>p"),pwd1:e("#loginPop-join-pwd"),pwd1P:e(".loginPop-join-pwd>p"),pwd2:e("#loginPop-join-confirm"),pwd2P:e(".loginPop-join-confirm>p"),code:e("#loginPop-join-code"),codeP:e(".loginPop-join-code>p"),codeImg:e(".loginPop-join-codeImg"),agree:e(".loginPop-join-agree .radio"),agreeTip:e(".loginPop-join-agree .tip"),agreeText:e(".loginPop-join-agree .text"),submit:e(".loginPop-join-submit"),downWrap:e(".loginPop-join-email .dropMenu"),listWrap:e(".loginPop-join-email .listWrap"),list:e(".loginPop-join-email .list"),barWrap:e(".loginPop-join-email .barWrap"),bar:e(".loginPop-join-email .bar")}};return new l({mainDom:p.loginPop,loginDom:p.login,joinDom:p.join,popType:"login",on:function(e){switch(e){case"showLogin":var t=p.loginPop.close;t.attr("burying-point-data",t.attr("point1"));break;case"showJoin":var t=p.loginPop.close;t.attr("burying-point-data",t.attr("point2"));break;case"show":"undefined"!=typeof JGData&&JGData.JGCheckClassName(JGData,"middle_messageOpenProduct_button_181126",2,"",18331043834)}}})}),function(e){"function"==typeof define&&define.amd?define("bxSlider",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};e.fn.bxSlider=function(a){if(0==this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(a)}),this;var o={},s=this,r="undefined"!=typeof currentLang&&"ar-AR"==currentLang&&e(s).parents("#item_together").length>0;t.el=this;var l=e(window).width(),c=e(window).height(),d=function(){o.settings=e.extend({},n,a),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=s.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"==o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!=o.settings.mode&&function(){var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return o.cssPrefix=t[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"==o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),s.data("origStyle",s.attr("style")),s.children(o.settings.slideSelector).each(function(){e(this).data("origStyle",e(this).attr("style"))}),u()},u=function(){s.wrap('<div class="'+o.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),o.viewport=s.parent(),o.loader=e('<div class="bx-loading" />'),o.viewport.prepend(o.loader),s.css({width:"horizontal"==o.settings.mode?100*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?s.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing");v();o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:m()}),o.settings.pager||o.viewport.parent().css({margin:"0 auto 0px"});var t="undefined"!=typeof currentLang&&"ar-AR"==currentLang?"right":"left";o.children.css({"float":"horizontal"==o.settings.mode?t:"none",listStyle:"none",position:"relative"}),o.children.css("width",_()),"horizontal"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"==o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=e('<div class="bx-controls" />'),o.settings.captions&&A(),o.active.last=o.settings.startSlide==g()-1,o.settings.video&&s.fitVids();
var i=o.children.eq(o.settings.startSlide);"all"==o.settings.preloadImages&&(i=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.pager&&C(),o.settings.controls&&k(),o.settings.auto&&o.settings.autoControls&&S(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),p(i,h)},p=function(t,i){if(t.parents(".item_deals").length>0){var n=t.find(".img a img").length;if(0==n)return void i();var a=0;t.find(".img a img").each(function(){e(this).one("load",function(){++a==n&&i()}).each(function(){this.complete&&e(this).load()})})}else{var n=t.find("img, iframe").length;if(0==n)return void i();var a=0;t.find("img, iframe").each(function(){e(this).one("load",function(){++a==n&&i()}).each(function(){this.complete&&e(this).load()})})}},h=function(){if(o.settings.infiniteLoop&&"fade"!=o.settings.mode&&!o.settings.ticker){var t="vertical"==o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,t).clone().addClass("bx-clone"),n=o.children.slice(-t).clone().addClass("bx-clone");s.append(i).prepend(n)}o.loader.remove(),y(),"vertical"==o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(f()),s.redrawSlider(),o.settings.onSliderLoad(o.active.index),o.initialized=!0,o.settings.responsive&&e(window).bind("resize",F),o.settings.auto&&o.settings.autoStart&&(g()>1||o.settings.autoSlideForOnePage)&&R(),o.settings.ticker&&z(),o.settings.pager&&L(o.settings.startSlide),o.settings.controls&&N(),o.settings.touchEnabled&&!o.settings.ticker&&q()},f=function(){var t=0,n=e();if("vertical"==o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var a=1==o.settings.moveSlides?o.active.index:o.active.index*b();for(n=o.children.eq(a),i=1;i<=o.settings.maxSlides-1;i++)n=n.add(a+i>=o.children.length?o.children.eq(i-1):o.children.eq(a+i))}else n=o.children.eq(o.active.index);else n=o.children;return"vertical"==o.settings.mode?(n.each(function(){t+=e(this).outerHeight()}),o.settings.slideMargin>0&&(t+=o.settings.slideMargin*(o.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),"border-box"==o.viewport.css("box-sizing")?t+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"==o.viewport.css("box-sizing")&&(t+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),t},m=function(){var e="100%";return o.settings.slideWidth>0&&(e="horizontal"==o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),e},_=function(){var e=o.settings.slideWidth,t=o.viewport.width();return 0==o.settings.slideWidth||o.settings.slideWidth>t&&!o.carousel||"vertical"==o.settings.mode?e=t:o.settings.maxSlides>1&&"horizontal"==o.settings.mode&&(t>o.maxThreshold||t<o.minThreshold&&(e=(t-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides)),e},v=function(){var e=1;if("horizontal"==o.settings.mode&&o.settings.slideWidth>0)if(o.viewport.width()<o.minThreshold)e=o.settings.minSlides;else if(o.viewport.width()>o.maxThreshold)e=o.settings.maxSlides;else{var t=o.children.first().width()+o.settings.slideMargin;e=Math.floor((o.viewport.width()+o.settings.slideMargin)/t)}else"vertical"==o.settings.mode&&(e=o.settings.minSlides);return e},g=function(){var e=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)e=Math.ceil(o.children.length/b());else for(var t=0,i=0;t<o.children.length;)++e,t=i+v(),i+=o.settings.moveSlides<=v()?o.settings.moveSlides:v();else e=Math.ceil(o.children.length/v());return e},b=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=v()?o.settings.moveSlides:v()},y=function(){if(o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop){if("horizontal"==o.settings.mode){var e=o.children.last(),t=e.position();r?(o.active.index=o.children.length-1-o.active.index,o.active.last=!1,w(0,"reset",0)):w(-(t.left-(o.viewport.width()-e.outerWidth())),"reset",0)}else if("vertical"==o.settings.mode){var i=o.children.length-o.settings.minSlides,t=o.children.eq(i).position();w(-t.top,"reset",0)}}else{r&&(o.active.index=o.children.length-1-o.active.index);var t=o.children.eq(o.active.index*b()).position();o.active.index==g()-1&&(o.active.last=!0),void 0!=t&&("horizontal"==o.settings.mode?w(-t.left,"reset",0):"vertical"==o.settings.mode&&w(-t.top,"reset",0))}},w=function(e,t,i,n){if(o.usingCSS){if("undefined"!=typeof currentLang&&"ar-AR"==currentLang)var a="vertical"==o.settings.mode?"translate3d(0, "+-e+"px, 0)":"translate3d("+-e+"px, 0, 0)";else var a="vertical"==o.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)";s.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==t?(s.css(o.animProp,a),s.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){s.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),D()})):"reset"==t?s.css(o.animProp,a):"ticker"==t&&(s.css("-"+o.cssPrefix+"-transition-timing-function","linear"),s.css(o.animProp,a),s.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){s.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),w(n.resetValue,"reset",0),E()}))}else{var r={};r[o.animProp]=e,"slide"==t?s.animate(r,i,o.settings.easing,function(){D()}):"reset"==t?s.css(o.animProp,e):"ticker"==t&&s.animate(r,speed,"linear",function(){w(n.resetValue,"reset",0),E()})}},x=function(){for(var t="",i=g(),n=0;i>n;n++){var a="";o.settings.buildPager&&e.isFunction(o.settings.buildPager)?(a=o.settings.buildPager(n),o.pagerEl.addClass("bx-custom-pager")):(a=n+1,o.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+n+'" class="bx-pager-link">'+a+"</a></div>"}o.pagerEl.html(t)},C=function(){o.settings.pagerCustom?o.pagerEl=e(o.settings.pagerCustom):(o.pagerEl=e('<div class="bx-pager" />'),o.settings.pagerSelector?e(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),x()),o.pagerEl.on("click","a",B)},k=function(){o.controls.next=e('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=e('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click",$),o.controls.prev.bind("click",T),o.settings.nextSelector&&e(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&e(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=e('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},S=function(){o.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=e('<div class="bx-controls-auto" />'),o.controls.autoEl.on("click",".bx-start",j),o.controls.autoEl.on("click",".bx-stop",P),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?e(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),I(o.settings.autoStart?"stop":"start")},A=function(){o.children.each(function(){var t=e(this).find("img:first").attr("title");void 0!=t&&(""+t).length&&e(this).append('<div class="bx-caption"><span>'+t+"</span></div>")})},$=function(e){o.settings.auto&&s.stopAuto(),s.goToNextSlide(),e.preventDefault()},T=function(e){o.settings.auto&&s.stopAuto(),s.goToPrevSlide(),e.preventDefault()},j=function(e){s.startAuto(),e.preventDefault()},P=function(e){s.stopAuto(),e.preventDefault()},B=function(t){o.settings.auto&&s.stopAuto();var i=e(t.currentTarget);if(void 0!==i.attr("data-slide-index")){var n=parseInt(i.attr("data-slide-index"));n!=o.active.index&&s.goToSlide(n),t.preventDefault()}},L=function(t){var i=o.children.length;return"short"==o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),void o.pagerEl.html(t+1+o.settings.pagerShortSeparator+i)):(o.pagerEl.find("a").removeClass("active"),void o.pagerEl.each(function(i,n){e(n).find("a").eq(t).addClass("active")}))},D=function(){if(o.settings.infiniteLoop){var e="";0==o.active.index?e=o.children.eq(0).position():o.active.index==g()-1&&o.carousel?e=o.children.eq((g()-1)*b()).position():o.active.index==o.children.length-1&&(e=o.children.eq(o.children.length-1).position()),e&&("horizontal"==o.settings.mode?w(-e.left,"reset",0):"vertical"==o.settings.mode&&w(-e.top,"reset",0))}o.working=!1,o.settings.onSlideAfter(o.children.eq(o.active.index),o.oldIndex,o.active.index)},I=function(e){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[e]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},N=function(){1==g()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0==o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index==g()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled"))),o.controls.prev.hasClass("disabled")&&o.controls.next.hasClass("disabled")&&(o.controls.prev.hide(),o.controls.next.hide())},R=function(){if(o.settings.autoDelay>0){setTimeout(s.startAuto,o.settings.autoDelay)}else s.startAuto();o.settings.autoHover&&s.hover(function(){o.interval&&(s.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(s.startAuto(!0),o.autoPaused=null)})},z=function(){var t=0;if("next"==o.settings.autoDirection)s.append(o.children.clone().addClass("bx-clone"));else{s.prepend(o.children.clone().addClass("bx-clone"));var i=o.children.first().position();t="horizontal"==o.settings.mode?-i.left:-i.top}w(t,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&!o.usingCSS&&o.viewport.hover(function(){s.stop()},function(){var t=0;o.children.each(function(){t+="horizontal"==o.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)});var i=o.settings.speed/t,n="horizontal"==o.settings.mode?"left":"top",a=i*(t-Math.abs(parseInt(s.css(n))));E(a)}),E()},E=function(e){speed=e?e:o.settings.speed;var t={left:0,top:0},i={left:0,top:0};"next"==o.settings.autoDirection?t=s.find(".bx-clone").first().position():i=o.children.first().position();var n="horizontal"==o.settings.mode?-t.left:-t.top,a="horizontal"==o.settings.mode?-i.left:-i.top,r={resetValue:a};w(n,"ticker",speed,r)},q=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart",M)},M=function(e){if(o.working)e.preventDefault();else{o.touch.originalPos=s.position();var t=e.originalEvent;o.touch.start.x=t.changedTouches[0].pageX,o.touch.start.y=t.changedTouches[0].pageY,o.viewport.bind("touchmove",O),o.viewport.bind("touchend",W)}},O=function(e){var t=e.originalEvent,i=Math.abs(t.changedTouches[0].pageX-o.touch.start.x),n=Math.abs(t.changedTouches[0].pageY-o.touch.start.y);if(3*i>n&&o.settings.preventDefaultSwipeX?e.preventDefault():3*n>i&&o.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!=o.settings.mode&&o.settings.oneToOneTouch){var a=0;if("horizontal"==o.settings.mode){var s=t.changedTouches[0].pageX-o.touch.start.x;a=o.touch.originalPos.left+s}else{var s=t.changedTouches[0].pageY-o.touch.start.y;a=o.touch.originalPos.top+s}w(a,"reset",0)}},W=function(e){o.viewport.unbind("touchmove",O);var t=e.originalEvent,i=0;if(o.touch.end.x=t.changedTouches[0].pageX,o.touch.end.y=t.changedTouches[0].pageY,"fade"==o.settings.mode){var n=Math.abs(o.touch.start.x-o.touch.end.x);n>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?s.goToNextSlide():s.goToPrevSlide(),s.stopAuto())}else{var n=0;"horizontal"==o.settings.mode?(n=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(n=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0==o.active.index&&n>0||o.active.last&&0>n)?w(i,"reset",200):Math.abs(n)>=o.settings.swipeThreshold?(0>n?s.goToNextSlide():s.goToPrevSlide(),s.stopAuto()):w(i,"reset",200)}o.viewport.unbind("touchend",W)},F=function(){if(o.initialized){var t=e(window).width(),i=e(window).height();l!=t&&(l=t,c=i,s.redrawSlider(),o.settings.onSliderResize.call(s,o.active.index))}};return s.goToSlide=function(t,i){if(!o.working&&o.active.index!=t)if(o.working=!0,o.oldIndex=o.active.index,o.active.index=0>t?g()-1:t>=g()?0:t,o.settings.onSlideBefore(o.children.eq(o.active.index),o.oldIndex,o.active.index),"next"==i?o.settings.onSlideNext(o.children.eq(o.active.index),o.oldIndex,o.active.index):"prev"==i&&o.settings.onSlidePrev(o.children.eq(o.active.index),o.oldIndex,o.active.index),o.active.last=o.active.index>=g()-1,o.settings.pager&&L(o.active.index),o.settings.controls&&N(),"fade"==o.settings.mode)o.settings.adaptiveHeight&&o.viewport.height()!=f()&&o.viewport.animate({height:f()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){e(this).css("zIndex",o.settings.slideZIndex),D()});else{o.settings.adaptiveHeight&&o.viewport.height()!=f()&&o.viewport.animate({height:f()},o.settings.adaptiveHeightSpeed);var n=0,a={left:0,top:0};if(!o.settings.infiniteLoop&&o.carousel&&o.active.last)if("horizontal"==o.settings.mode){var l=o.children.eq(o.children.length-1);a=l.position(),n=o.viewport.width()-l.outerWidth(),r&&(a.left=s.width()-o.children.width())}else{var c=o.children.length-o.settings.minSlides;a=o.children.eq(c).position()}else if(o.carousel&&o.active.last&&"prev"==i){var d=1==o.settings.moveSlides?o.settings.maxSlides-b():(g()-1)*b()-(o.children.length-o.settings.maxSlides),l=s.children(".bx-clone").eq(d);a=l.position()}else if("next"==i&&0==o.active.index)a=s.find("> .bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1;else if(t>=0){var u=t*b();r&&(u=o.children.length-1-u),a=o.children.eq(u).position()}if("undefined"!=typeof a){var p="horizontal"==o.settings.mode?-(a.left-n):-a.top;w(p,"slide",o.settings.speed)}}},s.goToNextSlide=function(){if(r&&o.active.index==o.children.length-1&&(o.active.index=o.children.length-1-o.active.index,o.active.last=!1),o.settings.infiniteLoop||!o.active.last){var e=parseInt(o.active.index)+1;s.goToSlide(e,"next")}},s.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!=o.active.index){var e=parseInt(o.active.index)-1;s.goToSlide(e,"prev")}},s.startAuto=function(e){o.interval||(o.interval=setInterval(function(){"next"==o.settings.autoDirection?s.goToNextSlide():s.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&1!=e&&I("stop"))},s.stopAuto=function(e){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&1!=e&&I("start"))},s.getCurrentSlide=function(){return o.active.index},s.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},s.getSlideCount=function(){return o.children.length},s.redrawSlider=function(){o.children.add(s.find(".bx-clone")).width(_()),o.viewport.css("height",f()),o.settings.ticker||y(),o.active.last&&(o.active.index=g()-1),o.active.index>=g()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(x(),L(o.active.index)),r&&e(s).parents(".bought_right").addClass("rotateSlider")},s.destroySlider=function(){o.initialized&&(o.initialized=!1,e(".bx-clone",this).remove(),o.children.each(function(){void 0!=e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")}),void 0!=e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&o.pagerEl.remove(),e(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&e(window).unbind("resize",F))},s.reloadSlider=function(e){void 0!=e&&(a=e),s.destroySlider(),d()},d(),this}}),define("modules/product_list",["jquery","../../../tools/modules/currency","bxSlider","jqueryCookie"],function(e,t){var i={bxSliderObj:null,bxSliderObj1:null,fnInit:function(){this.fnShowRelated()},fnChageListDate:function(t,i,n,a,o){var s=this,r=e(t);"ar-AR"==currentLang&&r.parents(".bought_right").removeClass("rotateSlider");var l=r.parents(".bought_list").outerWidth();l=Math.min(l,i);var c=parseInt(l/n);c>a&&(c=a);var d=l-c*n;0>=d&&(d=n);var u=d/(c-1);u=Math.min(u,o);var p=r.parents(".bought_right").hasClass("arSlider");r.parents("#item_together").length>0?s.bxSliderObj=r.bxSlider({slideWidth:n,minSlides:3,maxSlides:c,infiniteLoop:!1,hideControlOnEnd:!0,slideMargin:u,onSlideBefore:function(){e(".item_attr_box .attr_list_box").hide()},onSliderLoad:function(){if(p){var t=0;r.find("li").each(function(){t+=e(this).width()}),t+=u*(r.find("li").length-1),r.css("width",t)}s.fnIsShowCODLabel(r)},onSlideAfter:function(){window.Rd&&Rd.exposureByNewWay&&window.Rd.changeRecord&&window.Rd.changeRecord({checkall:1})}}):s.bxSliderObj1=r.bxSlider({slideWidth:n,minSlides:3,maxSlides:c,infiniteLoop:!1,hideControlOnEnd:!0,slideMargin:u,onSliderLoad:function(){s.fnIsShowCODLabel(r)}});var h=e(window).width();e(window).resize(function(){if(e(window).width()!=h){e(".item_attr_box .attr_list_box").hide(),h=e(window).width();var t=r.parents(".bought_list").outerWidth();t=Math.min(t,i);var l=parseInt(t/n);l>a&&(l=a);var c=t-l*n;0>=c&&(c=n);var d=c/(l-1);d=Math.min(d,o),r.parents("#item_together").length>0?"ar-AR"==currentLang?(s.fnDestroySlider(),s.bxSliderObj.reloadSlider({slideWidth:n,minSlides:3,maxSlides:l,infiniteLoop:!1,hideControlOnEnd:!0,slideMargin:d,onSlideBefore:function(){e(".item_attr_box .attr_list_box").hide()},onSliderLoad:function(){if(p){var t=0;r.find("li").each(function(){t+=e(this).width()}),t+=d*(r.find("li").length-1),r.css("width",t)}s.fnIsShowCODLabel(r)},onSlideAfter:function(){window.Rd&&Rd.exposureByNewWay&&window.Rd.changeRecord&&window.Rd.changeRecord({checkall:1})}})):s.bxSliderObj.reloadSlider({slideWidth:n,minSlides:3,maxSlides:l,infiniteLoop:!1,hideControlOnEnd:!0,slideMargin:d,onSlideBefore:function(){e(".item_attr_box .attr_list_box").hide()},onSliderLoad:function(){s.fnIsShowCODLabel(r)},onSlideAfter:function(){window.Rd&&Rd.exposureByNewWay&&window.Rd.changeRecord&&window.Rd.changeRecord({checkall:1})}}):s.bxSliderObj1.reloadSlider({slideWidth:n,minSlides:3,maxSlides:l,infiniteLoop:!1,hideControlOnEnd:!0,slideMargin:d,onSliderLoad:function(){s.fnIsShowCODLabel(r)},onSlideAfter:function(){window.Rd&&Rd.exposureByNewWay&&window.Rd.changeRecord&&window.Rd.changeRecord({checkall:1})}})}})},fnDestroySlider:function(){"ar-AR"==currentLang&&e(".bought_right").removeClass("rotateSlider"),this.bxSliderObj.destroySlider()},fnIsShowCODLabel:function(t){"function"==typeof showCodTag&&showCodTag();var i=t.find("li .span_cod"),n=[];i.parents("li").each(function(){n.push(e(this).height())}),i.is(":visible")&&i.parents(".bx-viewport").css("height",Math.max.apply(null,n)+4)},fnRemoveArr:function(e,t){if(isNaN(t)||t>e.length)return!1;for(var i=0,n=0;i<e.length;i++)e[i]!=e[t]&&(e[n++]=e[i]);e.length>0&&(e.length-=1)},fnCheckboxClick:function(t,i){var n=this,a=e(t).find(".bought_all_box"),o=t+" .boughtCarousel li .now_price";e(document).off("click.clickPrice"),e(document).on("click.clickPrice",o,function(){var t=e(this),o=t.parents("li").offset().left,s=t.parents(".bought_list").offset().left,r=o-s;"ar-AR"==currentLang&&(r=e(window).width()-o-150-282+20);var l=parseInt(t.parents(".item_bought_bd").find(".items_num").html()),c=t.parents("li").attr("data-productid"),d=t.siblings(".img").find("img").attr("src");e('.attr_list_box[data-id="'+c+'"] .attr_list a.active img').length&&(d=e('.attr_list_box[data-id="'+c+'"] .attr_list a.active img').attr("src")),d=e.webp.replaceWebpPath(d);var u=t.parents("li").attr("data-num"),p=t.hasClass("checkbox_active1"),h=t.parents("li").attr("data-bind"),f='<li data-num="'+u+'" data-productid="'+c+'"><a href="javascript:;"><img src="'+d+'" alt="" /></a><span class="close"></span></li>';if(p)"1"!=h?(t.addClass("checkbox_on1").removeClass("checkbox_active1"),l--,1>=l&&(l=1),a.find("li:not(.list_btn)").each(function(t,i){var n=e(i).attr("data-productid");c==n&&e(i).hide().remove()}),e(".item_attr_box .attr_list_box").each(function(){c==e(this).attr("data-id")&&e(this).hide()})):"1"==h&&e(".item_attr_box .attr_list_box").each(function(){c==e(this).attr("data-id")&&(e(this).is(":hidden")?e(this).show().css("left",r):e(this).hide())});else{t.addClass("checkbox_active1").removeClass("checkbox_on1"),l++,e(".item_attr_box .attr_list_box").hide(),e(".item_attr_box .attr_list_box").each(function(){c==e(this).attr("data-id")&&e(this).show().css("left",r)});var m=t.parents("li").parents(".item_bought_bd").find(".bought_all_box"),_=!1;m.find(".bought_all_pirce ul li").each(function(){var t=e(this).attr("data-productid");c==t&&(_=!0)}),_||(a.find(".list_next").before(f),n.fnDecisionLength(a))}t.parents(".item_bought_bd").find(".items_num").html(l);var v=e(".item_now_price").attr("oriprice");i&&i(t.parents("li")),n.calculateBundlePrice(t.parents(".item_bought_bd"),v)}),e(document).on("click",t+" .bought_all_pirce li .close",function(){if("1"==e(this).parent().attr("data-bind"))return!1;var i=parseInt(e(this).parents(".item_bought_bd").find(".items_num").html()),o=e(this).parent().attr("data-productid");e(t+" .boughtCarousel").find("li").each(function(t,i){var n=e(i).attr("data-productid");o==n&&e(i).find(".now_price").addClass("checkbox_on1").removeClass("checkbox_active1")});var s=a.find("li:not(.list_btn)"),r=s.length;if(a.find(".list_next").hasClass("btn_off")){var l=s.eq(10).nextAll().length;s.eq(l-1).show()}else s.eq(9).next().show();n.fnDecisionLength(a),11>=r&&a.find(".list_next").removeClass("btn_off"),i--,1>=i&&(i=1),e(this).parents(".item_bought_bd").find(".items_num").html(i);var c=e(".item_now_price").attr("oriprice");n.calculateBundlePrice(e(this).parents(".item_bought_bd"),c),e(this).parent().hide().remove()}),e(document).on("click",t+" .bought_all_box .list_next",function(){e(this).addClass("btn_off").siblings(".list_prev").show();for(var t=a.find("li:not(.list_btn)"),i=t.eq(10).nextAll().length,n=0;i-1>n;n++)t.eq(10).nextAll().show(),e(this).hide(),t.eq(n).hide()}),e(document).on("click",t+" .bought_all_box .list_prev",function(){for(var t=a.find("li:not(.list_btn)"),i=t.eq(10).nextAll().length,n=i-1;n>=0;n--)t.eq(n).show(),e(this).hide(),t.eq(10).nextAll().hide();e(this).siblings(".list_next").show()})},fnDecisionLength:function(e){var t=e.find("li:not(.list_btn)"),i=t.length;i>4&&8>=i?e.css({paddingTop:0,marginTop:"12px"}).find(".allAddToCart").css("marginTop","15px"):i>8?e.css({paddingTop:0,marginTop:"0px"}).find(".allAddToCart").css("marginTop","10px"):e.css({paddingTop:"23px",marginTop:"0px"}).find(".allAddToCart").css("marginTop","33px"),i>11?e.find(".list_next").hasClass("btn_off")?e.find(".list_prev").show():(e.find("li:not(.list_btn)").eq(10).nextAll().hide(),e.find(".list_next").show()):e.find(".list_btn").hide()},fnWhetherChoose:function(i){e(i).find("li .now_price").removeClass("checkbox_active1").addClass("checkbox_on1"),e(i).find("li").each(function(t,n){var a=e(n).attr("data-productid");e(i).find("li").each(function(t,i){a==e(i).attr("data-productid")&&e(i).find(".now_price").hasClass("checkbox_active1")&&e(n).find(".now_price").addClass("checkbox_active1").removeClass("checkbox_on1")})}),e(".boughtCarousel li").each(function(i,n){t.autoChangePrice(e(n).find(".now_price em"),t.getCookieCurrency(),!0),t.autoChangePrice(e(n).find(".old_price"),t.getCookieCurrency(),!0)})},fnShowRelated:function(){e(document).on("click",".item_related .item_related_hd a",function(){e(this).hasClass("open")?e(this).removeClass("open").parents(".item_related_hd").siblings().slideUp():e(this).addClass("open").parents(".item_related_hd").siblings().slideDown()})},calculateBundlePrice:function(i,n){var a=t.getCookieCurrency(),n=parseFloat(n),o=parseFloat(e(".item_old_price").attr("oriprice"));void 0==e(".item_old_price").attr("oriprice")&&(o=parseFloat(e(".item_now_price").attr("oriprice"))),i.find(".boughtCarousel li").each(function(t,i){e(i).find(".now_price").hasClass("checkbox_active1")&&(n+=parseFloat(e(i).find(".now_price em").attr("oriprice")),o+=parseFloat(e(i).find(".old_price").attr("oriprice")))});var s=(t.getPriceByCurrency(n,a),t.getPriceByCurrency(n,a,!0));if(i.find(".all_price .now_price").attr("oriprice",n.toFixed(2)).html(s),i.hasClass("Unbeatable")){var r=t.getPriceByCurrency(o,a,!0);i.find(".all_old_price .old_price").attr("oriprice",o.toFixed(2)).html(r);var l=o-n,c=t.getPriceByCurrency(l,a,!0);i.find(".save_price em").attr("oriprice",l.toFixed(2)).html(c)}},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null}};return i}),function(e){"function"==typeof define&&define.amd?define("scrollLoading",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){e.fn.scrollLoading=function(t,i){var n=e.extend({},i||{});n.cache=[],e(this).each(function(){var i=this.nodeName.toLowerCase(),a=t,o={obj:e(this),tag:i,url:a};n.cache.push(o)});var a=function(){var t=e(window).scrollTop(),i=t+e(window).height();return e.each(n.cache,function(e,n){var a=n.obj,o=n.tag,s=n.url;a&&(post=a.offset().top,posb=post+a.height(),(post>t&&i>post||posb>t&&i>posb)&&("img"===o?a.attr("src",s):s.call(),n.obj=null))}),!1};a(),e(window).bind("scroll",a)}}),define("modules/recommend",["jquery","modules/product_list","scrollLoading","jqueryCookie","modules/query_handler"],function(e,t,i,n,a){var o={isHotProduct:0,isShowBought:0,isAlsoView:0,fnInit:function(){var t=this;e(".item_viewHistory").scrollLoading(t.fnViewHistory)},fnGetJSONDate:function(t,i,n,a){e.ajax({url:t,type:i,data:n,dataType:"json",success:function(e){a&&a(e)}})},fnRecommendStrHtml:function(t,i){e(i).find(".loading").hide();var n=this,a="";e.each(t,function(n){var o=t[n].attrRange.max,s=t[n].attrRange.min,r=(t[n].oriAttrRange.max,t[n].oriAttrRange.min,t[n].reviewAmount.amount>0?"block":"none"),l="undefined"!=typeof t[n].mespcod?t[n].mespcod:"",c="",d=e.webp.replaceWebpPath(t[n].image_url);i.indexOf("HotProducts")>-1&&t[n].cod_icon2&&(c+='<span class="span_cod ar_cod_icon" data-show-cod="'+t[n].CODMiddleEastIP+'" me_or_sp_cod="'+l+'" style="display:none"><em>COD</em></span>'),a+='<li data-num="'+n+'" data-productid="'+t[n].products_id+'"><span class="img"><a class="jsObserver" href="'+t[n].url+'"><img src="'+d+'" alt="" /></a></span><span class="title" title="'+t[n].products_name+'"><a href="'+t[n].url+'">'+t[n].products_name+'</a></span><span class="review" style="display:'+r+'"><a href="'+t[n].review_url+'"><span class="star1"><i class="star_color" style="width:'+t[n].reviewAmount.averagePercent+'"></i></span><span class="review_num">('+t[n].reviewAmount.amount+')</span></a></span><span class="now_price"><em oriprice="'+s+'" oriattrmax="'+o+'" oriattrmin="'+s+'">'+t[n].price+"</em></span>"+c+"</li>"}),e(i).show().find(".boughtCarousel").html(a),n.fnExposureStat(i+" .bought_list")},fnExposureStat:function(t){"undefined"!=typeof window.Rd&&(window.Rd.exposureByNewWay&&window.Rd&&window.Rd.changeRecord&&t&&window.Rd.changeRecord({$observers:e(t).find(".jsObserver")}),Rd.AutoGetAjaxData(t,window.Rd))},fnGetDateDom:function(i,n){var a=this;return i.length<=0?(e("."+n).hide(),!1):(e("."+n).show(),a.fnRecommendStrHtml(i,"."+n),t.fnChageListDate("#"+n,1734,150,8,76),void 0)},fnHotProductDate:function(t){if(1==o.isHotProduct)return!1;var i=e("#products_id").val(),n=e.cookie("_bgLang"),s=[];o.fnProductIdArr(s,".Frequently");var r=homeUrl+"load/product/getHotProductV2.html",l="pid="+i+"&filterId="+s.join(",")+"&lang="+n;l=a.attachEncrypt(l),o.fnGetJSONDate(r,"get",l,function(i){o.fnGetDateDom(i.results,"HotProducts",o.hotProducts),o.isHotProduct=1,e(".AlsoBought").offset().top<=e(window).scrollTop()?o.fnAlsoBoughtDate():e(".AlsoBought").scrollLoading(o.fnAlsoBoughtDate),t&&t()})},fnAlsoBoughtDate:function(t){if(1==o.isShowBought)return!1;var i=e("#products_id").val(),n=[],s=[];o.fnProductIdArr(n,".Frequently"),o.fnProductIdArr(s,".HotProducts");var r=homeUrl+"load/product/getAlsoBuyV2.html",l="pid="+i+"&filterId="+n.join(",")+","+s.join(",");l=a.attachEncrypt(l),o.fnGetJSONDate(r,"get",l,function(i){o.fnGetDateDom(i,"AlsoBought",o.alsoBought),o.isShowBought=1,e(".AlsoView").scrollLoading(o.fnAlsoViewDate),t&&t()})},fnAlsoViewDate:function(t){if(1==o.isAlsoView)return!1;var i=e("#products_id").val(),n=[],s=[],r=[];o.fnProductIdArr(n,".Frequently"),o.fnProductIdArr(s,".HotProducts"),o.fnProductIdArr(r,".AlsoBought");var l=homeUrl+"load/product/getAlsoViewV2.html",c="pid="+i+"&filterId="+n.join(",")+","+s.join(",")+","+r.join(",");c=a.attachEncrypt(c),o.fnGetJSONDate(l,"get",c,function(e){o.fnGetDateDom(e,"AlsoView",o.alsoView),o.isAlsoView=1,t&&t()})},fnProductIdArr:function(t,i){e(i).find(".boughtCarousel li").each(function(){var i=e(this).attr("data-productid");null!==i&&void 0!==i&&t.push(i)})},fnViewHistory:function(){var t=e(".item_viewHistory"),i=homeUrl+"ajax/product/viewHistory.html",n="",a=t.find(".view_text").outerWidth();o.fnGetJSONDate(i,"get",n,function(i){t.find(".loading").hide();var n="";e.each(i,function(t){var a=e.webp.replaceWebpPath(i[t].image_url);n+='<li data-id="'+i[t].products_id+'"><a href="'+i[t].url+'" title="'+i[t].products_name+'"><img src="'+a+'" alt="" /></a></li>'}),t.find(".history_list").css("paddingLeft",a).find("ul").html(n),o.fnExposureStat(".item_viewHistory .history_list")})}};return o}),define("modules/slide_bar",["jquery","modules/query_handler"],function(e,t){var i={fnInit:function(){function t(){var t=e("body").height();730>t?e(".bgbar .topbar").addClass("setBarposition"):e(".bgbar .topbar").removeClass("setBarposition")}var i=this;e(document).on("click",".bgbar .hangwish",function(){i.barwishlist(e(this))}).on("click",".barwishlist .remove",function(){i.removewishlist(e(this))}).on("click",".bgbar .history",function(){i.barhistory(e(this))}).on("click",".barhistorylist .remove",function(){i.removebarhistorylist(e(this))}).on("click",".barhistorylist .addwish",function(){i.baraddwish(e(this))}).on("click",".barhistorylist .clearall",function(){i.clearallhistory(e(this))}).on("click",".barlist_item .closeall",function(){i.closebar(e(this))}).on("click",".bgbar .cart",function(){i.barcart(e(this))}).on("click",".barsamelist .allCheckbox",function(){i.SelectAllCart(e(this))}).on("click",".barsamelist .warehouseCheckbox",function(){i.SelectWarehouse(e(this))}),t(),e(window).resize(function(){t()})},barcart:function(t){t.siblings().removeClass("active"),e(".barlist_item").removeClass("active260"),e(".barwishlist,.barhistorylist,.barcartlist").each(function(){var t=e(this).css("z-index");3==t?t--:e(this).hide(),e(this).css("z-index",t)}),e(".barcartlist").show().removeClass("toolbar-animate-out").addClass("toolbar-animate-in").css("z-index",3),e(".barhistorylist,.barwishlist").removeClass("toolbar-animate-in").addClass("toolbar-animate-out"),t.hasClass("active")?(t.removeClass("active"),e(".barlist_item").removeClass("active"),e(".barcartlist").removeClass("toolbar-animate-in").addClass("toolbar-animate-out").css("z-index",1)):(t.addClass("active"),e(".barlist_item").addClass("active"),(0==e(".barcartlist").length||parseInt(e(".jsCartNum").text())!=e("#jsbarcartlist").find(".jsCartItem").length)&&this.loadData(!0,!1,!1))
},removecart:function(t){var i=t.attr("cart_id");return t.parent().hasClass("cart_product")?t.parent().parent().remove():(t.parent().remove(),e('span[cart_id="'+i+'"]').parent().parent().remove()),0==e(".cartlist_items .cart_product").length&&e(".barcartlist").html('<div class="nodata">The Shopping Cart is Empty!</div>'),removeItem(i),!1},SelectAllCart:function(e){e.hasClass("checkbox_on_active")?e.closest(".barcartlist").find("label").removeClass("checkbox_on").addClass("checkbox_on_active"):e.closest(".barcartlist").find("label").removeClass("checkbox_on_active").addClass("checkbox_on")},SelectWarehouse:function(e){e.hasClass("checkbox_on_active")?e.closest(".barcartitem").find("label").removeClass("checkbox_on").addClass("checkbox_on_active"):e.closest(".barcartitem").find("label").removeClass("checkbox_on_active").addClass("checkbox_on")},barwishlist:function(t){t.siblings().removeClass("active"),e(".barwishlist,.barhistorylist,.barcartlist").each(function(){var t=e(this).css("z-index");3==t?t--:e(this).hide(),e(this).css("z-index",t)}),e(".barwishlist").show().removeClass("toolbar-animate-out").addClass("toolbar-animate-in").css("z-index",3),e(".barhistorylist,.barcartlist").removeClass("toolbar-animate-in").addClass("toolbar-animate-out"),t.hasClass("active")?(t.removeClass("active"),e(".barlist_item").removeClass("active active260"),e(".barwishlist").removeClass("toolbar-animate-in").addClass("toolbar-animate-out").css("z-index",1)):(t.addClass("active"),e(".barlist_item").addClass("active active260"),0==e(".barwishlist").length&&this.loadData(!1,!0,!1))},removewishlist:function(t){var i=t.parent().attr("data-pid");t.parent().fadeOut(),i&&e.ajax({type:"post",url:"index.php",data:{com:"account",t:"delWishlist",productsId:i},dataType:"json",success:function(e){if(0==e){var i=t.parents(".barwishlist");t.parent().remove(),i.find("li").length<=0?(i.find(".checkout_item").hide(),i.find(".nodata").show()):(i.find(".checkout_item").show(),i.find(".nodata").hide())}}})},baraddwish:function(e){e.hasClass("active")||(e.html('<span class="loading loadingcss3"><s class="icon-spinner3" /></span>'),setTimeout(function(){e.html("Added to wishlist"),e.addClass("active"),e.prev().append('<b class="wishok"><s class="icon-checkmark"></s></b>'),setTimeout(function(){e.prev().find(".wishok").addClass("active")},500),setTimeout(function(){e.prev().find(".wishok").removeClass("active")},1500),setTimeout(function(){e.prev().find(".wishok").remove()},2e3)},2e3))},barhistory:function(t){t.siblings().removeClass("active"),e(".barwishlist,.barhistorylist,.barcartlist").each(function(){var t=e(this).css("z-index");3==t?t--:e(this).hide(),e(this).css("z-index",t)}),e(".barhistorylist").show().removeClass("toolbar-animate-out").addClass("toolbar-animate-in").css("z-index",3),e(".barwishlist,.barcartlist").removeClass("toolbar-animate-in").addClass("toolbar-animate-out"),t.hasClass("active")?(t.removeClass("active"),e(".barlist_item").removeClass("active"),e(".barhistorylist").removeClass("toolbar-animate-in").addClass("toolbar-animate-out").css("z-index",1)):(t.addClass("active"),e(".barlist_item").addClass("active active260"),0==e(".barhistorylist").length&&this.loadData(!1,!1,!0))},removebarhistorylist:function(e){var t=e.closest("ul").find("li").length;setTimeout(function(){1==t&&e.closest("dl").remove(),e.parent().remove(),t--},100)},clearallhistory:function(t){e.cookie("customer_view_products",null,{path:"/",domain:".banggood.com"}),t.parent().nextAll().not(".nodata").remove(),t.closest("dl").remove(),e(".barhistorylist .nodata").show()},closebar:function(){e(".barlist_item").removeClass("active"),e(".bgbar .topbar").children().removeClass("active")},loadData:function(i,n,a){e(".barsamelist").hide(),e(".barlist_item").html("");var o=homeUrl+"load/ajax/loadBar.html",s="barShopcart=1&barWishlist=1&barHistory=1";s=t.attachEncrypt(s),e.ajax({url:o,timeout:1e4,type:"get",dataType:"json",data:s,success:function(t){e(".bgbar .loading").remove(),e(".barlist_item").append(t.barcart),e(".barlist_item").append(t.barwish),e(".barlist_item").append(t.barhistory),e(".barsamelist").css("z-index",1).show(),i?e(".barcartlist").css("z-index",3):n?e(".barwishlist").css("z-index",3):a&&e(".barhistorylist").css("z-index",3),window.Rd&&window.Rd.changeRecord&&(window.Rd.changeRecord({$observers:e(".barlist_item").find(".img a:first-child[collected!=1]")}),e(".barlist_item").find(".img a:first-child").attr("collected",1))}})},barloading:function(t){e(t).find(".loading").remove();var i='<div class="loading loadingcss3"><i class="icon-spinner3" /></div>';e(t).append(i),e(document).on("click",function(t){!e(t.target).parents(".bgbar").length>0&&(e(".bgbar .topbar").children().removeClass("active"),e(".barlist_item").removeClass("active"))})}};return i}),define("modules/../../../js/vip_task_requirejs",["jquery"],function(e){function t(t){var i={oDom:null,isShowCnt:!0,isHideOnMask:!0,bodyClass:"noscroll",cancelClass:"cancel",closeClass:"close",showTime:150,showType:"fade",isShow:!1,on:{}};e.extend(this,i,t),this.events={};for(var n in this.on)this.events[n]=[this.on[n]];this.__init()}function i(t){var i={D:{},seconds:15,onShow:function(){},onHide:function(){}};e.extend(this,i,t),this.oPop=null,this.init()}function n(t){var i={taskIdArr:-1,oValidTask:{},onHide:function(){},onSuccess:function(){},quene:[],taskMap:{1:{type:"pop",D:e(".modal-task.modal-profile")},2:{},3:{type:"pop",D:e(".modal-task.modal-bgpay")},4:{type:"pop",D:e(".modal-task.modal-review")},5:{type:"pop",D:e(".modal-task.modal-address")},6:{},7:{type:"pop",D:e(".modal-task.modal-coupon")},8:{type:"viewToPop",D:{pop:e(".modal-task.modal-vip"),countWrap:e(".view-task-countdown"),countNum:e(".view-task-countdown .seconds")},seconds:15},9:{type:"viewToPop",D:{pop:e(".modal-task.modal-pointmall"),countWrap:e(".view-task-countdown"),countNum:e(".view-task-countdown .seconds")},seconds:15},10:{type:"pop",D:e(".modal-task.modal-searchAddcart")},11:{type:"pop",D:e(".modal-task.modal-browseAddcart")},12:{type:"pop",D:e(".modal-task.modal-wishlist")},13:{}}};e.extend(this,i,t),this.init()}return t.prototype={oToggle:{slide:["slideUp","slideDown"],fade:["fadeOut","fadeIn"],show:["hide","show"]},__init:function(){var e=this;this.isShowCnt?this.showCnt():this.hideCnt(),this.oDom.on("click","."+e.closeClass,function(){e.hide()}),this.oDom.on("click","."+e.cancelClass,function(){e.fireEvent("cancel"),e.hide()}),this.isHideOnMask&&this.oDom.on("mousedown",function(t){3!=t.which&&e.isShowCnt&&t.target==this&&e.hide()})},showCnt:function(){this.isShowCnt=!0,this.oDom.children().show()},hideCnt:function(){this.isShowCnt=!1,this.oDom.children().hide()},hide:function(){this.show(0)},show:function(t){this.isShow="undefined"==typeof t?1:+t;var i=["removeClass","addClass"][this.isShow],n=this.oToggle[this.showType][this.isShow];this.oDom.stop(!0)[n](this.showTime),e("body")[i](this.bodyClass),this.fireEvent(this.isShow?"show":"hide")},addEvent:function(e,t){this.events[e]?this.events[e].push(t):this.events[e]=[t]},fireEvent:function(e){if(e){var t=Array.prototype.slice.call(arguments,1),i=this.events[e];if(i)for(var n=0;n<i.length;n++){var a=this.events[e][n];a&&a.apply(this,t)}}}},i.prototype={init:function(){var e=this;e.D.countNum.text(e.seconds),e.D.countWrap.show(),e.countdown()},countdown:function(){var e=this;clearTimeout(e.timer),e.timer=setTimeout(function(){var t=e.seconds--;e.seconds<=0?(e.D.countWrap.hide(),e.showPop()):(1==(e.seconds+"").length&&(t="0"+e.seconds),e.D.countNum.text(t),e.countdown())},1e3)},showPop:function(){const e=this;e.oPop=new t({oDom:e.D.pop,isHideOnMask:!1,on:{hide:e.onHide?e.onHide:function(){},show:e.onShow?e.onShow:function(){}}}),e.oPop.show()}},n.prototype={init:function(){this.ajaxGetTask()},ajaxGetTask:function(){var t=this;Array.isArray(t.taskIdArr)||(t.taskIdArr=[t.taskIdArr]),t.taskIdArr.forEach(function(i){e.ajax({url:homeUrl+"index.php?com=account&t=getVipTaskPop",type:"POST",dataType:"json",data:{task_id:i},success:function(e){e&&200==e.code&&(t.oValidTask[i]=!0,t.onSuccess&&t.onSuccess(i))}})})},showTaskPop:function(e){var t=this;return t.oValidTask[e]?(t.quene.indexOf(e)<0&&t.quene.push(e),1==t.quene.length&&t.dealTaskPop(t.quene[0]),!0):!1},dealTaskPop:function(n){var a=this,o=a.taskMap[n];if("viewToPop"==o.type){var s=e.extend(o,{onHide:function(){a.oValidTask[n]=null,a.dealPopHide()},onShow:function(){a.ajaxUpdateTask(n)}});a.oValidTask[n]=new i(s)}else a.oValidTask[n]=new t({oDom:o.D,isHideOnMask:!1,on:{hide:function(){a.oValidTask[n]=null,a.dealPopHide()},show:function(){a.ajaxUpdateTask(n)}}}),a.oValidTask[n].show()},dealPopHide:function(){var e=this;if(e.onHide&&e.onHide(),e.quene.shift(),e.quene.length){var t=e.quene[0];e.dealTaskPop(t)}},ajaxUpdateTask:function(t){e.ajax({url:homeUrl+"index.php?com=account&t=recodeVipTask",type:"POST",dataType:"json",data:{task_id:t,status:2},success:function(){}})}},n}),define("modules/add_wish",["jquery","modalLayer","../../../libs/loginPop/js/loginPop_detail","modules/detail_common","modules/recommend","modules/slide_bar","modules/query_handler","../../../js/vip_task_requirejs"],function(e,t,i,n,a,o,s,r){var l={isShowCheckbox:!1,isCheckboxLoaded:!1,isCheck:!1,oVipTask:null,fnInit:function(){var e=this;e.fnClickSortedInto(),e.fnClickSortedInto(),e.fnAddTag(),e.fnClickListLable(),e.fnEmptyTagName(),e.fnBlurInput(),e.fnClickViewAllTag(),e.fnClickAddWishBtn(),e.fnClickTagEmail(),sessionStorage.setItem("isCheckboxLoaded",0)},fnGetJSONDate:function(i,n,a,o){e.ajax({url:i,type:"get",data:n,dataType:"json",success:function(e){o&&o(e)},error:function(){a.attr("ajaxclick",0),t.fnModalRemove()}})},fnClickAddWishBtn:function(){var t=this;e(document).on("click",".main_plus .addToWish a",function(){var n=e(this);if(0==dataObj.hasLogin)return"undefined"!=typeof i?i.ajaxCheckLogin("add_wish_list"):window.location.href=homeUrl+"login.html?backParams[addWish]=1",!1;if("1"==n.attr("ajaxclick"))return!1;n.attr("ajaxclick","1");var o=[],s=[],r=[];a.fnProductIdArr(o,"#item_together"),a.fnProductIdArr(s,".HotProducts"),1==a.isShowBought?(a.fnProductIdArr(r,".AlsoBought"),t.fnAddwishData(o,r,s,n)):1==a.isHotProduct?a.fnAlsoBoughtDate(function(){a.fnProductIdArr(r,".AlsoBought"),t.fnAddwishData(o,r,s,n)}):a.fnHotProductDate(function(){a.fnAlsoBoughtDate(function(){a.fnProductIdArr(r,".AlsoBought"),t.fnAddwishData(o,r,s,n)})})})},newAddToWish:function(t){var i=this,n=e("#products_id").val(),a=homeUrl+"load/product/addWishlist.html",r="products_id="+n;r=s.attachEncrypt(r),t.hasClass("active")||i.fnGetJSONDate(a,r,t,function(n){if(t.attr("ajaxclick",0),n.login)window.location.href=homeUrl+"login.html?backParams[addWish]=1";else if(n.amount>=1){t.find(".wish_num").html(n.amount);var a=parseInt(e("#userwish").text(),10);e("#userwish").text((a?a:0)+1),t.addClass("active").addClass("active_animation"),t.find(".wish_text").text(t.attr("data-wished")),i.fnAjaxGetVipTask(),o.loadData(),window.snapchatData.detail&&window.snaptr&&snaptr("track","SAVE",window.snapchatData.detail)}})},fnAddwishData:function(i,n,a,r){var l=this,c=e("#products_id").val(),d=homeUrl+"load/product/addWishlist.html",u="products_id="+c+"&filter_id="+e("#products_id").val()+","+i.join(",")+","+n.join(",")+","+a.join(",")+"&version=2";t.fnModalBg(),u=s.attachEncrypt(u),l.fnGetJSONDate(d,u,r,function(e){r.attr("ajaxclick",0),t.fnModalRemove(),e.login?window.location.href=homeUrl+"login.html?backParams[addWish]=1":(l.fnAddwishResult(e,r),o.loadData(),window.snapchatData.detail&&window.snaptr&&snaptr("track","SAVE",window.snapchatData.detail),r.addClass("active"))})},fnAddwishResult:function(i,a){var o=this,s=e(".main_small_box .small-box img").attr("src");s=e.webp.replaceWebpPath(s);var l=e(".item_main .item_main_right .title_hd h2").attr("data-oldtext"),c=e(".item_price_box .item_now_price").text();if(this.isShowCheckbox=1==i.is_updates||this.isCheckboxLoaded?!1:!0,i.amount>=1){a.find(".wish_num").html(i.amount);var d=parseInt(e("#userwish").text(),10);e("#userwish").text((d?d:0)+1),t.fnModalBg(),e(".modal_container").addClass("add_wish_mask wish_medule").append(i.template),o.oVipTask=new r({taskIdArr:[12]})}else-1==i.amount||(t.fnModalBg(),e(".modal_container").addClass("add_wish_mask wish_medule").append(i.template));var u=e(".add_wish_mask .modal_ship_info");if(u.find(".img img").attr("src",s),u.find(".ship_info_box .title a").html(l),u.find(".ship_info_box .now_price").html(c),"undefined"!=typeof pintrk&&pintrk("track","lead",{lead_type:e('meta[property="og:title"]').attr("content")}),i.recommend_products&&i.recommend_products.length>0){for(var p=i.recommend_products,h=p.length<=4?"btn_off":"",f="",m=0;m<p.length;m++){var _=p[m].reviewAmount.amount>0?"block":"none",v=e.webp.replaceWebpPath(p[m].image_url);f+='<li><span class="img"><a href="'+p[m].url+'?rmmds=detail-popup-addwish-alsoview"><img src="'+v+'" alt=""></a></span><span class="title" title="'+p[m].products_name+'"><a href="'+p[m].url+'?rmmds=detail-popup-addwish-alsoview">'+p[m].products_name+'</a></span><span class="review" style="display:'+_+'"><a href="'+p[m].review_url+'?rmmds=detail-popup-addwish-alsoview"><span class="star1"><i class="star_color" style="width:'+p[m].reviewAmount.averagePercent+'%"></i></span><span class="review_num">('+p[m].reviewAmount.amount+')</span></a></span><span class="now_price">'+p[m].format_final_price+"</span></li>"}var g="<h2>"+DetailLanguage.AlsoViewed+'</h2><div class="modal_recommend_list"><div class="btn1"><a href="javascript:;" class="btn_left btn_off"></a><a href="javascript:;" class="btn_right '+h+'"></a></div><div class="scroll_box"><ul class="clearfix">'+f+"</ul><ol><li></li></ol></div></div>";e(".add_wish_mask .modal_recommend").append(g),window.Rd&&window.Rd.changeRecord&&window.Rd.changeRecord({$container:e(".add_wish_mask .scroll_box")})}else e(".add_wish_mask .modal_recommend").hide();t.fnModalAdd(),e(".add_wish_mask").find(".scroll_box li").each(function(){e(this).find(".span_cod").remove()}),n.fnScrollPlay(".wish_medule .modal_recommend",4),e(document).on("click",".wish_medule .continue_shopp",function(){t.fnModalRemove()}),t.onHide=function(){o.oVipTask&&o.oVipTask.showTaskPop(12),t.onHide=null}},fnClickSortedInto:function(){e(document).on("click",".sorted_into_box .into_box",function(t){t.stopPropagation();var i=e(this).find(".wish_tag_info"),n=i.find("li").length;n>6?i.find(".wish_tag_list ul").css("height","216px"):i.find(".wish_tag_list ul").css("height","auto"),i.show()}),e(document).on("click",".add_wish_mask .modal_ship",function(){e(this).find(".wish_tag_info").hide()})},fnAjaxGetVipTask:function(){var e=this;e.oVipTask=new r({taskIdArr:[12],onSuccess:function(){e.oVipTask.showTaskPop(12)}})},fnAddTag:function(){var t=this;e(document).on("click",".add_new_tag .add_btn",function(){var i=e(this),n=i.siblings(".new_tag_input").val();if(!/^[a-zA-Z0-9]+$/.test(n)){e(".wish_tag_error").css("display","table").find(".error_text").html(DetailLanguage.formatError||"Please enter letters or Numbers");var a=setTimeout(function(){e(".wish_tag_error").css("display","none"),clearTimeout(a)},2e3);return!1}if("1"==i.attr("ajaxclick"))return!1;i.attr("ajaxclick","1");var o="/index.php?com=ajax&t=setWishlistLabel",s={label_name:n};t.fnGetJSONDate(o,s,i,function(t){if(i.attr("ajaxclick",0),1==t.code){var a=e(".wish_tag_list").find("ul");a.show().append('<li data-id="'+t.data.label_id+'"><label for="" class="checkbox_on1"><i></i></label><span>'+n+"</span></li>");var o=a.find("li").length;o>6?(a.css("height","216px"),e(".wish_tag_info").find(".all_tag").show()):a.css("height","auto"),i.siblings(".new_tag_input").val(""),i.parent().removeClass("new_tag_active"),a.find("li").length>=9&&i.closest(".add_new_tag").remove()}else{e(".wish_tag_error").css("display","table").find(".error_text").html(t.msg);var s=setTimeout(function(){e(".wish_tag_error").css("display","none"),clearTimeout(s)},2e3)}})})},fnClickListLable:function(){var t=this;e(document).on("click",".wish_tag_list ul li",function(){var i=e(this),n=i.find("label").hasClass("checkbox_active1"),a=i.closest("ul").attr("date-wishlist-id"),o=i.attr("data-id");n||(i.find("label").addClass("checkbox_active1").end().siblings().find("label").removeClass("checkbox_active1"),t.toggleTagstaus(i,a,o))})},toggleTagstaus:function(e,t,i){var n="/index.php?com=ajax&t=saveWishlistLabelRelation",a="wishlist_id="+t+"&label_id="+i;this.fnGetJSONDate(n,a,e,function(t){if(e.attr("ajaxclick",0),1==t.code){var i=e.parents(".sorted_into_box").find(".sorted_into_text strong b");i.html("1").parent().show()}})},fnEmptyTagName:function(){e(document).on("click",".add_new_tag .delete",function(){e(this).siblings(".new_tag_input").val(""),e(this).parent().removeClass("new_tag_active")})},fnBlurInput:function(){e(document).on("keyup keypress keydown",".add_new_tag .new_tag_input",function(){var t=e(this).val();t.length>24&&e(this).val(t.substring(0,24));var i=e(this).parent();t?i.addClass("new_tag_active"):i.removeClass("new_tag_active")})},fnClickViewAllTag:function(){e(document).on("click",".all_tag a",function(){e(this).parents(".wish_tag_info").find(".wish_tag_list ul").css("height","auto")})},fnClickTagEmail:function(){var i=this;e(document).on("click",".modal_ship_email label",function(){var t=e(this).hasClass("checkbox_active1");t?(e(this).removeClass("checkbox_active1").addClass("checkbox_on1"),i.isShowCheckbox?e(this).parents(".modal_ship_email").find(".messager_submit_box").css("display","none"):e(this).parents(".modal_ship_email").find(".email_submit_box").css("display","none")):(e(this).removeClass("checkbox_on1").addClass("checkbox_active1"),i.isShowCheckbox&&1!=sessionStorage.getItem("isCheckboxLoaded")?(e(this).parents(".modal_ship_email").find(".messager_submit_box").css("display","block"),i.isCheckboxLoaded||(i.loadFBCheckBox(),i.bindFBEvent(),i.fbInputCheck(),i.isCheckboxLoaded=!0,sessionStorage.setItem("isCheckboxLoaded",1))):e(this).parents(".modal_ship_email").find(".email_submit_box").css("display","block"))}),e(document).on("click",".email_submit_box .ok",function(){var n=e(this);if("1"==n.attr("ajaxClick"))return!1;n.attr("ajaxClick",1);var a=e(".email_submit_box").find("input").attr("init-email"),o=e(".email_submit_box").find("input").val(),r=e(".email_submit_box").find(".tip"),l=/^[\w-']+([\.\+][\w-']+)*@([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*?\.[a-zA-Z]{2,20}|(\d{1,3}\.){3}\d{1,3})(:\d{4})?$/,c=e("#products_id").val(),d=e("#curWarehouse").val();if(o==a)o=e(".email_submit_box").find("input").attr("email");else if(!o||!l.test(o.replace(/(^\s*)|(\s*$)/g,"")))return e(".email_submit_box").removeClass("success").addClass("fail"),n.attr("ajaxClick",0),r.show(),!1;var u=homeUrl+"load/ajax/priceAlert.html",p="products_id="+c+"&cur_warehouse="+d+"&email="+o+"&notetxt=bool";p=s.attachEncrypt(p),i.fnGetJSONDate(u,p,n,function(){n.attr("ajaxClick",0),t.fnModalRemove()})}),e(document).on("click",".email_submit_box .email_submit",function(){e(this).parents(".email_submit_box").removeClass("fail").find(".tip").hide()})},fnAddWishItem:function(){function t(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null}var i=this,n=e("#products_id").val(),o=[],s=e(".main_plus .addToWish a");a.fnProductIdArr(o,"#item_together");var r=t("addWish");if(null!=r&&0==dataObj.isWishlist&&1==dataObj.hasLogin){var c=homeUrl+"load/product/addWishlist.html",d="products_id="+n+"&filter_id="+e("#products_id").val()+","+o.join(",")+"&getHotProductV2=1&getAlsoBuyV2=1&version=2";i.fnGetJSONDate(c,d,s,function(e){l.fnAddwishResult(e,s)})}},loadFBCheckBox:function(){window.BOTHUB={facebook_page_id:0x7dc0ba1b1094,language:"en_US",entrance:{fb_messenger_checkbox_ref:{gateway:"engagement",code:"cyc",psid:"0"}}},function(e,t,i){e.id=t,e.src=i,window[t]||document.body.appendChild(e)}(document.createElement("script"),"bothub-sdk","//sdk.bothub.ai/bothub.js")},bindFBEvent:function(){var t=this;window.bhAsyncInit=function(){FB.Event.subscribe("messenger_checkbox",function(i){if("checkbox"==i.event){t.isCheck="checked"===i.state?!0:!1;var n=e(".messager_submit_box .ok"),a=e(".messager_submit_box .email_submit");e.trim(a.val())?n.removeClass("disabled"):n.addClass("disabled")}else"rendered"==i.event&&e(".messager_submit_box .ok").addClass("render")})},t.fbMessagerSubmit(),e(".messenger_checkbox_text").removeClass("hide")},fbInputCheck:function(){e(".messager_submit_box .email_submit").on("input propertychange",function(){var t=e.trim(e(this).val());t?e(".messager_submit_box .ok").removeClass("disabled"):e(".messager_submit_box .ok").addClass("disabled")}).on("focus",function(){e(this).next().hide()})},fbMessagerSubmit:function(){var i=this;e(".messager_submit_box").on("click",".ok",function(){var n=e(this);if(!n.hasClass("disabled")&&1!=n.attr("isLoading"))if(n.attr("isLoading",1),i.isCheck){if(BOTHUB&&BOTHUB.Marketing&&BOTHUB.Marketing.logEvent("bind_fb_to_cid"),i.ajaxMessager(),i.validEmail()){var a=homeUrl+"load/ajax/priceAlert.html",o=e("#products_id").val(),r=e("#curWarehouse").val(),l=e(".email_submit_box").find("input").val(),c="products_id="+o+"&cur_warehouse="+r+"&email="+l+"&notetxt=bool";c=s.attachEncrypt(c),i.fnGetJSONDate(a,c,n,function(){i.addMessagerTip("Submit successfully",function(){e(".messager_submit_box").children(".ok").attr("isLoading",0),t.fnModalRemove()})})}}else i.ajaxMessagerEmail()})},ajaxMessager:function(){var i=this;e.ajax({url:"index.php?com=product&t=setMessengerWish",data:{is_updates:1,page_id:0x7dc0ba1b1094},dataType:"json"}).done(function(n){200==n.code&&i.addMessagerTip("Submit successfully",function(){e(".messager_submit_box").children(".ok").attr("isLoading",0),t.fnModalRemove()})}).fail(function(e){console.log("setMessengerRegister=>>>>>>>>>>>>>>>",e)})},ajaxMessagerEmail:function(){var i=e(".messager_submit_box").find("input").attr("init-email"),n=e(".messager_submit_box").find("input").val(),a=e(".messager_submit_box").find(".tip"),o=/^[\w-']+([\.\+][\w-']+)*@([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*?\.[a-zA-Z]{2,20}|(\d{1,3}\.){3}\d{1,3})(:\d{4})?$/,r=e("#products_id").val(),l=e("#curWarehouse").val(),c=e(".messager_submit_box").children(".ok"),d=this;if(n==i)n=e(".messager_submit_box").find("input").attr("email");else if(!n||!o.test(n.replace(/(^\s*)|(\s*$)/g,"")))return e(".messager_submit_box").find("input").addClass("fail"),c.attr("isLoading",0),a.show(),!1;var u=homeUrl+"load/ajax/priceAlert.html",p="products_id="+r+"&cur_warehouse="+l+"&email="+n+"&notetxt=bool";p=s.attachEncrypt(p),d.fnGetJSONDate(u,p,c,function(){d.addMessagerTip("Submit successfully",function(){e(".messager_submit_box").children(".ok").attr("isLoading",0),t.fnModalRemove()})})},validEmail:function(){var t=e(".messager_submit_box").find("input").attr("init-email"),i=e(".messager_submit_box").find("input").val(),n=/^[\w-']+([\.\+][\w-']+)*@([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*?\.[a-zA-Z]{2,20}|(\d{1,3}\.){3}\d{1,3})(:\d{4})?$/;return i==t?(i=e(".messager_submit_box").find("input").attr("email"),!0):i&&n.test(i.replace(/(^\s*)|(\s*$)/g,""))?void 0:!1},addMessagerTip:function(t,i){e(".messager_modal").get(0)&&(clearTimeout(this.timer),e(".messager_modal").remove()),e("body").append('<div class="messager_modal">'+t+"</div>"),this.timer=setTimeout(function(){e(".messager_modal").remove(),i&&i()},3e3)}};return l}),define("modules/share",["jquery","modalLayer","modules/query_handler"],function(e,t,i){var n={annshareImg:e('meta[property="og:image"]').attr("content"),annshareTitle:e('meta[property="og:title"]').attr("content"),annshareTitle1:e('meta[name="title"]').attr("content"),annshareDesctiption:e('meta[property="og:description"]').attr("content"),annurl:e('meta[property="og:url"]').attr("content"),isFrequent:!1,fnShareInit:function(){var i=this;e.cookie("checkbox_mark")||"1"==e.cookie("rand_num")||i.fnFbAsyncInit(),e(document).on("click",".share_icon ul li.messenger",function(){var t=e(this).attr("data-share-type");i.getShortLink(t,function(e){i.FuckingMessenger(e)})}),e(document).on("click",".share_icon ul li.facebook",function(){var t=e(this).attr("data-share-type");i.getShortLink(t,function(e){i.AnnShareFacebookFn(e)})}),e(document).on("click",".share_icon ul li.twitter",function(){var t=e(this).attr("data-share-type");i.getShortLink(t,function(e){i.FuckingshareTW(e)})}),e(document).on("click",".share_icon ul li.pinterest",function(){var n=e(this).attr("data-share-type");t.fnModalBg(),e(".modal_container").addClass("pinterest_modal").html(e("#newpinModule").html()),t.fnModalAdd(),e(document).on("mouseenter",".pinterest_modal .pinterestList li",function(){e(this).find(".sharePin").show()}),e(document).on("mouseleave",".pinterest_modal .pinterestList li",function(){e(this).find(".sharePin").hide()}),e(document).on("click",".pinterest_modal .sharePin em",function(){var t=e(this).parents("li").attr("data-name"),a=e(this).parents("li").attr("data-large");a=e.webp.replaceWebpPath(a),i.getShortLink(n,function(e){i.FuckingPin(t,a,e)})})}),e(document).on("click",".share_icon ul li.reddit",function(){var t=e(this).attr("data-share-type");i.getShortLink(t,function(e){i.FuckingReddit(e)})}),e(document).on("click",".share_icon ul li.vk",function(){var t=e(this).attr("data-share-type");i.getShortLink(t,function(e){i.FuckingVKShare(e)})}),e(document).on("click",".share_icon ul li.email",function(){var t=e(this).attr("data-share-type");i.getShortLink(t,function(e){i.FuckingEmail(e)})}),i.FuckingCopylink()},getShortLink:function(t,n,a){var o=this,s=0;window.snatch_serial_id&&(s=window.snatch_serial_id);var r="products_id="+window.productId+"&share_type="+t+"&serial_id="+s;r=i.attachEncrypt(r);var l=!0,c="";return a&&(l=!1),e.ajax({url:"/load/product/createShortUrl.html",data:r,dataType:"json",async:l,success:function(e){c=e.url||o.annurl,n&&n(c)}}),c},FuckingCopylink:function(){var t=this;if("undefined"!=typeof Clipboard){var i=0,n=new Clipboard(".item_share_box .share_right .share_icon ul li.copylink a",{text:function(i){var n=t.getShortLink("copy",null,!0);return e(i).attr("data-copy-text")+"\n"+n}});n.on("success",function(t){e(".copylink_tip").remove(),e("body").append('<div class="copylink_tip"><span>'+e(t.trigger).attr("data-copy-success")+"</span></div>"),clearTimeout(i),i=setTimeout(function(){e(".copylink_tip").remove()},3e3),t.clearSelection()}),n.on("error",function(e){e.clearSelection()})}},FuckingEmail:function(t){var i=e(".share_icon ul li.email a").attr("data-share-content"),n=e(".item_now_price").text(),a=e(".item_off_num").text()||"",o="Do you believe it? You can get this for only "+n+" on Banggood!",s=t+"####%0A%0A";s+="【"+n+"】",s+=a?" 【"+encodeURIComponent(a)+"】####%0A%0A":"####%0A%0A",s+=i,s=s.replace(/[&|\s]/g," ").replace(/####/g,"　　"),location="mailto:?subject="+o+"&body="+s},FuckingMessenger:function(e){window.open("https://www.facebook.com/dialog/send?app_id=246353225430376&link="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(e),"_blank")},FuckingReddit:function(e){window.open("https://www.reddit.com/submit?url="+encodeURIComponent(e),"_blank")},AnnShareFacebookFn:function(e){var t=this,i={method:"feed",display:"popup",link:e,picture:t.annshareImg,name:t.annshareTitle1,caption:"banggood",description:"Online Shopping at Banggood.com！"};"undefined"!=typeof FB&&FB.ui(i,function(e){})},fnFbAsyncInit:function(){window.fbAsyncInit=function(){FB.init({appId:"246353225430376",xfbml:!0,version:"v2.3",status:!0,cookie:!0})},function(e,t,i){var n,a=e.getElementsByTagName(t)[0];e.getElementById(i)||(n=e.createElement(t),n.id=i,n.src="//connect.facebook.net/en_US/sdk.js",a.parentNode.insertBefore(n,a))}(document,"script","facebook-jssdk")},FuckingshareTW:function(e){var t=this;window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(t.annshareTitle1)+"&url="+encodeURIComponent(e),"","height=600,width=800,top=100,left=100,toolbar=no")},FuckingPin:function(t,i,n){var a=this,i=encodeURIComponent(i).replace("%20","%2520"),n="http://pinterest.com/pin/create/bookmarklet/?media="+i+"&url="+encodeURIComponent(n)+"&description="+encodeURIComponent(a.annshareTitle1)+"&h=500&w=500",o=e(window).width()/2-325;window.open(n,"SharePhotoBanggood","scrollbars=yes,resizable=yes,width=650,height=350,top=50,left="+o)},FuckingVKShare:function(t){var i=this,t="https://vk.com/share.php?url="+encodeURIComponent(t)+"&title="+encodeURIComponent(i.annshareTitle)+"&image="+i.annshareImg+"&description="+i.annshareDesctiption,n=e(window).width()/2-325;window.open(t,"SharePhotoBanggood","scrollbars=yes,resizable=yes,width=650,height=650,top=50,left="+n)}};return n}),define("modules/add_cart",["jquery","modalLayer","modules/detail_common","modules/recommend","modules/slide_bar","modules/query_handler","../../../js/vip_task_requirejs"],function(e,t,i,n,a,o,s){var r={isV2:e("body").attr("data-v2"),isShowCheckbox:!1,isCheckboxLoaded:!1,isCheck:!1,oVipTask:null,fnInit:function(){this.fnClickAddCartBotton(),this.fnClickBuyNowBottom(),this.fnClickSocialSaving(),this.fnAddUnbeatableToCart(),this.fnPerorderToCart(),this.fnArrivalnoticeAddCart(),this.fnNotArrivalNotice(),this.fnCountryLimit(e(".addToCartBtn")),this.fnMouseCountryLimit(),this.fnClickBackTop(),e("#sub_quantity").attr("disabled",!0),e("#quantity_num").removeAttr("disabled"),sessionStorage.setItem("isCheckboxLoaded",0)},fnAjaxGetVipTask:function(){this.oVipTask=new s({taskIdArr:[10,11]})},getFbCartValueId:function(){var t=this,i=0,n=[],a=".item_color_box .color_list ul li.active,.size_bd_box ul li.active";e(a).each(function(){n[i]=e(this).find("a").attr("value_id"),i++}),n=n.sort(t.sortNumber);var o="";o=e("#products_id").val();var s,r=fb_jsonNewFB.content_ids,l=r[0],s=l.substr(l.length-2);e(n).each(function(e,t){o+="-"+t}),o+=s;var c=[o];return c},sortNumber:function(e,t){return e-t},sendFbAddCart:function(t){if("undefined"==typeof t)var i=0;else var i=1;if("undefined"!=typeof fbq){if("undefined"!=typeof fbq){var n,a;n=fb_jsonNewFB.first_source,a=fb_jsonNewFB.campaign}var o=e(".newdropdown .top_language li a.active").attr("code");if(o=o?o:"en-GB",0==i){var s=e(".item_now_price").attr("oriprice");if("undefined"!=typeof fbq){var r,l=[],c=0;e(".crumbs_list").find("li").each(function(t){t>1&&t%2==0&&(l[c]=e(this).find("a").eq(0).text(),c++)}),l=l.join(" > ");var d=e(".item_main .item_main_right .title_hd h2 .title_strong").eq(0).text()}}else var s=t.price,r=t.pid,l=t.cc,d=t.name,u=t.brands,p=t.size,h=t.color,f=t.material,m=t.pattern;fbq("track","AddToCart",{ecomm_site:window.fb_jsonNewFB&&window.fb_jsonNewFB.ecomm_site||"",content_type:"product",content_ids:r||window.fb_jsonNewFB&&window.fb_jsonNewFB.content_ids||"",value:s||window.fb_jsonNewFB&&window.fb_jsonNewFB.value||"",currency:"USD",content_category:l||window.fb_jsonNewFB&&window.fb_jsonNewFB.content_category||"",content_name:d||window.fb_jsonNewFB&&window.fb_jsonNewFB.content_name||"",page_lang:o,first_source:n,campaign:a,brand:u,size:p,color:h,material:f,pattern:m,route:"normal"}),t&&t.products_id&&(ga("ec:addProduct",{id:t.products_id,name:t.name,category:t.category,brand:t.brand,variant:t.variant,price:t.price,quantity:t.quantity}),ga("ec:setAction","add"),ga("send","event","product","click","middle_AddToCart2_button_181024"))}},_setDEMProductTOCart:function(e){var t=e,i="";null!=document.querySelector('meta[itemprop="price"]')&&(i=document.querySelector('meta[itemprop="price"]').getAttribute("content")),null!=document.querySelector('meta[itemprop="sku"]')&&(t=document.querySelector('meta[itemprop="sku"]').getAttribute("content")),window.localStorage.setItem("_DBMLastProductID",t),window.localStorage.setItem("_DBMLastProductPRICE",i)},fnClickAddCartBotton:function(){var a=this,s=".addToCartBtn .add_to_cart,.item_addcart_fixed .add_to_cart,.warehouse_box .bd ul li .addBtn .add_cart";e(document).on("click",s,function(s){s.preventDefault();var r=e(this),l=r.attr("dada-sub");if("1"==r.attr("ajaxClick"))return!1;if(r.attr("ajaxClick",1),r.hasClass("gray"))return r.attr("ajaxClick",0),r.parents(".item_addcart_fixed").length>0&&e("html,body").animate({scrollTop:0},500),!1;
if(!a.fnDsLimitBrand(dataObj.dsLimitBrand))return!1;if("1"==l){e("#sub_quantity").removeAttr("disabled"),e("#quantity_num").attr("disabled",!0);var c=r.parent().attr("max-stock");if(1>parseInt(c))return r.parent().siblings(".tip_msg").css("display","block"),r.attr("ajaxClick",0),e("#sub_quantity").attr("disabled",!0),e("#quantity_num").removeAttr("disabled"),!1}else{e("#sub_quantity").attr("disabled",!0),e("#quantity_num").removeAttr("disabled");var d=parseInt(e("#quantity_num").val());if(0==d)return r.attr("ajaxClick",0),e(".tip_message").show(),e(".main_plus .addToCartBtn").css("marginTop","9px"),!1;/(^[0-9]\d*$)/.test(d)&&d||(d=1),e("#quantity_num").val(d)}if(r.parents(".item_addcart_fixed").length>0){if(!a.fnCountryLimit(e(".item_addcart_fixed")))return!1;if(!a.fnValidateSelOptions(e(".item_addcart_fixed")))return!1}else if("1"==l){if(!a.fnCountryLimit(r.parent()))return!1;if(!a.fnValidateSelOptions(r.parent()))return!1}else{if(!a.fnCountryLimit(e(".addToCartBtn")))return!1;if(!a.fnValidateSelOptions(e(".addToCartBtn")))return!1}var u=a.fnGetSelectedOptions();if(u)for(var p=0;p<u.optionIds.length;p++){var h=u.optionIds[p],f=u.valueIds[p],m='<input type="hidden" name="id['+h+']" value="'+f+'" />';e("#newdetailCartForm .addToCartBtn").append(m)}e("#curWarehouse").val(dataObj.curWarehouse);e("#curWarehouse").val();"1"==l&&e("#curWarehouse").val(r.parent().attr("warehouse")),a.fnGetGiftData(e("#curWarehouse").val());var _=homeUrl+"load/shopcart/addProduct.html";e("input[name=com]").attr("disabled",!0),e("input[name=t]").attr("disabled",!0);var v=e("#newdetailCartForm").serialize(),g=e("#quantity_num").val();"1"==l&&(g=1);var b=e(".addcart_status .add_wish_title em").text();b=b.replace(/[0-9]*/,g),t.fnModalBg();var y=encodeURIComponent(window.location.href),w=encodeURIComponent(document.referrer||"");v=v+"&need_ext=1&visit_page="+y+"&refer="+w;var x="viptask",C="",k=new RegExp("(^|&)"+x+"=([^&]*)(&|$)","i"),S=window.location.search.substr(1).match(k);null!=S&&(C=decodeURIComponent(S[2])),v=v+"&"+x+"="+C,v=o.attachEncrypt(v),i.fnGetJSONData(_,"post",v,"json",function(i){if(e("input[name=com]").removeAttr("disabled"),e("input[name=t]").removeAttr("disabled"),"1"==l&&(e("#sub_quantity").attr("disabled",!0),e("#quantity_num").removeAttr("disabled"),e("#curWarehouse").val(dataObj.curWarehouse)),r.attr("ajaxClick",0),r.parent().siblings(".tip_msg").hide(),r.parent().siblings(".tip_message").hide(),a.isV2||e(".main_plus .addToCartBtn").css("marginTop","26px"),1==i.err)t.fnModalRemove(),"1"==l?(r.parent().siblings(".tip_msg").css("display","block").html(i.msg),e("#sub_quantity").val(i.data)):(e(".tip_message").show().html(i.msg),e(".main_plus .addToCartBtn").css("marginTop","9px"),e("#quantity_num").val(i.data));else if(2==i.err){t.fnModalRemove(),t.fnModalBg();var o='<div class="modal_ship"><span class="close"></span><span class="text_msg">'+i.msg+'</span><div class="modal_ship_btn"><a href="/shopping_cart.html" class="ok">'+i.text+'</a><a href="javascript:;" class="cancle">'+DetailLanguage.CancelBtn+"</a></div></div>";e(".modal_container").html(o),t.fnModalAdd()}else{e(".addcart_status .add_wish_title em").html(b);var s=e(".AlsoBought .item_bought_title h2").text();e(".addcart_status .modal_recommend h2").html(s),1==n.isShowBought?a.fnAddToCartSuccess():1==n.isHotProduct?n.fnAlsoBoughtDate(function(){a.fnAddToCartSuccess()}):n.fnHotProductDate(function(){n.fnAlsoBoughtDate(function(){a.fnAddToCartSuccess()})});var c=i.PIndata||{};if("1"!=l){if("undefined"!=typeof pintrk){var d=e(".title_hd h2").attr("data-oldtext"),u=e("#products_id").val(),p=e(".item_now_price").attr("oriprice"),h=PinterestTrackItem._GetProductCategory(),f=[],m=".item_color_box,.item_size_box";e(m).length>0&&e(m).find("li.active").each(function(){var t=e(this).attr("data-name");0==t.length&&(t=e(this).find("a").attr("value_id")),f.push(t)}),f=f.join(",");var _=[{product_name:d,product_id:u,product_price:p,product_quantity:e("#quantity_num").val(),product_variant:f,product_category:h,product_brand:c.brands,product_size:c.size,product_color:c.color,product_material:c.material,product_pattern:c.pattern}],v={value:1*e(".item_total_amount").attr("oriprice"),currency:PinterestTrackItem._GetCookie("currency"),lead_type:PinterestTrackItem._GetCookie("__bgqueue")?PinterestTrackItem._GetCookie("__bgqueue").split("|")[1]:"",line_items:_};pintrk("track","AddToCart",v)}a.sendFbAddCart()}a.fnSendFB(),i.snapchat&&window.snaptr&&snaptr("track","ADD_CART",i.snapchat)}})}),e(document).click(function(t){a.fnAllBottonCanClick();var i=e(".addToCartBtn .not_choose_info")[0]===t.target,n=e.contains(e(".addToCartBtn .not_choose_info")[0],t.target)||i,o=e(".item_addcart_fixed .not_choose_info")[0]===t.target,s=e.contains(e(".item_addcart_fixed .not_choose_info")[0],t.target)||o;n||s||(e(".addToCartBtn .not_choose_info").hide(),e(".item_addcart_fixed .not_choose_info").hide()),e(".warehouse_box .not_choose_info").hide()}),e(document).on("click",".not_choose_info .close",function(){e(this).parent().hide()})},fnClickBuyNowBottom:function(){var n=this,a=".addToCartBtn .add_buy_now,.item_addcart_fixed .add_buy_now";e(document).on("click",a,function(a){a.preventDefault();var s=this;if(e(s).hasClass("gray"))return e(s).parents(".item_addcart_fixed").length>0&&e("html,body").animate({scrollTop:0},500),!1;if(!n.fnDsLimitBrand(dataObj.dsLimitBrand))return!1;if(e(s).parents(".item_addcart_fixed").length>0){if(!n.fnCountryLimit(e(".item_addcart_fixed")))return!1;if(!n.fnValidateSelOptions(e(".item_addcart_fixed")))return!1}else{if(!n.fnCountryLimit(e(".addToCartBtn")))return!1;if(!n.fnValidateSelOptions(e(".addToCartBtn")))return!1}var r=n.fnGetSelectedOptions();if(r)for(var l=0;l<r.optionIds.length;l++){var c=r.optionIds[l],d=r.valueIds[l],u='<input type="hidden" name="id['+c+']" value="'+d+'" />';e("#newdetailCartForm .addToCartBtn").append(u)}if(e("#curWarehouse").val(dataObj.curWarehouse),n.fnGetGiftData(e("#curWarehouse").val()),!s.onoff){s.onoff=!0;var p=homeUrl+"load/shopcartnew/buyNow.html";e("input[name=com]").attr("disabled",!0),e("input[name=t]").attr("disabled",!0);var h=e("#newdetailCartForm").serialize(),f=encodeURIComponent(window.location.href),m=encodeURIComponent(document.referrer||"");h=h+"&need_ext=1&visit_page="+f+"&refer="+m,h=o.attachEncrypt(h),t.fnModalBg(),i.fnGetJSONData(p,"post",h,"json",function(n){if(s.onoff=!1,e("input[name=com]").removeAttr("disabled"),e("input[name=t]").removeAttr("disabled"),t.fnModalRemove(),n.success){if("undefined"!=typeof fbq){if("undefined"!=typeof fbq){var a,o;a=fb_jsonNewFB.first_source,o=fb_jsonNewFB.campaign}var r=e(".newdropdown .top_language li a.active").attr("code");r=r?r:"en-GB";var l=e(".item_now_price").attr("oriprice");fbq("track","BuyNow",{content_type:"product",content_category:window.fb_jsonNewFB&&window.fb_jsonNewFB.content_category||"",first_source:a,campaign:o,currency:"USD",value:l||window.fb_jsonNewFB&&window.fb_jsonNewFB.value||"",content_name:window.fb_jsonNewFB&&window.fb_jsonNewFB.content_name||"",content_ids:window.fb_jsonNewFB&&window.fb_jsonNewFB.content_ids||"",ecomm_site:window.fb_jsonNewFB&&window.fb_jsonNewFB.ecomm_site||"",page_lang:r})}window.location.href=n.redirect_url}else n.redirect_url?window.location.href=n.redirect_url:(t.fnModalBg(),i.fnCommonModal(t,n.msg))})}})},fnClickSocialSaving:function(){var n=this,a=".addToCartBtn .add_social_saving,.item_addcart_fixed .add_social_saving";e(document).on("click",a,function(a){a.preventDefault();var s=this;if(e(s).hasClass("gray"))return e(s).parents(".item_addcart_fixed").length>0&&e("html,body").animate({scrollTop:0},500),!1;if(!n.fnDsLimitBrand(dataObj.dsLimitBrand))return!1;if(e(s).parents(".item_addcart_fixed").length>0){if(!n.fnCountryLimit(e(".item_addcart_fixed")))return!1;if(!n.fnValidateSelOptions(e(".item_addcart_fixed")))return!1}else{if(!n.fnCountryLimit(e(".addToCartBtn")))return!1;if(!n.fnValidateSelOptions(e(".addToCartBtn")))return!1}var r=n.fnGetSelectedOptions();if(r)for(var l=0;l<r.optionIds.length;l++){var c=r.optionIds[l],d=r.valueIds[l],u='<input type="hidden" name="id['+c+']" value="'+d+'" />';e("#newdetailCartForm .addToCartBtn").append(u)}if(e("#curWarehouse").val(dataObj.curWarehouse),n.fnGetGiftData(e("#curWarehouse").val()),!s.onoff){s.onoff=!0;var p=homeUrl+"load/snatch/buyProduct.html";e("input[name=com]").attr("disabled",!0),e("input[name=t]").attr("disabled",!0),e("input[name=quantity]").attr("disabled",!0),e("input[name=botCat]").attr("disabled",!0),e("input[name=sku]").attr("disabled",!0),e("input[name=selPoa]").attr("disabled",!0),e("input[name=selAttrId]").attr("disabled",!0);var h=e("#newdetailCartForm").serialize();h+="&need_ext=1",h=o.attachEncrypt(h),t.fnModalBg(),i.fnGetJSONData(p,"post",h,"json",function(n){s.onoff=!1,e("input[name=com]").removeAttr("disabled"),e("input[name=t]").removeAttr("disabled"),e("input[name=quantity]").removeAttr("disabled"),e("input[name=botCat]").removeAttr("disabled"),e("input[name=sku]").removeAttr("disabled"),e("input[name=selPoa]").removeAttr("disabled"),e("input[name=selAttrId]").removeAttr("disabled"),t.fnModalRemove(),n.redirect_url&&!n.msg?window.location.href=n.redirect_url:!n.redirect_url&&n.msg?(t.fnModalBg(),i.fnCommonModal(t,n.msg)):n.redirect_url&&n.msg&&(t.fnModalBg(),i.fnCommonModal(t,n.msg),e(document).off("click.buyProduct").on("click.buyProduct",".modal_ship_btn .ok",function(){window.location.href=n.redirect_url}))})}})},fnAllBottonCanClick:function(){e(".addToCartBtn a").attr("ajaxClick",0),e(".item_addcart_fixed .addCartBtn a").attr("ajaxClick",0),e(".bought_all_pirce .allAddToCart a").attr("ajaxClick",0),e(".warehouse_box .bd ul li").each(function(){e(this).find("a").attr("ajaxClick",0)})},fnGetGiftData:function(t){e('input[name="accesory_id[]"]').remove(),e(".item_gift_box").each(function(i,n){var a=e(n).attr("warehouse");a==t&&e(n).find(".checkbox_active1").length>0&&e(n).is(":visible")&&e(n).find(".checkbox_active1").each(function(i,n){var a=e(this).parents(".gift_box").attr("data-pid"),o="";if(e(n).parents(".gift_box").attr("warehouse")==t){var s=e(n).parents(".gift_box").find(".gift_attr");s.each(function(){var t=e(this).find("li.active").find("a").attr("option_id"),i=e(this).find("li.active").find("a").attr("value_id");o=o+"{"+t+"}"+i});var r=a+o,l='<input type="hidden" name="accesory_id[]" value="'+r+'" />';e("#newdetailCartForm .addToCartBtn").append(l)}})})},fnAddToCartSuccess:function(){t.fnModalRemove(),t.fnModalBg();var n=e(".AlsoBought .boughtCarousel").html();e(".addcart_status .scroll_box ul").html(n),e(".modal_container").addClass("add_wish_mask addCart_module").html(e(".addcart_status").html()),window.Rd&&window.Rd.changeRecord&&window.Rd.changeRecord({$container:e(".modal_container .scroll_box ul")}),t.fnModalAdd(),loadHeadCart(),a.loadData(),this._setDEMProductTOCart(e("#products_id").val()),e(".addCart_module").find(".modal_recommend_list ul li").length<=0?e(".addCart_module").find(".modal_recommend").hide():(e(".addCart_module").find(".modal_recommend").show(),e(".addCart_module").find(".scroll_box li").attr("style",""),e(".addCart_module").find(".scroll_box li").length>10&&(e(".addCart_module").find(".scroll_box li").eq(9).nextAll().remove(),e(".addCart_module").find(".scroll_box li").each(function(){e(this).find(".span_cod").remove()})),e(".addCart_module").find(".scroll_box li").length>4&&(e(".addCart_module").find(".btn_right").removeClass("btn_off"),i.fnScrollPlay(".addCart_module .modal_recommend",4))),this.fnClickCloseMask()},fnClickCloseMask:function(){var i=this;i.fnAjaxGetVipTask(),e(document).on("click",".addCart_module .continue_shopp",function(){t.fnModalRemove()}),t.onHide=function(){i.oVipTask.showTaskPop(11),i.oVipTask.showTaskPop(10),t.onHide=null}},fnGetSelectedOptions:function(){if(!this.fnValidateSelOptions(e(".addToCartBtn")))return!1;var t=".item_color_box,.item_size_box",i=new Array,n=new Array;e(t).each(function(){var t=e(this).attr("option_id"),a=0;e(this).find("li").each(function(){var t=e(this).hasClass("active");t&&(a=e(this).find("a").attr("value_id"))}),i.push(t),n.push(a)});var a={};return a.optionIds=i,a.valueIds=n,a},fnValidateSelOptions:function(t){var i=this,n=e(".item_color_box,.item_size_box"),a=t.find(".not_choose_info"),o=n.length,s=0,r=!0;return n.each(function(){var t=e(this),n=0;if(e(this).find("li").each(function(){var a=e(this).hasClass("active"),o=t.get(0).id.indexOf("all_country_size")>=0,s=o?t.find(".size_tip").height():0,r=t.find(".select_prompt");return a?(r.hide(),i.isV2&&t.css("padding-bottom",s),(t.next().attr("class").indexOf("item_gift_box")>-1||t.next().next().attr("class").indexOf("item_gift_box")>-1)&&e(".item_gift_box").eq(0).css("marginTop","12px"),n=1,e("#quantity_num").removeAttr("disabled"),!1):(r.addClass("twinkling animate-shake").show(),i.isV2&&(t.css("padding-bottom",s+24),o&&r.css("bottom",-1*(s+32))),(t.next().attr("class").indexOf("item_gift_box")>-1||t.next().next().attr("class").indexOf("item_gift_box")>-1)&&e(".item_gift_box").eq(0).css("marginTop","28px"),setTimeout(function(){e(".select_prompt").removeClass("twinkling animate-shake")},1500),void 0)}),1==n)a.hide(),s++;else if(r&&(a.parents(".item_addcart_fixed").length>0&&a.removeClass("not_countryLimit").show().find(".text_info").html(DetailLanguage.SelectedAttrTip+" "+e(this).attr("data-text")+',<a href="javascript:;">'+DetailLanguage.BackToTop+"</a><i></i>"),a.parents(".item_addcart_fixed").length>0&&"ar-AR"==currentLang?a.css({right:-(a.outerWidth()+15),left:"auto"}):a.css("left",-(a.outerWidth()+15)),r=!1,a.parents(".item_addcart_fixed").length>0))return r}),e(".item_color_box").each(function(t,i){if(e(i).find(".select_prompt").is(":visible")){var n=e(i).find(".color_list ul").height();108>=n&&e(i).find(".color_list").css({overflow:"visible",height:n})}else e(i).find(".color_list").css({overflow:"hidden",height:"auto"})}),e("#quantity_num").removeAttr("disabled"),this.fnAllBottonCanClick(),0==r?!1:o==s},fnClickBackTop:function(){e(document).on("click",".item_addcart_fixed .not_choose_info .text_info a",function(){var t=e(this);e("html,body").animate({scrollTop:0},500,function(){t.parents(".not_choose_info").hide()})})},fnCountryLimit:function(e){var t=!0;if(""!=dataObj.countryLimit){if(e.hasClass("item_addcart_fixed")){var i='<i></i><span class="textBox"><span class="text_content"><em><em></em></em><p></p></span></span>';e.find(".not_choose_info").addClass("not_countryLimit").show().find(".text_info").html(i),e.find(".not_choose_info").find(".text_content p").html(dataObj.countryLimit),e.find(".not_choose_info").css("ar-AR"==currentLang?{right:"-24px",left:"auto"}:{left:"-24px",right:"auto"})}else e.find(".not_choose_info").addClass("not_countryLimit").show().find(".text_info").html(dataObj.countryLimit+"<i></i>"),e.find(".not_choose_info").css("left",-(e.find(".not_choose_info").outerWidth()+15)),this.isV2&&"ar-AR"!=currentLang&&e.find(".not_choose_info").css({right:-(e.find(".not_choose_info").outerWidth()+15),left:"auto"});t=!1}return this.fnAllBottonCanClick(),t},fnMouseCountryLimit:function(){e(document).on("mouseenter",".item_addcart_fixed .text_info",function(){e(this).find(".textBox").show()}),e(document).on("mouseleave",".item_addcart_fixed .text_info",function(){e(this).find(".textBox").hide()})},fnPerorderToCart:function(){var t=this,i=".addToCartBtn .perorder,.item_addcart_fixed .perorder,.warehouse_box .bd ul li .addBtn .perorder";e(document).on("click",i,function(){function i(){"1"==a&&e("#curWarehouse").val(n.parent().attr("warehouse"));var i=t.fnGetSelectedOptions();if(i)for(var o=0;o<i.optionIds.length;o++){var s=i.optionIds[o],r=i.valueIds[o],l='<input type="hidden" name="id['+s+']" value="'+r+'" />';e("#newdetailCartForm .addToCartBtn").append(l)}t.fnGetGiftData(e("#curWarehouse").val()),t._setDEMProductTOCart(e("#products_id").val()),e("#newdetailCartForm").submit()}{var n=e(this),a=n.attr("dada-sub");parseInt(e("#quantity_num").val())}if(e(this).hasClass("gray"))return!1;if(!t.fnDsLimitBrand(dataObj.dsLimitBrand))return!1;if(t.fnSendFB(),"1"==a){e("#sub_quantity").removeAttr("disabled"),e("#quantity_num").attr("disabled",!0);var o=n.parent().attr("max-stock");if(1>parseInt(o))return n.parent().siblings(".tip_msg").css("display","block"),!1}else e("#quantity_num").removeAttr("disabled"),e("#sub_quantity").attr("disabled",!0);if(n.parents(".item_addcart_fixed").length>0){if(!t.fnCountryLimit(e(".item_addcart_fixed")))return!1;if(!t.fnValidateSelOptions(e(".item_addcart_fixed")))return!1}else if("1"==a){if(!t.fnCountryLimit(n.parent()))return!1;if(!t.fnValidateSelOptions(n.parent()))return!1}else{if(!t.fnCountryLimit(e(".addToCartBtn")))return!1;if(!t.fnValidateSelOptions(e(".addToCartBtn")))return!1}t.fnCheckRestBookNum(n,a,function(){i()})})},fnCheckRestBookNum:function(n,a,s){var r=this,l=!0,c=e("#products_id").val(),d=e("#quantity_num").val();"1"==a&&(d=e("#sub_quantity").val());var u=e("#curWarehouse").val();"1"==a&&(u=n.parent().attr("warehouse"));var p=homeUrl+"load/product/checkRestBookNum.html",h="products_id="+c+"&quantity="+d;h+="&warehouse="+u;var f=r.fnGetSelectedOptions(),f=f.valueIds;void 0!=f&&(h+="&valueId="+f.join(",")),h=o.attachEncrypt(h),i.fnGetJSONData(p,"get",h,"json",function(e){return e.flag?void(s&&s()):("login"==e.msg?window.location.href=homeUrl+"login.html":i.fnCommonModal(t,e.msg),l=!1,!1)})},fnAddBundleToCart:function(){var n=this;e(".item_bought .item_bought_title ul li").each(function(){var s=e(this).attr("data-class"),r="."+s+" .bought_all_pirce .allAddToCart a";e(document).on("click",r,function(){var s=e(this);if(s.hasClass("gray")||s.parents(".Unbeatable").length>0)return!1;if(!n.fnDsLimitBrand(dataObj.dsLimitBrand))return!1;if("1"==s.attr("ajaxClick"))return!1;if(s.attr("ajaxClick",1),!n.fnCountryLimit(e(".addToCartBtn")))return!1;if(!n.fnValidateSelOptions(e(".addToCartBtn")))return e("html,body").animate({scrollTop:0},500),s.attr("ajaxClick",0),!1;var r="",l=dataObj.curWarehouse,c=e("#products_id").val(),d="",u=".item_color_box .color_list ul li.active,.size_bd_box ul li.active";e(u).each(function(t,i){var n=e(i).find("a").attr("option_id"),a=e(i).find("a").attr("value_id"),o=n+"-"+a;d=d+o+"_"}),d=d.substring(0,d.length-1),r=r+c+"_"+d+">"+l+"|";var p=1;s.parents(".item_bought_bd").find(".boughtCarousel li").each(function(t,i){if(e(i).find(".now_price").hasClass("checkbox_active1")){var n=e(i).attr("data-productid"),a="";e(i).hasClass("hasattr")&&(e(i).find(".active").each(function(t,i){var n=e(i).parents(".list_size").attr("data-option-id"),o=e(i).attr("data-value-id"),s=n+"-"+o;a=a+s+"_"}),a=a.substring(0,a.length-1));var o=e(this).attr("data-ware");r=r+n+"_"+a+">"+o+"|",p++}}),r.length>2&&(r=r.substring(0,r.length-1));var h=homeUrl+"load/product/addBundleToCart.html",f="params="+r;f=o.attachEncrypt(f),i.fnGetJSONData(h,"post",f,"json",function(o){if(s.attr("ajaxClick",0),0==o.error){loadHeadCart(),a.loadData(),n._setDEMProductTOCart(e("#products_id").val()),i.fnCommonModal(t,o.msg),n.sumCartGoodsNum(p);var r=homeUrl+"load/product/getProductFBParam.html";i.fnGetJSONData(r,"post",f,"json",function(e){if(0==e.error){var t={};t.price=s.parents(".item_bought_bd").find(".all_price .now_price").attr("oriprice"),t.pid=e.pid,t.cc=e.cc,t.name=e.name,n.sendFbAddCart(t)}})}})})})},sumCartGoodsNum:function(t){var i=e("#cart_nums_id").html(),n=1*t+1*parseInt(i);e("#cart_nums_id,.bgbar .topbar .cart .num").html(n)},fnAddUnbeatableToCart:function(){var n=this;e(document).on("click",".Unbeatable .bought_all_pirce .allAddToCart a",function(){var s=e(this);if(s.hasClass("gray"))return!1;if(!n.fnDsLimitBrand(dataObj.dsLimitBrand))return!1;if("1"==s.attr("ajaxClick"))return!1;if(s.attr("ajaxClick",1),!n.fnCountryLimit(e(".addToCartBtn")))return!1;if(!n.fnValidateSelOptions(e(".addToCartBtn")))return e("html,body").animate({scrollTop:0},500),s.attr("ajaxClick",0),!1;var r="",l=1;if(s.parents(".item_bought_bd").find(".boughtCarousel li").each(function(t,i){if(e(i).find(".now_price").hasClass("checkbox_active1")){var n=e(i).attr("data-productid");e(i).hasClass("hasattr")&&e(i).find(".active").each(function(t,i){var a=e(i).parents(".list_size").attr("data-option-id"),o=e(i).attr("data-value-id"),s="{"+a+"}"+o;n+=s}),r+="&accesory_id[]="+n,l++}}),""==r)return i.fnCommonModal(t,DetailLanguage.SelectedAccesoryTip),s.attr("ajaxClick",0),!1;var c=e("#curWarehouse").val(),d=e("#products_id").val(),u=n.fnGetSelectedOptions();if(0==u)return!1;if(u)for(var p=0;p<u.optionIds.length;p++){var h=u.optionIds[p],f=u.valueIds[p];d+="{"+h+"}"+f}var m=homeUrl+"load/product/addAccesoryToCart.html",_="warehouse="+c+"&main_pid="+d+r;_=o.attachEncrypt(_),i.fnGetJSONData(m,"post",_,"json",function(o){s.attr("ajaxClick",0),0==o.error&&(loadHeadCart(),a.loadData(),n._setDEMProductTOCart(e("#products_id").val()),i.fnCommonModal(t,o.msg),n.sumCartGoodsNum(l))})})},fnArrivalnoticeAddCart:function(){var n=this,a=".main_plus .addToCartBtn .arrivalnotice,.item_addcart_fixed .arrivalnotice,.warehouse_box .bd ul li .addBtn .arrivalnotice";e(document).on("click",a,function(){var a=e(this);if("1"==a.attr("ajaxClick"))return!1;if(a.attr("ajaxClick",1),0==dataObj.hasLogin)return void(location.href=homeUrl+"login.html");var s=e("#products_id").val(),r=homeUrl+"load/product/presellAlert.html",l="pid="+s;l+="&version=2",l=o.attachEncrypt(l),i.fnGetJSONData(r,"get",l,"html",function(i){a.attr("ajaxClick",0),t.fnModalBg(),e(".modal_container").addClass("notice_mask presellAlert").html(i),1==e(".presellAlert").children(".modal_ship").attr("value")||n.isCheckboxLoaded||1==sessionStorage.getItem("isCheckboxLoaded")?e(".presellAlert").find(".email_submit").removeClass("hide"):(e(".presellAlert").find(".messager_presell_box").removeClass("hide"),n.isCheckboxLoaded=!0,n.loadFBCheckBox(),n.bindFBEvent(),n.fbInputCheck(),sessionStorage.setItem("isCheckboxLoaded",1)),e(".presellAlert").children(".modal_ship").removeClass("hide"),t.fnModalAdd()})}),e(document).on("click",".presellAlert .confirm_btn",function(){var n=e(this);if("1"==n.attr("ajaxClick"))return!1;n.attr("ajaxClick",1);var a=n.siblings(".receive_email"),s=a.val(),r=e("#products_id").val(),l=!1;if(n.siblings(".tip").remove(),!i.zValidateEmail(s)){var c=a.attr("msg");a.siblings(".tip").remove(),a.parent().append("<span class='tip'><i></i>"+c+"</span>");var l=!0}if(l)return n.attr("ajaxClick",0),!1;var d=homeUrl+"load/product/ajaxAddPre.html",u="email="+s+"&products_id="+r;return u=o.attachEncrypt(u),i.fnGetJSONData(d,"post",u,"json",function(){n.attr("ajaxClick",0),t.fnModalRemove(),i.fnCommonModal(t,DetailLanguage.SuccessfullyPreOrdered,!0,"0 -727px")}),!1})},fnNotArrivalNotice:function(){var n=this,a=".main_plus .addToCartBtn .arrival_alert,.item_addcart_fixed .arrival_alert,.warehouse_box .bd ul li .addBtn .arrival_alert";e(document).on("click",a,function(){var a=e(this);if(a.hasClass("gray"))return!1;var s=a.attr("dada-sub"),r=e("#products_id").val();if("1"==a.attr("ajaxClick"))return!1;a.attr("ajaxClick",1),"1"==s&&e("#curWarehouse").val(a.parent().attr("warehouse"));var l="",c=".item_size_box .size_bd_box ul,.item_color_box .color_list ul";(e(".item_size_box").length>0||e(".item_color_box").length>0)&&e(c).each(function(){if(0==e(this).find("li.active").length){if(a.parents(".item_addcart_fixed").length>0){if(!n.fnValidateSelOptions(e(".item_addcart_fixed")))return!1}else if("1"==s){if(!n.fnValidateSelOptions(self.parent()))return!1}else if(!n.fnValidateSelOptions(e(".addToCartBtn")))return!1;self.attr("ajaxClick",0)}else{var t=e(this).find(".active a").attr("value_id");"undefined"==typeof t&&(t=""),l+="&value_ids[]="+t}});var d=homeUrl+"load/product/arrivalNotice.html",u="products_id="+r+"&warehouse=CN"+l;u+="&version=2",u=o.attachEncrypt(u),i.fnGetJSONData(d,"get",u,"json",function(i){e("#curWarehouse").val(dataObj.curWarehouse),a.attr("ajaxClick",0),0==i.login?window.location.href=homeUrl+"login.html":(t.fnModalBg(),1==i.subscribed?e(".modal_container").addClass("add_wish_mask commonly_mask").html(i.html):(!e(".arrivalNotice.modal_container").get(0)&&e(".modal_container").addClass("notice_mask arrivalNotice").html(i.html),e("#arrivalnotice-messenger-box").attr("data-isCheckedMessenger")||n.isCheckboxLoaded||1==sessionStorage.getItem("isCheckboxLoaded")?(e("#arrivalnotice-messenger-box").addClass("hide"),e(".email_submit .confirm_btn").removeClass("hide")):(e("#arrivalnotice-messenger-box").removeClass("hide"),e(".email_submit .confirm_btn").addClass("hide"),n.bindArrivalNoticeSubscribeEvent(),n.loadFBCheckBox(),sessionStorage.setItem("isCheckboxLoaded",1),n.isCheckboxLoaded=!0)),t.fnModalAdd())})}),e(document).on("click",".arrivalNotice .confirm_btn",function(){var a=!1,s=e(this);if("1"==s.attr("ajaxClick")||s.hasClass("disabled"))return!1;s.attr("ajaxClick",1);var r=e(".arrivalNotice .receive_email"),l=r.val(),c=r.attr("oldvalue"),d=r.attr("initvalue"),u=r.attr("msg"),p=r.attr("msg2");r.siblings(".tip").remove();var h=e("#products_id").val(),f=e("#curWarehouse").val(),m="",_=".item_size_box .size_bd_box ul,.item_color_box .color_list ul";if((e(".item_size_box").length>0||e(".item_color_box").length>0)&&e(_).each(function(){var t=e(this).find(".active a").attr("value_id");"undefined"==typeof t&&(t=""),m+="&value_ids[]="+t}),l)if(l==d||i.zValidateEmail(l)){var v=l.split("@");"banggoodauto.com"==v[1]?(r.siblings(".tip").remove(),r.parent().append("<span class='tip'><i></i>"+p+"</span>"),a=!0):l==d&&(l=c)}else r.siblings(".tip").remove(),r.parent().append("<span class='tip'><i></i>"+u+"</span>"),a=!0;else r.focus(),a=!0;if(a)return s.attr("ajaxClick",0),!1;var g=homeUrl+"load/product/submitArrivalNotice.html",b="products_id="+h+"&warehouse="+f+"&email="+l+m;b+="&version=2",b=o.attachEncrypt(b),i.fnGetJSONData(g,"get",b,"json",function(i){if(s.attr("ajaxClick",0),t.fnModalRemove(),t.fnModalBg(),e(".modal_container").addClass("add_wish_mask commonly_mask").html(i.html),t.fnModalAdd(),n.isCheck&&(BOTHUB&&BOTHUB.Marketing.logEvent("add-to-cart-abandon24"),e.ajax({url:"index.php?com=product&t=setMessengerArrivalNotice",data:{is_updates:1,page_id:0x7dc0ba1b1094,product_id:e("#products_id").val()},dataType:"json"})),l==d)e(".commonly_mask .modal_ship_bd .email_text strong").html(d);else{var a=/^(..).+(..)$/g,o="",r=l.split("@");o=r[0].length>4?r[0].replace(a,"$1***$2"):r[0].substr(0,2)+"***",e(".commonly_mask .modal_ship_bd .email_text strong").html(o+"@"+r[1])}})})},fnDsLimitBrand:function(n){var a=!0;if(dataObj.dsLimitBrand){if(2==dataObj.dsLimitBrandStatus||3==dataObj.dsLimitBrandStatus)i.fnCommonModal(t,dataObj.dsLimitBrand);else{t.fnModalBg();var o='<div class="modal_ship modal_brand_apply"><span class="close"></span><div class="text_msg">'+n+'</div><div class="modal_ship_btn"><a href="javascript:;" class="brand_apply_btn">Apply</a><a href="javascript:;" class="brand_apply_no">No</a></div>';e(".modal_container").html(o),t.fnModalAdd(),e(document).on("click",".brand_apply_no",function(){t.fnModalRemove()}).on("click",".brand_apply_btn",function(){window.location.href="/index.php?com=account&t=dropshipBrandApply"})}a=!1}return this.fnAllBottonCanClick(),a},fnSendFB:function(t){if(e(".fb_checkbox_title").is(":visible")){var n=e.cookie("currency"),a=window.sessionStorage.getItem("PRODUCT_PRICE")||0,o=e.trim(e(".title_hd h2").text()),s=e("#products_id").val();BOTHUB.Marketing.logAddedToCartEvent(s,o,n,a);var r={com:"product",t:"setMessengerUpdates",page_id:0x7dc0ba1b1094,is_updates:window.isFBCheckboxCheck?1:2};i.fnGetJSONData(homeUrl+"index.php?","post",r,"json",function(){t&&t()})}else t&&t()},loadFBCheckBox:function(){window.BOTHUB={facebook_page_id:0x7dc0ba1b1094,language:"en_US",entrance:{fb_messenger_checkbox_ref:{gateway:"engagement",code:"cyd",psid:"0"}}},function(e,t,i){e.id=t,e.src=i,window[t]||document.body.appendChild(e)}(document.createElement("script"),"bothub-sdk","//sdk.bothub.ai/bothub.js")},bindFBEvent:function(){var t=this;window.bhAsyncInit=function(){FB.Event.subscribe("messenger_checkbox",function(i){if("checkbox"==i.event){t.isCheck="checked"===i.state?!0:!1;var n=e(".messager_presell_box .messager_btn"),a=e(".messager_presell_box .receive_email");e.trim(a.val())?n.removeClass("disabled"):n.addClass("disabled")}else"rendered"==i.event&&e(".messager_presell_box .messager_btn").addClass("render")})},t.fbMessagerSubmit()},fbInputCheck:function(){e(".messager_presell_box .receive_email").on("input propertychange",function(){var t=e.trim(e(this).val());t?e(".messager_presell_box .messager_btn").removeClass("disabled"):e(".messager_presell_box .messager_btn").addClass("disabled")}).on("focus",function(){e(this).next().remove()})},fbMessagerSubmit:function(){var n=this;e(".messager_presell_box").on("click",".messager_btn",function(){var a=e(this),s=e(".messager_presell_box").find(".receive_email").val();if(!a.hasClass("disabled")&&1!=a.attr("isLoading"))if(a.attr("isLoading",1),n.isCheck){if(BOTHUB&&BOTHUB.Marketing&&BOTHUB.Marketing.logEvent("bind_fb_to_cid"),n.ajaxMessager(),i.zValidateEmail(s)){var r=homeUrl+"load/product/ajaxAddPre.html",l="email="+s+"&products_id="+products_id;l=o.attachEncrypt(l),i.fnGetJSONData(r,"post",l,"json",function(){a.attr("isLoading",0),t.fnModalRemove(),i.fnCommonModal(t,DetailLanguage.SuccessfullyPreOrdered,!0,"0 -727px")})}}else n.ajaxMessagerEmail()})},ajaxMessager:function(){var i=this;e.ajax({url:"index.php?com=product&t=setMessengerArrival",data:{is_updates:1,page_id:0x7dc0ba1b1094,product_id:e("#products_id").val()},dataType:"json"}).done(function(n){200==n.code&&i.addMessagerTip("Submit successfully",function(){e(".messager_presell_box").find(".messager_btn").attr("isLoading",0),t.fnModalRemove()})}).fail(function(e){console.log("setMessengerRegister=>>>>>>>>>>>>>>>",e)})},ajaxMessagerEmail:function(){var n=e(".messager_presell_box").find(".receive_email"),a=e.trim(n.val()),s=e("#products_id").val();if(!i.zValidateEmail(a)){var r=n.attr("msg");return n.siblings(".tip").remove(),n.parent().append("<span class='tip'><i></i>"+r+"</span>"),e(".messager_presell_box").find(".messager_btn").attr("isLoading",0),!1}var l=homeUrl+"load/product/ajaxAddPre.html",c="email="+a+"&products_id="+s;c=o.attachEncrypt(c),i.fnGetJSONData(l,"post",c,"json",function(){e(".messager_presell_box").find(".messager_btn").attr("isLoading",0),t.fnModalRemove(),i.fnCommonModal(t,DetailLanguage.SuccessfullyPreOrdered,!0,"0 -727px")})},addMessagerTip:function(t,i){e(".messager_modal").get(0)&&(clearTimeout(this.timer),e(".messager_modal").remove()),e("body").append('<div class="messager_modal">'+t+"</div>"),this.timer=setTimeout(function(){e(".messager_modal").remove(),i&&i()},3e3)},bindArrivalNoticeSubscribeEvent:function(){var t=this,i=e(".arrivalNotice .receive_email"),n=e(".arrivalnotice_subscibe_btn");window.bhAsyncInit=function(){FB.Event.subscribe("messenger_checkbox",function(a){switch(a.event){case"checkbox":t.isCheck="checked"===a.state?!0:!1,e.trim(i.val())?n.removeClass("disabled"):n.addClass("disabled");break;case"rendered":}})},i.on("input propertychange",function(){e.trim(i.val())?n.removeClass("disabled"):n.addClass("disabled")})}};return r}),define("modules/bought_together",["jquery","modules/product_list","../../../tools/modules/currency","modules/recommend","scrollLoading","modules/add_cart","jqueryCookie","modules/query_handler","modules/add_wish"],function(e,t,i,n,a,o,s,r,l){var c={stockMsgCacheArr:[],categoryPartsInfo:{},fnInit:function(){if(t.fnInit(),n.fnInit(),null!=t.getUrlParam("semads"))e("#item_together").hide(),e(".HotProducts,.AlsoView,.AlsoBought").hide();else{var i=e("#snatch_serial_id").val()||window.snatch_serial_id;if(i){if((1==t.getUrlParam("gpla")||1==window.isTop&&0==e.cookie("ab_hotproducts"))&&e("#J-HotProducts").length){var a=e("#J-HotProducts").html();e("#J-HotProducts,#J-top-HotProducts").remove();var o='<div class="item_wrap" id="J-top-HotProducts">'+a+"</div>";e(".crumbs_list").parents(".buybox_normal").before(o)}n.fnHotProductDate()}else this.fnBoughtGetData()}},fnGetJSONData:function(t,i,n){e.ajax({url:t,type:"get",data:i,dataType:"json",success:function(e){n&&n(e)
}})},fnBoughtGetData:function(){var i=this,a=e("#products_id").val(),s=e("#curWarehouse").val(),c=e("#item_together"),d=homeUrl+"load/product/ajaxBundle.html",u="products_id="+a;s&&(u+="&warehouse="+s),u=r.attachEncrypt(u),i.fnGetJSONData(d,u,function(a){c.attr("isAjax",1),i.categoryPartsInfo=a.categoryPartsInfo;var s="",r="";a.bundle.prod.length>0&&(r+='<li data-class="Frequently" data-str="bundle"><a href="javascript:;">'+a.bundle.name+"</a></li>");var d=[],u=[],p=[],h=[];for(var f in a)if("bundle"==f&&a[f].prod.length>0)p.push("Frequently"),u.push(f),h.push(a[f].name),d.push(a[f].prod);else if("accesory"==f&&a[f].prod.length>0)p.push("Unbeatable"),u.push(f),h.push(a[f].name),d.push(a[f].prod);else if("special"==f&&a[f].prod.length>0)p.push("Special"),u.push(f),h.push(a[f].name),d.push(a[f].prod);else if("scm"==f&&a[f].prod.length>0)p.push("Scm"),u.push(f),h.push(a[f].name),d.push(a[f].prod);else if("table_pc"==f)for(var m in a.table_pc)"table_cases"==m&&a.table_pc[m].prod.length>0?(p.push("TableCases"),u.push(m),h.push(a.table_pc[m].name),d.push(a.table_pc[m].prod)):"table_km"==m&&a.table_pc[m].prod.length>0?(p.push("tableKm"),u.push(m),h.push(a.table_pc[m].name),d.push(a.table_pc[m].prod)):"table_sp"==m&&a.table_pc[m].prod.length>0&&(p.push("tableSp"),u.push(m),h.push(a.table_pc[m].name),d.push(a.table_pc[m].prod));else if("cateBundle"==f&&null!=a.cateBundle)for(var _ in a.cateBundle)a.cateBundle[_].prod.length>0&&(p.push(_),u.push(_),h.push(a.cateBundle[_].name),d.push(a.cateBundle[_].prod));else if("categoryParts"==f&&null!=a.categoryParts)for(var _ in a.categoryParts)a.categoryParts[_].prod.length>0&&(p.push(a.categoryParts[_].name.replace(/\&/g,"").replace(/\s+/g,"")+"CategoryParts"),u.push(_),h.push(a.categoryParts[_].name),d.push(a.categoryParts[_].prod));if(d.length>0){for(var v=0;v<d.length;v++){var g=0;c.show(),"bundle"!=u[v]&&(r+='<li data-class="'+p[v]+'" data-str="'+u[v]+'"><a href="javascript:;">'+h[v]+"</a></li>"),"bundle"==u[v]||"accesory"==u[v]||"special"==u[v]||(s=e(".Frequently").clone(),s.removeClass("Frequently").addClass(p[v]).find(".boughtCarousel").html("")),e(".Special").before(s),"accesory"==u[v]?g=1:"special"==u[v]&&(g=2),i.fnListWritePage(d[v],g,"."+p[v],p[v]),c.find(".item_bought_title ul").html(r),c.find(".item_bought_title ul").find("li").eq(0).addClass("active"),c.find(".item_bought_title ul").find("li").each(function(){e(this).addClass("clickandsend middle_unbeatablepackage_button_180411").attr("data-point-id",18101211603)})}var b=c.find(".item_bought_title ul").find("li").length;if(b>6){c.find(".item_bought_title ul").find("li").eq(6).addClass("list_more");var y=c.find(".item_bought_title ul").find(".list_more").prev().nextAll("li");c.find(".item_bought_title ul").find(".list_more").nextAll("li").remove();for(var w="",v=0;v<y.length;v++)w+='<span class="list-drop-text" data-class="'+e(y[v]).data("class")+'">'+e(y[v]).text()+"</span>";c.find(".item_bought_title ul").find(".list_more").find("a").text(DetailLanguage.LA_LANG_LABLE_MORE);var x='<div class="list-drop-down">'+w+"</div>";c.find(".item_bought_title ul").find("li.list_more").append(x)}c.find(".item_bought_title ul").find("li").each(function(){e(this).hasClass("list_more")||e(this).addClass("clickandsend middle_unbeatablepackage_button_180411").attr("data-point-id",18101211603)}),i.RecommendToReport()}else"function"==typeof showCodTag&&showCodTag(),c.hide();l.fnAddWishItem(),i.fnListDateAppendUl();for(var f=0;f<c.find(".boughtCarousel li").length;f++)e(".item_attr_box .attr_list_box").each(function(t,i){c.find(".boughtCarousel li").eq(f).attr("data-productid")==e(i).attr("data-id")&&c.find(".boughtCarousel li").eq(f).addClass("hasattr").append(e(i).clone(!0))});if(i.fnClickCloseAttr(),1==c.find(".item_bought_title ul li").length&&c.find(".item_bought_title").addClass("item_bought_one").find("a").removeAttr("href"),c.find(".item_bought_title ul li").each(function(t,i){if(e(i).hasClass("active")){var n=e(i).attr("data-class");c.find(".item_bought_bd").hide(),e("."+n).show()}}),i.fnUnbeatableBtnShow(),c.find(".item_bought_bd01").each(function(t,n){i.fnInitBindPrice(e(n));var a=e(n).attr("class");if(a.indexOf("CategoryParts")>-1){var o=i.categoryPartsInfo;e(n).css("marginTop","14px");var s='<div class="accessoriesHref">                            <a burying-point-data="middle_AccessoriesCenter_button_20190304|product|1962010806" href="/accessories-smartphone.html?bid='+o.bid+"&mid="+o.mid+'" target="_blank">'+DetailLanguage.LP_ACCESSORIES_CENTER+"</a>                        </div>";e(n).prepend(s),e(n).find(".boughtCarousel li").each(function(){var t=e(this).attr("data-productid"),i='<div class="quick-view">                                <span data-product-id="'+t+'">'+DetailLanguage.LP_PRODUCT_FBT_QUICK_VIEW+"</span>                            </div>";e(this).find(".img").append(i)}),e(n).find(".allAddToCart a").removeClass("middle_unbeatablepackageaddtocart_button_180411").attr({"data-point-id":"","burying-point-data":"middle_AccessoriesAddToCart_button_20190304|product|1962010657"})}}),"undefined"!=typeof IdeaThumbImg&&IdeaThumbImg.init(),"undefined"!=typeof IdeaCart&&IdeaCart.init(".quick-view span"),i.fnClickListTable(),o.fnAddBundleToCart(),null==t.getUrlParam("semads"))if((1==t.getUrlParam("gpla")||1==window.isTop&&0==e.cookie("ab_hotproducts"))&&e("#J-HotProducts").length){var C=e("#J-HotProducts").html();e("#J-HotProducts,#J-top-HotProducts").remove();var k='<div class="item_wrap" id="J-top-HotProducts">'+C+"</div>";e(".crumbs_list").parents(".buybox_normal").before(k),n.fnHotProductDate()}else e(".HotProducts").offset().top<=e(window).scrollTop()?n.fnHotProductDate():e(".HotProducts").scrollLoading(n.fnHotProductDate)})},fnListWritePage:function(t,i,n,a){var o=this,s="",r="",l=2==i?"block":"none",c=1==i?"block":"none",d=1==i||0==i?"block":"none",u="Frequently"==a?"top_frequentlyBuyTogether2_image_20161213":"middle_unbeatablepackageproduct_button_180411",p="Frequently"==a?"18270025316":"18101211604";if(e.each(t,function(n){var a=void 0!=t[n].warehouse?t[n].warehouse:"",o=1==t[n].is_bind&&void 0!=t[n].is_bind?"checkbox_active1 middle_unbeatablepackageprice_button_180411":"checkbox_on1 middle_unbeatablepackageprice_button_180411",h=void 0!=t[n].is_bind?t[n].is_bind:"";2==i&&(o="");var f=void 0!=t[n].ori_products_price?t[n].ori_products_price:"",m=void 0!=t[n].format_products_price?t[n].format_products_price:"",_=void 0!=t[n].ori_final_price?t[n].ori_final_price:"";if(void 0!=t[n].reviewAmount){var v=t[n].reviewAmount.amountPecent,g=t[n].reviewAmount.amount;l=g>0?"block":"none"}var b=(t[n].cod_icon2?"inline-block":"none","block"==c&&f>_?"block":"none"),y="undefined"!=typeof t[n].mespcod?t[n].mespcod:"",w="",x=e.webp.replaceWebpPath(t[n].smallImage);t[n].cod_icon2&&(w+='<span class="span_cod ar_cod_icon" data-show-cod="'+t[n].CODMiddleEastIP+'" me_or_sp_cod="'+y+'" style="display:none"><em>COD</em></span>'),s+='<li data-num="'+n+'" data-productid="'+t[n].products_id+'" data-ware="'+a+'" data-bind="'+h+'" style="z-index:'+(t.length-n)+'"><span class="img"><a href="'+t[n].url+'" class="'+u+'" data-point-id="'+p+'"><img src="'+x+'" alt="" /></a></span><span class="title" title="'+t[n].products_name+'"><a href="'+t[n].url+'" class="'+u+'" data-point-id="'+p+'">'+t[n].products_name+'</a></span><span class="review" style="display: '+l+'"><span class="star1"><i class="star_color" style="width:'+v+'"></i></span><span class="review_num">('+g+')</span></span><span class="now_price '+o+'" data-point-id="18101211605"><i style="display:'+d+'"></i><em oriprice="'+t[n].ori_final_price+'" data-final-price="'+t[n].ori_final_price+'">'+t[n].format_final_price+'</em></span><span class="old_price" oriprice="'+f+'" style="display: '+b+'">'+m+"</span>"+w+"</li>",t[n].attr&&t[n].attr.length>0&&(r+='<div class="attr_list_box" data-id="'+t[n].products_id+'"><span class="close"></span>',e.each(t[n].attr,function(i){r+='<div class="list_size" data-option-id="'+t[n].attr[i].option_id+'"><span class="title">'+t[n].attr[i].name+'</span><span class="attr_list clearfix">',e.each(t[n].attr[i].values,function(a){for(var o=!1,s="",l=0;l<t[n].defaultAttr.length;l++)t[n].defaultAttr[l]==t[n].attr[i].values[a].value_id&&(o=!0);if(o&&(s="active"),void 0!=t[n].attr[i].values[a].smallImage){var c=e.webp.replaceWebpPath(t[n].attr[i].values[a].smallImage);r+='<a href="javascript:;" data-value-id="'+t[n].attr[i].values[a].value_id+'" data-poa-price="'+t[n].attr[i].values[a].poa_price+'" class="color '+s+'"><img src="'+c+'" alt="'+t[n].attr[i].values[a].value_name+'" /></a>'}else r+='<a href="javascript:;" data-value-id="'+t[n].attr[i].values[a].value_id+'" data-poa-price="'+t[n].attr[i].values[a].poa_price+'" class="'+s+'">'+t[n].attr[i].values[a].value_name+"</a>"}),r+="</span></div>"}),r+='<div class="list_btn"><span class="cancel"><a href="javascript:;">'+DetailLanguage.CancelBtn+'</a></span><span class="ok"><a href="javascript:;">'+DetailLanguage.OkBtn+"</a></span></div></div>")}),e(n).find(".boughtCarousel").append(s),"Unbeatable"==a||"Frequently"==a)for(var h=0;3>h;h++)e(n).find(".boughtCarousel li").eq(h).find(".now_price").removeClass("checkbox_on1").addClass("checkbox_active1");else e(n).find(".boughtCarousel li").eq(0).find(".now_price").removeClass("checkbox_on1").addClass("checkbox_active1");e(".item_attr_box").append(r),o.fnExposureStat(1,e(n).find(".boughtCarousel"))},RecommendToReport:function(){e(".Frequently").is(":visible")&&setTimeout(function(){"undefined"!=typeof Rd&&Rd.AutoGetAjaxData(".Frequently .bought_list",Rd)},1200)},fnExposureStat:function(e,t){"undefined"!=typeof Rd&&(1==e?window.Rd&&Rd.exposureByNewWay&&window.Rd.changeRecord&&window.Rd.changeRecord({$container:t}):window.Rd&&Rd.exposureByNewWay&&window.Rd.changeRecord&&window.Rd.changeRecord({checkall:1}))},fnUnbeatableBtnShow:function(){var t=e(".main_plus .addToCartBtn a").attr("data-num");"undefined"!=typeof dataObj.is_param_price&&1==dataObj.is_param_price?e(".item_bought .item_bought_bd").each(function(){e(this).find(".allAddToCart a").addClass("gray").html(DetailLanguage.LA_SNAPUP_SOLD_OUT)}):"1"==t?(e(".item_bought .item_bought_bd").each(function(){e(this).find(".allAddToCart a").removeClass("gray")}),dataObj.can_buy_stock<=0&&e(".item_bought .item_bought_bd").each(function(){e(this).find(".allAddToCart a").addClass("gray")})):"2"==t?e(".item_bought .item_bought_bd").each(function(){e(this).find(".allAddToCart a").addClass("gray")}):"3"==t?e(".item_bought .item_bought_bd").each(function(){e(this).find(".allAddToCart a").addClass("gray")}):"4"==t&&(e(".item_bought .item_bought_bd").each(function(){e(this).find(".allAddToCart a").removeClass("gray")}),1==dataObj.hideBuy&&e(".item_bought .item_bought_bd").each(function(){e(this).find(".allAddToCart a").addClass("gray")}))},fnListDateAppendUl:function(){var i=this;e('.item_bought_title ul li:not(".list_more"),.item_bought_title ul li.list_more .list-drop-text').each(function(n,a){var o=e(a).attr("data-class"),s=e(a).attr("data-str");e(a).hasClass("active")&&("special"==s?t.fnChageListDate("."+o+" .boughtCarousel",1734,150,8,76):(t.fnChageListDate("."+o+" .boughtCarousel",1195,150,6,60),t.fnCheckboxClick("."+o,function(e){i.fnAttrBundlePrice(e)})),e(".item_bought .bought_right").css("height","auto"))})},fnInitBindPrice:function(n){{var a=0;i.getCookieCurrency()}n.find(".boughtCarousel li").each(function(t,i){if("1"==e(i).attr("data-bind")||e(i).find(".now_price").hasClass("checkbox_active1")){a++;var o=e(i).attr("data-num"),s=e(i).attr("data-productid"),r=e(i).find(".img").find("img").attr("src");e('.attr_list_box[data-id="'+s+'"] .attr_list a.active img').length&&(r=e('.attr_list_box[data-id="'+s+'"] .attr_list a.active img').attr("src")),r=e.webp.replaceWebpPath(r);var l=e(i).attr("data-bind"),c='<li data-num="'+o+'" data-productid="'+s+'" data-bind="'+l+'"><a href="javascript:;"><img src="'+r+'" alt="" /></a><span class="close middle_unbeatablepackagedelete_button_180411" data-point-id="18101211606"></span></li>';n.find(".list_next").before(c)}}),n.find(".items_num").html(a+1),t.calculateBundlePrice(n,e(".item_now_price").attr("oriprice"))},fnClickListTable:function(){var i=this;e(document).on("click",'.item_bought .item_bought_title ul li:not(".list_more"),.item_bought_title ul li.list_more .list-drop-text',function(){if(e(this).hasClass("active")||e(this).parents(".item_bought_title").hasClass(".item_bought_one"))return!1;e(this).parents(".list_more").length?e(this).parents(".list_more").siblings("li").removeClass("active"):(e(".list-drop-down").hide(),e(this).siblings(".list_more").find(".list-drop-text").removeClass("active")),e(".item_attr_box .attr_list_box").hide(),t.fnDestroySlider(),e(this).addClass("active").siblings().removeClass("active");var n=e(this).attr("data-class");e("#item_together .item_bought_bd").hide(),e("."+n).show(),i.fnListDateAppendUl(),i.fnExposureStat()}).on("click",".item_bought_title ul li.list_more",function(){var t=e(this).hasClass("open");t?e(this).removeClass("open").find(".list-drop-down").hide():e(this).addClass("open").find(".list-drop-down").show(),i.fnExposureStat()})},fnClickCloseAttr:function(){var i=this;e(document).on("click",".attr_list_box .close,.attr_list_box .list_btn span a",function(){e(this).parents(".attr_list_box").hide()}),e(document).on("click",".attr_list_box .attr_list a",function(){var n=e(this);if(n.hasClass("lack_stock"))return!1;var a=n.parents(".attr_list_box");n.addClass("active").siblings().removeClass("active lack_stock"),a.find(".attr_list a").each(function(){e(this).hasClass("lack_stock")&&e(this).removeClass("lack_stock").addClass("active")});var o=n.parents(".attr_list_box").attr("data-id");i.checkStockByPoa(a,function(){var a=n.parents(".attr_list_box").html();e("#item_together .item_bought_bd .boughtCarousel li").each(function(n,s){o==e(s).attr("data-productid")&&(e(s).find(".attr_list_box").html(a),i.fnAttrBundlePrice(e(s)),t.calculateBundlePrice(e(s).parents(".item_bought_bd"),e(".item_now_price").attr("oriprice")))})});var s=n.find("img").attr("src");s=e.webp.replaceWebpPath(s),e('.bought_all_box .bought_all_pirce ul li[data-productid="'+o+'"] img').attr("src",s)})},checkStockByPoa:function(t,i){var n=this,a=!0,o=t.attr("data-id"),s="",l=new Array;if(t.find(".attr_list .active").each(function(){var t=e(this).attr("data-value-id");l.push(t),s=s+t+"-"}),t.find(".list_size").length<=1)return i&&i(),!0;s=s.substring(0,s.length-1);var c=homeUrl+"load/product/checkStockByPoa.html",d="products_id="+o+"&op_str="+s;return d=r.attachEncrypt(d),n.fnGetJSONData(c,d,function(n){0==n.error&&(n.flag?(t.find(".attr_list a").removeClass("active"),t.find(".attr_list a").each(function(){for(var t=e(this).attr("data-value-id"),i=0;i<l.length;i++)l[i]==t&&e(this).addClass("active")}),e("#item_together .item_bought_bd .boughtCarousel li").each(function(t,i){if(o==e(i).attr("data-productid")){e(i).addClass("hasattr"),e(i).find(".now_price").removeClass("checkbox_on1").addClass("checkbox_active1");var n=e(i).attr("data-productid"),a=e(i).parents(".item_bought_bd").find(".bought_all_box"),s=parseInt(e(i).parents(".item_bought_bd").find(".items_num").html()),r=!1;if(a.find(".bought_all_pirce ul li").each(function(){var t=e(this).attr("data-productid");n==t&&(r=!0)}),!r){var l=e(i).attr("data-num"),c=e(i).find(".img").find("img").attr("src");e('.attr_list_box[data-id="'+n+'"] .attr_list a.active img').length&&(c=e('.attr_list_box[data-id="'+n+'"] .attr_list a.active img').attr("src")),c=e.webp.replaceWebpPath(c);var d='<li data-num="'+l+'" data-productid="'+n+'"><a href="javascript:;"><img src="'+c+'" alt="" /></a><span class="close"></span></li>';a.find(".list_next").before(d),s++,e(i).parents(".item_bought_bd").find(".items_num").html(s)}}})):(t.find(".attr_list a").removeClass("active"),t.find(".attr_list a").each(function(){for(var t=e(this).attr("data-value-id"),i=0;i<l.length;i++)l[i]==t&&e(this).addClass("lack_stock")}),e("#item_together .item_bought_bd .boughtCarousel li").each(function(t,i){if(o==e(i).attr("data-productid")){e(i).removeClass("hasattr");var n=parseInt(e(i).parents(".item_bought_bd").find(".items_num").html());e(i).find(".now_price").removeClass("checkbox_active1").addClass("checkbox_on1");{var a=e(i).parents(".item_bought_bd").find(".bought_all_box");e(i).attr("data-productid")}a.find(".bought_all_pirce ul li").each(function(){o==e(this).attr("data-productid")&&(e(this).hide().remove(),n--,e(i).parents(".item_bought_bd").find(".items_num").html(n))})}})),i&&i())}),a},fnAttrPoaPrice:function(t){var n=this;if(t.hasClass("hasattr")){var a=t.attr("data-productid"),o=dataObj.curWarehouse,s="",l=new Array;t.find(".attr_list .active").each(function(){var t=e(this).attr("data-value-id");l.push(t),s=s+t+"-"}),s=s.substring(0,s.length-1);var c=homeUrl+"load/product/getProductPoaFinalPrice.html",d="pid="+a+"&op_str="+s+"&ware="+o;"undefined"!=typeof r&&(d=r.attachEncrypt(d)),n.fnGetJSONData(c,d,function(e){var o={opStr:a+"-"+s,price:e.price};if(n.stockMsgCacheArr.push(o),"undefined"!=typeof e.price){var r=i.getCookieCurrency(),l=i.getPriceByCurrency(e.price,r,!0);t.find(".now_price em").attr("oriprice",e.price).html(l)}})}},fnAttrBundlePrice:function(t){var n=this,a=i.getCookieCurrency();if(t.parents(".item_bought_bd").hasClass("Unbeatable")){var o=t.attr("data-productid");if(e('.attr_list_box[data-id="'+o+'"] .attr_list a.active').length){var s=e('.attr_list_box[data-id="'+o+'"] .attr_list a.active').attr("data-poa-price"),r=i.getPriceByCurrency(s,a,!0);t.find(".now_price em").attr("oriprice",s).html(r)}}else if(t.find(".now_price").hasClass("checkbox_active1")){var l=!1,c="",d=new Array;t.find(".attr_list .active").each(function(){var t=e(this).attr("data-value-id");d.push(t),c=c+t+"-"}),c=c.substring(0,c.length-1),c=t.attr("data-productid")+"-"+c;for(var s=0,u=0;u<n.stockMsgCacheArr.length;u++)n.stockMsgCacheArr[u].opStr==c&&(l=!0,s=n.stockMsgCacheArr[u].price);if(l){var r=i.getPriceByCurrency(s,a,!0);t.find(".now_price em").attr("oriprice",s).html(r)}else n.fnAttrPoaPrice(t)}else{var p=t.find(".now_price em").attr("data-final-price");t.find(".now_price em").attr("oriprice",p).html(i.getPriceByCurrency(p,a,!0))}}};return c}),define("modules/quantity",["jquery","../../../tools/modules/currency","modules/add_cart","require"],function(e,t,i,n){var a={isV2:1==e("body").attr("data-v2"),fnInit:function(){var i=this;this.fnClickAddButton(),this.fnClickdiffButton(),this.fnKeyupEvent(),this.fnkeypressUpEvent(),this.fnkeypressBlurEvent(),e(document).on("click",".currency_list ul li",function(){var e=t.getCookieCurrency();i.fnAutoSubtotal(e)}),parseInt(e("#quantity_num").val())>1&&e(".item_quantity .quantity_prev").removeClass("not_prev")},getWholesaleEDMPrice:function(i,n){var a=t.getCookieCurrency(),o=e(".item_now_price").attr("oriprice"),s=e(".item_price_box .item_now_price").attr("oriPrice3"),r=e(".item_price_box .item_now_price").attr("oriPrice10"),l=e(".item_price_box .item_now_price").attr("oriPrice30"),c=e(".item_price_box .item_now_price").attr("oriPrice100"),d=t.getPriceByCurrencyNew(s,a),u=t.getPriceByCurrencyNew(r,a),p=t.getPriceByCurrencyNew(l,a),h=t.getPriceByCurrencyNew(c,a);d=(100*Number(d)).toFixed(0)/100,u=(100*Number(u)).toFixed(0)/100,p=(100*Number(p)).toFixed(0)/100,h=(100*Number(h)).toFixed(0)/100,e(".item_ws_gradient").find("li").removeClass("active");var f=o;i>=.5&&(n>=3&&10>n?(f=s,e(".item_ws_gradient").find(".gradient_price_3").addClass("active")):n>=10&&30>n?(f=r,e(".item_ws_gradient").find(".gradient_price_10").addClass("active")):n>=30&&100>n?(f=l,e(".item_ws_gradient").find(".gradient_price_30").addClass("active")):n>=100?(f=c,e(".item_ws_gradient").find(".gradient_price_100").addClass("active")):(f=e(".item_now_price").attr("noworiprice"),e(".item_ws_gradient").find(".gradient_price_1").addClass("active")),"undefined"!=typeof oBrazil&&1!=dataObj.multiDiscountShow&&oBrazil.BrazilInterestRate(f));e("#curWarehouse").val();return(1==dataObj.isHideBatch||1==dataObj.newUserProductShow)&&(f=o),Number(f)},changePriceAccordingToQtyAndFlag:function(i){var n=t.getCookieCurrency(),a=this,o=parseFloat(e(".item_now_price").attr("oriprice")),s=a.getWholesaleEDMPrice(o,i);e(".item_now_price").attr("oriprice",s).html(s),t.autoChangePrice(e(".item_price_box .item_now_price").eq(0),n,!0),e(".item_price_box .item_now_price").attr("oriprice",e(".item_price_box .item_now_price").attr("noworiprice"))},checkQuantityNum:function(t,i){if(t=parseInt(t),isNaN(t))return!1;"add"==i?t++:"sub"==i&&t--,t=1>t?1:t;var n=dataObj.can_buy_stock;if(0>=n&&(n=1),t>parseInt(n)||t>300){e("#quantity_num").val(parseInt(n)>300?300:n),("add"==i||"show"==i)&&e(".item_quantity .quantity_next").addClass("not_next");var a=e("#quantity_num").val();return(1==parseInt(n)||0>=a)&&e(".item_quantity .quantity_prev").addClass("not_prev"),""!=e(".tip_message").html()&&(e(".tip_message").show(),this.isV2||e(".main_plus .addToCartBtn").css("marginTop","9px")),dataObj.guideToWholesaleShow?e(".guide_wholesale_tips_wrap").show():e(".guide_wholesale_tips_wrap").hide(),!1}return e(".item_quantity .quantity_next").removeClass("not_next"),e(".tip_message").hide(),e(".guide_wholesale_tips_wrap").hide(),this.isV2||e(".main_plus .addToCartBtn").css("marginTop","26px"),!0},fnBuyMorePrice:function(e){var t=n("modules/detail_main");t.fnBuyMoreSaveMore(e)},fnClickAddButton:function(){var i=this;e(document).on("click",".item_quantity .quantity_next",function(){if(e(this).hasClass("not_next"))return!1;var n=t.getCookieCurrency(),a=parseInt(e("#quantity_num").val());return/(^[0-9]\d*$)/.test(a)&&a&&0!=a||(a=1),i.checkQuantityNum(a,"add")?(a+=1,a>1&&e(".item_quantity .quantity_prev").removeClass("not_prev"),e("#quantity_num").val(a),i.fnBuyMorePrice(e("#quantity_num").val()),void i.fnAutoSubtotal(n)):!1})},fnClickdiffButton:function(){var i=this;e(document).on("click",".item_quantity .quantity_prev",function(){if(e(this).hasClass("not_prev"))return!1;var n=t.getCookieCurrency();e(".tip_message").hide(),e(".guide_wholesale_tips_wrap").hide(),i.isV2||e(".main_plus .addToCartBtn").css("marginTop","26px"),e(".item_quantity .quantity_next").removeClass("not_next");var a=parseInt(e("#quantity_num").val());return/(^[0-9]\d*$)/.test(a)&&a&&0!=a||(a=1),i.checkQuantityNum(a,"sub")?(a-=1,1>=a&&e(this).addClass("not_prev"),e("#quantity_num").val(a),i.fnBuyMorePrice(e("#quantity_num").val()),void i.fnAutoSubtotal(n)):!1})},fnKeyupEvent:function(){var i=this;e("#quantity_num").keyup(function(){var n=t.getCookieCurrency(),a=e("#quantity_num").val();1==a.length?(this.value=this.value.replace(/[^1-9]/g,""),e("#quantity_num").val(e("#quantity_num").val().replace(/[^1-9]/g,""))):(this.value=this.value.replace(/\D/g,""),e("#quantity_num").val(e("#quantity_num").val().replace(/\D/g,""))),i.fnBuyMorePrice(e("#quantity_num").val()),i.fnAutoSubtotal(n)})},fnkeypressUpEvent:function(){var i=this;e(document).on("keypress","#quantity_num",function(n){if("13"==n.keyCode){var a=t.getCookieCurrency(),o=parseInt(e("#quantity_num").val());/(^[0-9]\d*$)/.test(o)&&o&&0!=o||(o=1);{var s=parseInt(e(this).val());parseInt(e(this).attr("value"))}e(this).attr("value",s),i.checkQuantityNum(s,"show"),i.fnBuyMorePrice(e("#quantity_num").val()),i.fnAutoSubtotal(a)}})},fnkeypressBlurEvent:function(){var i=this;e(document).on("blur","#quantity_num",function(){var n=t.getCookieCurrency();e(".item_quantity .quantity_next").removeClass("not_next");var a=parseInt(e(this).find("#quantity_num").val());/(^[0-9]\d*$)/.test(a)&&a&&0!=a||(a=1);{var o=parseInt(e(this).val());parseInt(e(this).attr("value"))}e(this).attr("value",o),1>=o||isNaN(o)?(o=1,e(this).val(o),e(".item_quantity .quantity_prev").addClass("not_prev")):e(".item_quantity .quantity_prev").removeClass("not_prev"),i.checkQuantityNum(o,"show");parseFloat(e(".item_now_price").attr("oriprice"));i.fnBuyMorePrice(e("#quantity_num").val()),i.fnAutoSubtotal(n)})},fnAutoSubtotal:function(i,n){var a=parseFloat(e("#quantity_num").val()||0),o=parseInt(dataObj.can_buy_stock);o>0&&0==a&&(a=1);var s=parseFloat(e(".item_now_price").attr("oriprice"));0==dataObj.isHideBatch&&e('.tabbar_item[aria-links="WholesaleInquiry"]').is(":visible")&&1!=dataObj.newUserProductShow&&(a>=3&&10>a?s=parseFloat(e(".item_now_price").attr("oriprice3")):a>=10&&30>a?s=parseFloat(e(".item_now_price").attr("oriprice10")):a>=30&&100>a?s=parseFloat(e(".item_now_price").attr("oriprice30")):a>=100&&(s=parseFloat(e(".item_now_price").attr("oriprice100"))));var r=(a*s).toFixed(2);0==a&&(r=0);var l=t.getPriceByCurrency(r,i,!0);e(".main_plus .hd_price .price_num").attr("oriprice",r).html(l),t.autoChangePrice(e(".main_plus .hd_price .price_num"),t.getCookieCurrency(),!0),t.autoChangePrice(e(".item_total_amount"),t.getCookieCurrency(),!0),n&&void 0!=n&&(1==n.is_dropship?e(".main_plus .hd_price .price_text").hide():e(".main_plus .hd_price .price_text").show(),1==n.is_dropship?e(".main_plus .hd_price .price_text, .item_total_tip").hide():e(".main_plus .hd_price .price_text, .item_total_tip").show()),e(".main_plus .hd_price .price_text em").text(parseInt(r)),e(".item_total_tip em").text(parseInt(r)),e(".item_total_amount").attr("oriprice",r).html(l),this.changePriceAccordingToQtyAndFlag(a)}};return a}),define("modules/receive",["jquery","modalLayer","modules/detail_common","modules/query_handler","jqueryCookie"],function(e,t,i,n){var a={fnInit:function(){this.fnReceiveInit(),this.fnPriceAlertInit(),this.fnReportError(),this.fnRemoveTip(),this.autoHideRefer()},autoHideRefer:function(){clearInterval(this.referTimer),this.referTimer=setTimeout(function(){e(".item_ensure .item_ensure_modal li.refer .tip").hide(),e.cookie("refer",1,{expires:1})},5e3),e(".item_ensure .item_ensure_modal li.refer").hover(function(){e(this).find(".tip").show()},function(){e(this).find(".tip").hide()}),1==e.cookie("refer")?e(".item_ensure .item_ensure_modal li.refer .tip").hide():e(".item_ensure .item_ensure_modal li.refer .tip").show()},fnReceiveInit:function(){e(document).on("click",".item_ensure .receive",function(){var a=homeUrl+"load/product/showInvitFriends.html",o="&version=2";t.fnModalBg(),o=n.attachEncrypt(o),i.fnGetJSONData(a,"get",o,"json",function(n){2==n.status?(e(".modal_container").addClass("Invitate_mask").html(n.msg),t.fnModalAdd(),e(".Invitate_mask").find(".InvitateBtn").height()>46?e(".Invitate_mask").find(".Invite").css("float","left"):e(".Invitate_mask").find(".Invite").css("float","right")):1==n.status?(t.fnModalRemove(),i.fnCommonModal(t,n.msg)):window.location.href=homeUrl+"login.html"})}),e(document).on("click",".InvitateBtn .add_email",function(){var t='<li><input type="text" class="inputchang" placeholder="'+DetailLanguage.EmailAddress+'"  name="email[]"><span class="close1"><i></i></span></li>';19==e(this).parents(".Invitate_bd").find("li").length&&e(this).hide(),e(this).parents(".Invitate_bd").find("li").removeClass("inputerror").find(".tip").remove(),e(this).parents(".Invitate_bd").find("ul").append(t)}),e(document).on("click",".InvitateBtn .Invite",function(){var a=e(this);if("1"==a.attr("ajaxClick"))return!1;a.attr("ajaxClick",1);var o=e("#newmodalReceiveForm").serialize(),s=e("#products_id").val(),r=homeUrl+"load/ajax/referFriend.html",l="refer_products_id="+s+"&"+o+"&version=2";l=n.attachEncrypt(l),i.fnGetJSONData(r,"post",l,"json",function(n){if(a.attr("ajaxClick",0),1==n.status){for(var o=n.msg,s=0,r=o.length;r>s;s++)if(o[s].length){var l='<span class="tip"><i></i>'+o[s]+"</span>";e(".Invitate_mask").find("li").eq(s).find(".tip").remove(),e(".Invitate_mask").find("li").eq(s).addClass("inputerror").append(l)}}else 2==n.status?(t.fnModalRemove(),i.fnCommonModal(t,n.msg,!0,"0 -692px")):window.location.href=homeUrl+"login.html"})}),e(document).on("click",".add_email_list li .close1",function(){e(this).parent().remove(),e(".InvitateBtn .add_email").show()})},fnPriceAlertInit:function(){e(document).on("click",".item_ensure .price_alert",function(){var a=e("#products_id").val(),o="load/product/showPriceAlert.html",s="products_id="+a;s+="&version=2",t.fnModalBg(),s=n.attachEncrypt(s),i.fnGetJSONData(o,"get",s,"html",function(i){e(".modal_container").addClass("notice_mask price_modal").html(i),t.fnModalAdd()})}),e(document).on("click",".price_modal .confirm_btn",function(){var a=e(this),o=a.hasClass("active"),s=a.siblings("input").attr("init-email"),r=a.siblings("input").val(),l=/^[\w-']+([\.\+][\w-']+)*@([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*?\.[a-zA-Z]{2,20}|(\d{1,3}\.){3}\d{1,3})(:\d{4})?$/,c=e("#products_id").val(),d=e("#curWarehouse").val();if(r==s&&(r=a.siblings("input").attr("email")),!r||!l.test(r.replace(/(^\s*)|(\s*$)/g,"")))return a.siblings(".tip").remove(),a.parent().append("<span class='tip'><i></i>Please check your email format.</span>"),!1;if(o)return!1;a.addClass("active");var u=homeUrl+"load/ajax/priceAlert.html",p="products_id="+c+"&cur_warehouse="+d+"&email="+r+"&notetxt=bool";p=n.attachEncrypt(p),i.fnGetJSONData(u,"post",p,"json",function(e){if(a.removeClass("active"),1==e){t.fnModalRemove(),i.fnCommonModal(t,DetailLanguage.SubscribedSuccess,!0,"0 -727px");var n=r.indexOf("@"),o="";o=n>4?r.replace(/(^.{2})(.*)(.{2}@.*)$/,"$1***$3"):n>1&&4>=n?r.replace(/(^.{2})(.*)(@.*)$/,"$1***$3"):r.replace(/(^.?)(.*)(@.*)/,"$1***$3"),a.siblings("input").val(o).attr("init-email",o).attr("email",r),a.siblings(".tip").remove()}})})},fnReportError:function(){e(document).on("click",".srot_box .select_text",function(){i.fnClickSelect(this)}),e(document).on("click",".srot_box .select_box li",function(){i.fnClickSelectList(this)}),e(document).on("click",".item_ensure .report",function(){var a=homeUrl+"load/product/showErrorReport.html",o="&version=2";t.fnModalBg(),o=n.attachEncrypt(o),i.fnGetJSONData(a,"get",o,"html",function(a){e(".modal_container").addClass("notice_mask report_modal").html(a),t.fnModalAdd(),e(document).on("submit",".reportForm form",function(a){var o=e(this);if(a.preventDefault(),"1"==o.attr("ajaxClick"))return!1;o.attr("ajaxClick",1);var s=e("#products_id").val(),r=homeUrl+"load/ajax/subErrorReport.html",l="pid="+s,c=!0;return e(this).find(".inputbox .tip").remove(),e("#newerrorReportForm li:not(.submit) .validate").each(function(){var t=e(this).val();if(0==t.length){c=!1;var n=e(this).attr("msg");e(this).parents("li").find(".tip").remove(),e(this).parents("li").append('<span class="tip"><i></i> '+n+"</span>")}else if("email"==e(this).attr("name")&&!i.zValidateEmail(t)){c=!1;var n=e(this).attr("msg");e(this).parents("li").find(".tip").remove(),e(this).parents("li").append('<span class="tip"><i></i> '+n+"</span>")}}),c?(l+="&"+e("#newerrorReportForm").serialize(),l=n.attachEncrypt(l),i.fnGetJSONData(r,"get",l,"html",function(n){o.attr("ajaxClick",0);var a=null;if(0==n&&(a=e("#newerrorReportForm").find('input[name="email"]')),a){var s=e("#newerrorReportForm").find('input[name="email"]').parents("li");s.find(".tip").remove();var r=e("#newerrorReportForm").find('input[name="email"]').attr("msg");s.append('<span class="tip"><i></i> '+r+"</span>")}1==n&&(t.fnModalRemove(),i.fnCommonModal(t,DetailLanguage.ThanksFeedBack))}),!1):(o.attr("ajaxClick",0),!1)})})})},fnRemoveTip:function(){e(document).on("click",".email_submit .receive_email,.add_email_list li .inputchang,#newerrorReportForm li:not(.submit) .validate",function(){e(this).siblings(".tip").remove(),e(this).parent().hasClass("inputerror")&&e(this).parent().removeClass("inputerror"),e(this).parent().hasClass("inputbox")&&e(this).parent().siblings(".tip").remove()})}};return a}),define("modules/../../../tools/modules/slide_bar",["jquery"],function(e){var t={fnInit:function(){function t(){var t=e("body").height();730>t?e(".bgbar .topbar").addClass("setBarposition"):e(".bgbar .topbar").removeClass("setBarposition")}var i=this;e(document).on("click",".bgbar .hangwish",function(){i.barwishlist(e(this))}).on("click",".barwishlist .remove",function(){i.removewishlist(e(this))}).on("click",".bgbar .history",function(){i.barhistory(e(this))}).on("click",".barhistorylist .remove",function(){i.removebarhistorylist(e(this))
}).on("click",".barhistorylist .addwish",function(){i.baraddwish(e(this))}).on("click",".barhistorylist .clearall",function(){i.clearallhistory(e(this))}).on("click",".barlist_item .closeall",function(){i.closebar(e(this))}).on("click",".bgbar .event",function(){i.barevent(e(this))}).on("click",".bgbar .cart",function(){i.barcart(e(this))}).on("click",".barcartlist .remove",function(){i.removecart(e(this))}).on("click",".barsamelist .allCheckbox",function(){i.SelectAllCart(e(this))}).on("click",".barsamelist .warehouseCheckbox",function(){i.SelectWarehouse(e(this))}).on("click",".barsamelist .wishtab_nav li",function(){e(this).addClass("active").siblings().removeClass("active");var t=e(this).index();e(this).closest(".barwishtab").find(".wishtab_con > div").eq(t).show().siblings().hide()}),t(),e(window).resize(function(){t()}),i.quickCart(),(-1!==window.location.href.indexOf("/buy/")||-1!==window.location.href.indexOf("/search/"))&&i.ajaxLoadSaleNavData()},quickCart:function(){e(document).on("click",".barsamelist .inner-cart",function(){var t=this,i=e(t).attr("cid"),n=e(t).attr("data-warehouse"),a=e(t).attr("vid"),o=encodeURIComponent(window.location.href),s=encodeURIComponent(document.referrer||""),r="visit_page="+o+"&refer="+s+"&params="+i+"_wh-"+n;a&&(r+="_"+a),t.onoff||(t.onoff=!0,e.ajax({url:"/index.php?com=product&t=addPreorderToCart",data:r,success:function(){t.onoff=!1,e(t).siblings(".inner-cart-tip").fadeIn(),setTimeout(function(){e(t).siblings(".inner-cart-tip").hide()},2e3),window.loadHeadCart&&window.loadHeadCart()},error:function(){t.onoff=!1}}))})},barevent:function(t){t.siblings().removeClass("active"),e(".barwishlist,.barhistorylist,.barcartlist,.eventlist").each(function(){var t=e(this).css("z-index");3==t?t--:e(this).hide(),e(this).css("z-index",t)}),e(".eventlist").show().removeClass("toolbar-animate-out").addClass("toolbar-animate-in").css("z-index",3),e(".barwishlist,.barhistorylist,.barcartlist").removeClass("toolbar-animate-in").addClass("toolbar-animate-out"),t.hasClass("active")?(t.removeClass("active"),e(".barlist_item").removeClass("active active260"),e(".eventlist").removeClass("toolbar-animate-in").addClass("toolbar-animate-out").css("z-index",1),e(".bgbar").removeClass("active")):(t.addClass("active"),e(".barlist_item").addClass("active active260"),e(".bgbar").addClass("active"),0==e(".barwishlist").length&&this.loadData(!1,!1,!1,!0))},barcart:function(t){t.siblings().removeClass("active"),e(".barlist_item").removeClass("active260"),e(".barwishlist,.barhistorylist,.barcartlist,.eventlist").each(function(){var t=e(this).css("z-index");3==t?t--:e(this).hide(),e(this).css("z-index",t)}),e(".barcartlist").show().removeClass("toolbar-animate-out").addClass("toolbar-animate-in").css("z-index",3),e(".barhistorylist,.barwishlist,.eventlist").removeClass("toolbar-animate-in").addClass("toolbar-animate-out"),t.hasClass("active")?(t.removeClass("active"),e(".barlist_item").removeClass("active"),e(".barcartlist").removeClass("toolbar-animate-in").addClass("toolbar-animate-out").css("z-index",1),e(".bgbar").removeClass("active")):(t.addClass("active"),e(".barlist_item").addClass("active"),e(".bgbar").addClass("active"),(0==e(".barcartlist").length||parseInt(e(".jsCartNum").text())!=parseInt(e("#cart_nums_id").text()))&&this.loadData(!0,!1,!1))},removecart:function(t){var i=t.attr("cart_id");return t.parent().hasClass("cart_product")?t.parent().parent().remove():(t.parent().remove(),e('span[cart_id="'+i+'"]').parent().parent().remove()),0==e(".cartlist_items .cart_product").length&&e(".barcartlist").html('<div class="nodata">The Shopping Cart is Empty!</div>'),removeItem(i),!1},SelectAllCart:function(e){e.hasClass("checkbox_on_active")?e.closest(".barcartlist").find("label").removeClass("checkbox_on").addClass("checkbox_on_active"):e.closest(".barcartlist").find("label").removeClass("checkbox_on_active").addClass("checkbox_on")},SelectWarehouse:function(e){e.hasClass("checkbox_on_active")?e.closest(".barcartitem").find("label").removeClass("checkbox_on").addClass("checkbox_on_active"):e.closest(".barcartitem").find("label").removeClass("checkbox_on_active").addClass("checkbox_on")},barwishlist:function(t){t.siblings().removeClass("active"),e(".barwishlist,.barhistorylist,.barcartlist,.eventlist").each(function(){var t=e(this).css("z-index");3==t?t--:e(this).hide(),e(this).css("z-index",t)}),e(".barwishlist").show().removeClass("toolbar-animate-out").addClass("toolbar-animate-in").css("z-index",3),e(".barhistorylist,.barcartlist,.eventlist").removeClass("toolbar-animate-in").addClass("toolbar-animate-out"),t.hasClass("active")?(t.removeClass("active"),e(".barlist_item").removeClass("active active260"),e(".barwishlist").removeClass("toolbar-animate-in").addClass("toolbar-animate-out").css("z-index",1),e(".bgbar").removeClass("active")):(t.addClass("active"),e(".barlist_item").addClass("active active260"),e(".bgbar").addClass("active"),0==e(".barwishlist").length&&this.loadData(!1,!0,!1)),e(".bgbar .hangwish i").hasClass("active")&&e.ajax({type:"GET",dataType:"json",url:"/index.php?com=account&t=clickRed"}),e(".cartwish_item .nav_wish a u").removeClass("active"),e(".bgbar .hangwish i").removeClass("active")},removewishlist:function(t){var i=t.parent().attr("data-pid");t.parent().fadeOut(),i&&e.ajax({type:"post",url:"index.php",data:{com:"account",t:"delWishlist",productsId:i},dataType:"json",success:function(e){if(0==e){var i=t.parents(".barwishlist");t.parent().remove(),i.find("li").length<=0?(i.find(".checkout_item").hide(),i.find(".nodata").show()):(i.find(".checkout_item").show(),i.find(".nodata").hide())}}})},baraddwish:function(e){e.hasClass("active")||(e.html('<span class="loading loadingcss3"><s class="icon-spinner3" /></span>'),setTimeout(function(){e.html("Added to wishlist"),e.addClass("active"),e.prev().append('<b class="wishok"><s class="icon-checkmark"></s></b>'),setTimeout(function(){e.prev().find(".wishok").addClass("active")},500),setTimeout(function(){e.prev().find(".wishok").removeClass("active")},1500),setTimeout(function(){e.prev().find(".wishok").remove()},2e3)},2e3))},barhistory:function(t){t.siblings().removeClass("active"),e(".barwishlist,.barhistorylist,.barcartlist,.eventlist").each(function(){var t=e(this).css("z-index");3==t?t--:e(this).hide(),e(this).css("z-index",t)}),e(".barhistorylist").show().removeClass("toolbar-animate-out").addClass("toolbar-animate-in").css("z-index",3),e(".barwishlist,.barcartlist,.eventlist").removeClass("toolbar-animate-in").addClass("toolbar-animate-out"),t.hasClass("active")?(t.removeClass("active"),e(".barlist_item").removeClass("active"),e(".barhistorylist").removeClass("toolbar-animate-in").addClass("toolbar-animate-out").css("z-index",1)):(t.addClass("active"),e(".barlist_item").addClass("active active260"),0==e(".barhistorylist").length&&this.loadData(!1,!1,!0))},removebarhistorylist:function(e){var t=e.closest("ul").find("li").length;setTimeout(function(){1==t&&e.closest("dl").remove(),e.parent().remove(),t--},100)},clearallhistory:function(t){e.cookie("customer_view_products",null,{path:"/",domain:".banggood.com"}),t.parent().nextAll().not(".nodata").remove(),t.closest("dl").remove(),e(".barhistorylist .nodata").show()},closebar:function(){e(".barlist_item").removeClass("active"),e(".bgbar .topbar").children().removeClass("active"),e(".bgbar").removeClass("active")},loadData:function(t,i,n,a){var o=this;e(".barsamelist").hide(),o.barloading(".barlist_item");var s=homeUrl+"load/ajax/loadBar.html",r="barShopcart=1&barWishlist=1&barHistory=1";"undefined"!=typeof queryHandler&&(r=queryHandler.attachEncrypt(r)),e.ajax({url:s,timeout:1e4,type:"get",dataType:"json",data:r,success:function(s){o.barloadingremove(),e(".barlist_item").append(s.barcart),e(".barlist_item").append(s.barwish),e(".barlist_item").append(s.barhistory),e(".barsamelist").hide().css("z-index",1),t?e(".barcartlist").css("z-index",3).show():i?e(".barwishlist").css("z-index",3).show():n?e(".barhistorylist").css("z-index",3).show():a&&e(".eventlist").css("z-index",3).show(),window.Rd&&window.Rd.changeRecord&&(window.Rd.changeRecord({$observers:e(".barlist_item").find(".img a:first-child[collected!=1]")}),e(".barlist_item").find(".img a:first-child").attr("collected",1))}})},barloading:function(t){e(t).find(".loading").remove();var i='<div class="loading loadingcss3"><i class="icon-spinner3" /></div>';e(t).append(i),e(document).on("click",function(t){!e(t.target).parents(".bgbar").length>0&&(e(".bgbar .topbar").children().removeClass("active"),e(".barlist_item").removeClass("active"),e(".bgbar").removeClass("active"))})},barloadingremove:function(){e(".bgbar .loading").remove()},saleNavData:[],ajaxLoadSaleNavData:function(){var t=this;e.ajax({url:"/index.php?com=event&t=PromotionLeftMenu",dataType:"json",success:function(e){e.data&&(t.saleNavData=e.data,t.createSaleNav())}}),e(window).resize(function(){t.createSaleNav()})},createSaleNav:function(){var t=this;if(t.saleNavData.length){e(".sale-event,.sale-mark").remove(),e(".bgbar").addClass("aside-bar-sale").append('<div class="sale-mark"></div>');for(var i=e(window).height(),n=e(".bgbar .topbar").outerHeight()+40+100,a=Math.floor((i-n)/40),o={defLink:[],subLink:[]},s=0;s<t.saleNavData.length;s++)a-1>=s?o.defLink.push(t.saleNavData[s]):o.subLink.push(t.saleNavData[s]);for(var r='<div class="sale-event"><div class="def-link">',l="",s=0;s<o.defLink.length;s++)l+='<a href="'+o.defLink[s].menu_url+'" class="'+o.defLink[s].icon+'">'+o.defLink[s].menu_name+'<span class="bartips"><span class="arrow_d"><span></span></span>'+o.defLink[s].menu_name+"</span></a>";var c="";if(o.subLink.length){for(var d="",s=0;s<o.subLink.length;s++)d+='<a href="'+o.subLink[s].menu_url+'" class="'+o.subLink[s].icon+'">'+o.subLink[s].menu_name+"</a>";c='<div class="sub-link">                    <div class="sub-link-icon"></div>                    <div class="sub-link-list">                        <h2>Sale Home</h2>                        <div class="list">'+d+"</div>                    </div>                </div>"}r+=l,r+="</div>",r+=c,r+="</div>",e(".bgbar .topbar .cart").before(r)}}};t.fnInit()}),define("modules/httpserver",["jquery","modules/detail_common","modules/query_handler"],function(e,t,i){var n={httpGet:function(t,i,n,a){e.ajax({url:t,type:"GET",data:i,dataType:n,success:function(e){a&&a(e)}})},httpPost:function(t,i,n,a){e.ajax({url:t,type:"POST",data:i,dataType:n,success:function(e){a&&a(e)}})},loadProductReviews:function(e,n){var a="",o="load/product/loadProductReviews.html";return e&&e.products_id?(a+=e.products_id?"products_id="+e.products_id:"",a+=e.page?"&page="+e.page:"",a+=e.tag?"&tag="+e.tag:"",a+=e.star?"&star="+e.star:"",a+=e.order?"&order="+e.order:"",a+=e.filter?"&filter="+e.filter:"",a+=e.fromType?"&fromType="+e.fromType:"",a+="&lang="+t.getCookie("_bgLang"),a=i.attachEncrypt(a),void this.httpGet(o,a,"html",function(e){n&&n(e)})):void console.log("--产品id为空--")},setVoteReview:function(e,t){var n="",a=homeUrl+"load/reviewlist/voteReview.html";e&&e.id&&(n+="&id="+e.id,n+=e.field?"&field="+e.field:"",n=i.attachEncrypt(n),this.httpGet(a,n,"json",function(e){t&&t(e)}))},getReviewComments:function(e,t,n){var a="",o="load/product/getReviewComments.html";e&&t&&(a+="pid="+e,a+="&rid="+t,a+="&version=2",a=i.attachEncrypt(a),this.httpGet(o,a,"",function(e){n&&n(e)}))},loadVideoReviews:function(e,n){var a="",o="load/product/loadVideoReviews.html";e&&e.products_id&&(a+=e.products_id?"products_id="+e.products_id:"",a+=e.page?"&page="+e.page:"",a+=e.order?"&order="+e.order:"",a+=e.fromType?"&fromType="+e.fromType:"",a+="&lang="+t.getCookie("_bgLang"),a=i.attachEncrypt(a),this.httpGet(o,a,"html",function(e){n&&n(e)}))},diggVideo:function(e,t,n){var a="",o=homeUrl+"load/ajax/diggVideo.html";e&&(a+="&vid="+e,a+="&field="+t,a=i.attachEncrypt(a),this.httpPost(o,a,"json",function(e){n&&n(e)}))},submitReviewComments:function(e,t){var i="loadBox=1&version=2",n="load/product/submitReviewComments.html";e&&e.rid&&(i+=e.rid?"&rid="+e.rid:"",i+=e.comemnt?"&comemnt="+e.comemnt:"",i+=e.name?"&name="+e.name:"",this.httpPost(n,i,"json",function(e){t&&t(e)}))},outfitsSubmitPost:function(e,t){var n="",a=homeUrl+"load/outfits/submitPost.html";e&&e.typeid&&(n+=e.typeid?"&typeid="+e.typeid:"",n+=e.contents?"&contents="+e.contents:"",n+=e.stype?"&stype="+e.stype:"",n+=e.fid?"&fid="+e.fid:"",n+=e.backtype?"&backtype="+e.backtype:"",n+=e.products_id?"&products_id="+e.products_id:"",n+=e.isReply?"&isReply="+e.isReply:"",n+=e.comemnt_id?"&comemnt_id="+e.comemnt_id:"",n+=e.remark?"&remark="+e.remark:"",n=i.attachEncrypt(n),this.httpPost(a,n,"json",function(e){t&&t(e)}))},getReviewVideoComments:function(e,t,n){var a="",o="load/product/loadReviewVideoComments.html";t&&(a+="products_id="+e,a+="&video_id="+t,a=i.attachEncrypt(a),this.httpGet(o,a,"",function(e){n&&n(e)}))},submitReviewReply:function(e,t){var n="",a="load/product/submitReviewReply.html";e&&(n+=e.review_id?"&review_id="+e.review_id:"",n+=e.comemnt_id?"&comemnt_id="+e.comemnt_id:"",n+=e.text?"&text="+e.text:"",n+=e.remark?"&remark="+e.remark:"",n=i.attachEncrypt(n),this.httpGet(a,n,"json",function(e){t&&t(e)}))}};return n}),define("modules/comment",["jquery","../../../libs/loginPop/js/loginPop_detail","modules/httpserver","modules/detail_common","modalLayer"],function(e,t,i,n,a){var o={$detailReviews:e("#detailReviews"),pid:"",rid:"",$this:null,$jsRevItemBottomWrap:null,onePageNum:5,init:function(e,t){this.pid=e,this.$this=t,this.rid=t.parents("li").attr("reviewId"),this.$jsRevItemBottomWrap=t.parents("li").find(".jsRevItemBottomWrap"),this.loadCommentView()},loadCommentView:function(){var e=this,t=e.$jsRevItemBottomWrap;t.is(":empty")||""==t.html().trim()?(n.loading(e.$detailReviews),i.getReviewComments(e.pid,e.rid,function(i){n.removeLoading(),t.empty().append(i).show(),e.$this.toggleClass("active"),e.getPageInfo(),e.bindEvent()})):(t.toggle(),e.$this.toggleClass("active")),this.showReplyipt(),this._submitReviewReply(),this.toggleReviewReply()},bindEvent:function(){var t=e("#detailReviews"),i=this;t.off("click",".jsSendCommentbtn").on("click",".jsSendCommentbtn",function(){i._submitReviewComments(e(this))}).off("focus",".jscommentipt").on("focus",".jscommentipt",function(){e(this).attr("placeholder",e(this).attr("data-place")),n.removeInputNotice(e(this))})},_submitReviewComments:function(e){if(e.hasClass("formsubmitgray"))return!1;var o=e.siblings(".jscommentipt"),s=o.val().trim(),r=o.attr("maxlength");if(""==s)return n.inputNotice(o,o.attr("data-place"),1),o.attr("placeholder",""),!1;if(s.length<2)return n.inputNotice(o,o.attr("shortMsg"),1),o.attr("placeholder",""),!1;if(r&&s.length>r)return o.attr("placeholder",""),n.inputNotice(o,o.attr("longMsg"),1),!1;var l=this,c={rid:e.parents("li").attr("reviewId"),comemnt:s};e.addClass("formsubmitgray"),i.submitReviewComments(c,function(i){if(e.removeClass("formsubmitgray"),"undefined"!=typeof i.msg&&i.msg.length>0)0==i.logined?"undefined"!=typeof t?t.ajaxCheckLogin("write_review"):n.login():n.fnCommonModal(a,i.msg);else{var s=parseInt(l.$this.find(".comment_count").text());l.$this.find(".comment_count").text(s+1),o.val(""),e.parents(".jsRevItemBottomWrap").find(".jsCommentCont").empty().append(i.html),l.getPageInfo()}})},showComment:function(e){var t=this,i=t.onePageNum;t.$jsRevItemBottomWrap.find(".jsCommentCont li").hide();for(var n=1;i>=n;n++)t.$jsRevItemBottomWrap.find(".jsCommentCont li:nth-child("+(i*(e-1)+n)+")").show()},toggleReviewReply:function(){var t=e("#detailReviews");t.off("click.jsReadmoreShow").on("click.jsReadmoreShow",".jsReadmoreShow",function(){e(this).closest(".jsCommentLess").hide().siblings(".jsCommentAll").show()}),t.off("click.jsReadmoreHide").on("click.jsReadmoreHide",".jsReadmoreHide",function(){e(this).closest(".jsCommentAll").hide().siblings(".jsCommentLess").show()})},showReplyipt:function(){var t=e("#detailReviews");t.off("click.showReplyipt").on("click.showReplyipt",".jsShowReplybtn,.jsReplyipt",function(){return e(".cont_sub_comment").hide(),e(this).closest("li").find(".cont_sub_comment").show(),"undefined"!=typeof JGData&&JGData.JGCheckClassName(JGData,"down_reply_button_190121",0,"","1920200459"),!1}),e(document).click(function(){e(".cont_sub_comment").hide()})},_submitReviewReply:function(){var t=e("#detailReviews"),o=this;t.off("click.jsSendReplybtn").on("click.jsSendReplybtn",".jsSendReplybtn",function(){var t=this;if(e(t).hasClass("formsubmitgray"))return!1;var s=e(t).siblings(".jsReplyipt"),r=s.val().trim(),l=s.attr("maxlength");if(""==r||r.length<2)return n.inputNotice(s,s.attr("shortMsg"),1),!1;if(l&&r.length>l)return n.inputNotice(s,s.attr("longMsg"),1),!1;var c={review_id:e(t).closest(".rev_item").attr("reviewId"),comemnt_id:e(t).closest("li").attr("data-comemnt-id"),text:r,remark:"product"};return e(t).addClass("formsubmitgray"),i.submitReviewReply(c,function(i){if(e(t).removeClass("formsubmitgray"),i.html){var r=parseInt(e(t).closest(".rev_item").find(".comment_count").text());e(t).closest(".rev_item").find(".comment_count").text(r+1),s.val(""),e(".cont_sub_comment").hide(),e(t).parents(".jsRevItemBottomWrap").find(".jsCommentCont").empty().append(i.html),o.getPageInfo()}else n.fnCommonModal(a,i.msg)}),!1})},getPageInfo:function(t){function i(){o.off("click",".jsPageNumCom").on("click",".jsPageNumCom",function(){var i=parseInt(e(this).attr("page")),a=e(this).parents(".jsRevToolBar").attr("totalPageNum");n.pager(a,i,t),n.showComment(i)}).off("click",".jsRatePageBtn").on("click",".jsRatePageBtn",function(){var i=parseInt(e(this).attr("page")),a=e(this).parents(".jsRevToolBar").attr("totalPageNum");n.pager(a,i,t),n.showComment(i)})}var n=this,a=n.onePageNum,o=n.$jsRevItemBottomWrap,s=o.find(".jsCommentCont li").length;if(s>a){for(var r=1,l=1;a>=l;l++)o.find(".jsCommentCont li:nth-child("+l*r+")").show();n.pager(Math.ceil(s/a),r,t)}else o.find(".jsCommentCont li").show();i()},pager:function(e,t,i){var n=this,a=n.getPageTpl(e,t,"",i);n.$jsRevItemBottomWrap.find(".jsRevToolBar").remove(),n.$jsRevItemBottomWrap.find(".jsCommentCont").after(a)},getPageTpl:function(e,t,i){function n(e,t){var i=t==e?"current":"jsPageNumCom";return'<a class="page_num '+i+'" href="javascript:;" page="'+e+'">'+e+"</a>"}function a(e,t,i){var n="";return e>1&&1!=t&&i&&(n='<a href="javascript:;" class="rate_page_btn rate_page_prev jsRatePageBtn" page="'+(t-1)+'"><i class="rate_page_prev_icon"></i></a>'),e>t&&!i&&(n='<a class="rate_page_btn rate_page_next jsRatePageBtn" page="'+(t+1)+'" href="javascript:;"><i class="rate_page_next_icon"></i></a>'),n}var o=e||23,s=t||17,r=i||3,l=Math.ceil(s/r),c=Math.ceil(o/r),d='<div class="rev_tool_bar box_inner jsRevToolBar" totalPageNum="'+e+'"><div class="rate_page"><div class="rate_paginator">',u='<a class="rate-page-break page_num">...</a>';if(d+=a(o,s,!0),2>c||r+2>o)for(var p=1;o>=p;p++)d+=n(p,s);else if(1==l){for(var p=1;r>=p;p++)d+=n(p,s);o>r+1&&(d+=u),d+=n(o,s)}else{var h=o%r,f=(c-1)*r+1,m=l*r;if(start=0,d+=n(1,s),f>s){d+=u,start=(l-1)*r+1;for(var p=1;r>=p;p++)d+=n(start,s),start++;(1!=h||m+1!=f)&&(d+=u),d+=n(o,s)}else{(1!=h||m+1!=f)&&(d+=u);for(var p=f;o>=p;p++)d+=n(p,s)}}return d+=a(o,s,!1),d+"</div></div></div>"}};return o}),define("modules/img_player",["jquery"],function(e){var t={scrollToSeeAllView:!0,init:function(t,i,n){var a=this,o=t,i=i,s=o.next(".jsPlayerWrap");if(o.hide(),o.hasClass("jsRadioWrap")||o.addClass("jsRadioWrap"),n===!1&&(a.scrollToSeeAllView=!1),s.length>0)s.data("current",i).show(),a.resetCurrentImg(s);else{var r=a.getImgSrc(o);s=e(a.tplFactor(r.imgsArr,r.minimgsArr,i)),o.after(s),s.data("imgsArr",r.imgsArr),s.data("current",i),a.bindEvent(s)}a.scrollToSeeAllViewFn(s)},getImgSrc:function(t){var i=[],n=[];return t.find("img").each(function(){i.push(e(this).attr("big")),n.push(e(this).attr("src"))}),{imgsArr:i,minimgsArr:n}},resetCurrentImg:function(e){var t=parseInt(e.data("current")),i=e.data("imgsArr");e.find(".jsCurrentImg").attr("src",i[t]),e.find(".jsMinImg").eq(t).addClass("active").siblings().removeClass("active"),e.data("rotate",0),e.find(".jsCurrentImg").css({transform:"rotate(0deg)"}),0==t?e.find(".jsPrevBtn").addClass("disabled"):e.find(".jsPrevBtn").removeClass("disabled"),t==i.length-1?e.find(".jsNextBtn").addClass("disabled"):e.find(".jsNextBtn").removeClass("disabled")},bindEvent:function(t){var i=this;t.off("click",".jsPrevBtn").on("click",".jsPrevBtn",function(){if(e(this).hasClass("disabled"))return!1;var t=e(this).parents(".jsPlayerWrap"),n=parseInt(t.data("current"));t.data("current",--n),i.resetCurrentImg(t)}).off("click",".jsNextBtn").on("click",".jsNextBtn",function(){if(e(this).hasClass("disabled"))return!1;var t=e(this).parents(".jsPlayerWrap"),n=parseInt(t.data("current"));t.data("current",++n),i.resetCurrentImg(t)}).off("click",".jsTurnBtn").on("click",".jsTurnBtn",function(){var t=e(this),i=t.parents(".jsPlayerWrap"),n=void 0!=i.data("rotate")?i.data("rotate"):0;n=t.hasClass("Jsl")?n-90:n+90,i.find(".jsCurrentImg").css({transform:"rotate("+n+"deg)"}),i.data("rotate",n)}).off("click",".jsCloseBtn").on("click",".jsCloseBtn",function(){e(this).parents(".jsPlayerWrap").hide().siblings(".jsRadioWrap").show()}).off("click",".jsMinImg").on("click",".jsMinImg",function(){var t=e(this).parents(".jsPlayerWrap");t.data("current",e(this).index()),i.resetCurrentImg(t),i.scrollToSeeAllView&&i.scrollToSeeAllViewFn(t)})},scrollToSeeAllViewFn:function(t){var i=e(window).scrollTop(),n=(t.offset().top,e(window).height()),a=(t.height(),t.height()-(n-(t.offset().top-i)));a>0&&e("html, body").animate({scrollTop:i+a+20},300)},tplFactor:function(t,i,n){var a=t.length,o=n==a-1?"disabled":"",s=e.webp.replaceWebpPath(t[n]);_html='<div class="img_slide_wrap jsPlayerWrap"><div class="slide_nav"><ul>';for(var r=0;a>r;r++){var l=r==n?"active":"",c=e.webp.replaceWebpPath(t[r]);_html+='<li class="jsMinImg '+l+'"><img class="img" src="'+c+'" /></li>'}return _html+='</ul></div><div class="player_box"><a href="javascript:;" class="jsCloseBtn close_btn r10"><i class="close_icon"></i></a><div class="player_control_bar"><a href="javascript:;" class="jsTurnBtn Jsl turn_left_btn"><i class="turn_left_icon"></i>Rotate left</a><a href="javascript:;" class="jsTurnBtn turn_right_btn"><i class="turn_right_icon"></i>Rotate right</a></div><div class="player_area"><a href="javascript:;" class="jsPrevBtn prev_btn l18 '+o+'"><i class="prev_icon"></i></a><a href="javascript:;" class="jsNextBtn next_btn r18 '+o+'"><i class="next_icon"></i></a><span><img class="jsCurrentImg" src="'+s+'" /></span></div></div></div>'}};return t}),define("modules/video_comment",["jquery","modules/httpserver","modules/detail_common","modalLayer"],function(e,t,i,n){var a={$detailReviews:e("#detailReviews"),$this:null,init:function(e,t){this.pid=e,this.$this=t,this.rid=t.parents("li").attr("video_id"),this.$jsRevItemBottomWrap=t.parents("li").find(".jsRevItemBottomWrap"),this.showCommentView()},showCommentView:function(){var e=this,n=e.$jsRevItemBottomWrap;n.is(":empty")||""==n.html().trim()?(i.loading(e.$detailReviews),t.getReviewVideoComments(e.pid,e.rid,function(t){i.removeLoading(),n.empty().append(t).show(),e.$this.toggleClass("active"),e.bindEvent()})):(n.toggle(),e.$this.toggleClass("active")),e.showVideoReplyipt(),e.toggleReviewVideoReply(),e.videoBoxHandler()},toggleReviewVideoReply:function(){var t=e("#detailReviews");t.off("click.jsReadmoreShow").on("click.jsReadmoreShow",".jsReadmoreShow",function(){e(this).closest(".jsCommentLess").hide().siblings(".jsCommentAll").show()}),t.off("click.jsReadmoreHide").on("click.jsReadmoreHide",".jsReadmoreHide",function(){e(this).closest(".jsCommentAll").hide().siblings(".jsCommentLess").show()})},showVideoReplyipt:function(){var t=e("#detailReviews");t.off("click.showReplyipt").on("click.showReplyipt",".jsRevCommentListBox .jsShowReplybtn,.jsRevCommentListBox .jscommentipt",function(){return e(".cont_sub_comment").hide(),e(this).closest("li").find(".cont_sub_comment").show(),"undefined"!=typeof JGData&&JGData.JGCheckClassName(JGData,"down_reply_button_190121",0,"","1920200459"),!1}),e(document).click(function(){e(".cont_sub_comment").hide()})},videoBoxHandler:function(){e(document).off("click.jsRevVideo").on("click.jsRevVideo",".jsRevVideo",function(){var t=e(this).attr("data-video-code");t&&i.fnCommonModal(n,'<span class="modal_close" onclick="modal_remove();"></span><iframe width="800" height="400" src="https://www.youtube.com/embed/'+t+'" frameborder="0" allowfullscreen></iframe>')})},bindEvent:function(){var t=this;t.$detailReviews.off("click",".jsSendVideoCommentbtn").on("click",".jsSendVideoCommentbtn",function(){t.submitComments(e(this))}).off("focus",".jscommentipt").on("focus",".jscommentipt",function(){e(this).attr("placeholder",e(this).attr("data-place")),i.removeInputNotice(e(this))}).off("click",".jsSendVideoReplybtn").on("click",".jsSendVideoReplybtn",function(){return t.submitComments(e(this)),!1})},getSumbitCommentTpl:function(){var e=this;return $jsRevList=e.$this.parents(".jsRevList"),_html='<textarea class="commemt_ipt jscommentipt" minlength="'+$jsRevList.attr("minlength")+'" placeholder="'+$jsRevList.attr("placeholder")+'" maxlength="'+$jsRevList.attr("maxlength")+'" shortmsg="'+$jsRevList.attr("shortmsg")+'" longmsg="'+$jsRevList.attr("longmsg")+'"></textarea><button class="btn comment_btn jsSendVideoCommentbtn fr">'+DetailLanguage.SubmitBtn+"</button>"},submitComments:function(e){if(e.hasClass("formsubmitgray"))return!1;var a=e.siblings(".jscommentipt"),o=a.val().trim().replace(/\s/,""),s=a.attr("maxlength"),r=a.attr("minlength")||2;if(""==o)i.inputNotice(a,a.attr("data-place")),a.attr("placeholder","");else{if(o.length<r)return i.inputNotice(a,a.attr("shortMsg")),a.attr("placeholder",""),!1;if(s&&o.length>s)return i.inputNotice(a,a.attr("longMsg")),a.attr("placeholder",""),!1}var l=this,c=(l.$this.parents("li"),{typeid:e.closest(".rev_item").attr("video_id"),contents:e.closest("li").find(".jscommentipt").val(),stype:"video",fid:5,backtype:2,products_id:l.pid,isReply:0,remark:"product"});e.hasClass("jsSendVideoReplybtn")&&(c.isReply=1,c.comemnt_id=e.closest("li").attr("data-comemnt-id"),c.contents=e.closest("li").find(".jscommentipt").val()),e.addClass("formsubmitgray"),t.outfitsSubmitPost(c,function(t){if(e.removeClass("formsubmitgray"),0==t.logined)i.login();else if(t.success){var o=parseInt(l.$this.find(".comment_count").text());l.$this.find(".comment_count").text(o+1),a.val(""),e.parents(".jsRevItemBottomWrap").find(".jsCommentCont").empty().append(t.comment),l.$this.parents("li").find(".jsCommentCont").is(":visible")||l.$this.parents("li").find(".jsCommentCont").show(),e.parents(".jsRevItemBottomWrap").find(".jsRevCommentListBox").find("li").length>3&&(e.parents(".jsRevItemBottomWrap").find(".jsSeeMore").show(),e.parents(".jsRevItemBottomWrap").find(".jsRevCommentListBox").find("li:last-child").remove())}else i.fnCommonModal(n,t.message)})}};return a}),define("modules/reviews",["jquery","../../../libs/loginPop/js/loginPop_detail","modules/httpserver","modules/detail_common","modules/comment","modules/img_player","modules/video_comment","modalLayer"],function(e,t,i,n,a,o,s,r){var l={$detailReviews:e("#detailReviews"),$jsreviewsListWrap:e("#jsreviewsListWrap"),_products_id:e("#products_id").val(),_page:1,_tag:"",_star:"",_order:1,_filter:"",_fromType:2,lockLoadingAuto:!0,isVideo:!1,needLoading:!0,scrollToDR:!1,init:function(){this.scrollLoadingFn(),this.bindEvent(),this.badgePop()},badgePop:function(){e(document).on("click",".community-badge-icon",function(){modal_bg(),e(".modal_container").html(e(".badge-pop-tpl").html()),modal_add()}),e(document).on("click",".community-badge-icon-2",function(){modal_bg(),e(".modal_container").html(e(".badge-pop-tpl-2").html()),modal_add()})},bindEvent:function(){this.bindReviewListEvent(),this.bindToolBarEvent(),this.bindMainDianEvent(),this.videoBoxHandler()},videoBoxHandler:function(){e(document).off("click.jsRevVideo").on("click.jsRevVideo",".jsRevVideo",function(){var t=e(this).attr("data-video-code");t&&(n.fnCommonModal(r,'<iframe width="800" height="400" src="https://www.youtube.com/embed/'+t+'" frameborder="0" allowfullscreen></iframe>'),e(".module .modal_ship").addClass("modal_ship_video"))})},resetStar:function(e){var t=this;t._star=e,t._fromType=1,t._tag="",t._filter="",t._page=1,t.isVideo=!1,t.$detailReviews.find(".jsReviewItem").addClass("active").siblings().removeClass("active"),t.loadReviewsOrVedioViewFn()},resetReviewsNum:function(t){t&&t.amount>0?e("#reviewsNum").text(t.amount):e("#reviewsNum").parents(".jsReviewItem").hide()},bindReviewListEvent:function(){var l=e("#detailReviews"),c=this;l.on("click",".rev_summary_right a",function(i){dataObj&&0===dataObj.hasLogin&&"undefined"!=typeof t&&(t.ajaxCheckLogin("write_review",e(this).attr("href")),i.preventDefault())}).on("click",".jsPageNum",function(){c.scrollToDR=!0,c._page=parseInt(e(this).html().trim()),c.loadReviewsOrVedioViewFn()}).on("click",".JsGoToPageBtn",function(){var t=parseInt(e(this).siblings(".jsPageIpt").val());t&&(c.scrollToDR=!0,c._page=t,c.loadReviewsOrVedioViewFn())}).on("click",".jsRatePageBtn",function(){e(this).hasClass(".disabled")||(c.scrollToDR=!0,c._page=parseInt(e(this).attr("page")),c.loadReviewsOrVedioViewFn())}).on("focus",".jsPageIpt",function(){e(this).parent().addClass("active")}).on("blur",".jsPageIpt",function(){""==e(this).val()&&e(this).parent().removeClass("active")}).on("click",".jsReadMoreTxtBtn",function(){e(this).parent().find(".jsshow").hide(),e(this).parent().find(".jshide").show()}).on("click",".jsHideTxtBtn",function(){e(this).parent().find(".jshide").hide(),e(this).parent().find(".jsshow").show()}).on("click",".jsIsUseful",function(){var a=e(this),o=parseInt(a.find("u").text()),s=a.attr("field"),l=dataObj.hasLogin;if(0===l){if("undefined"!=typeof t){var d="good"==s?"click_like":"click_unlike";t.ajaxCheckLogin(d)}else n.login();return!1}if(c.isVideo){var u=a.parents("li").attr("video_id"),s="good"==s?"diggs":"undiggs";i.diggVideo(u,s,function(e){e.success?a.find("u").text(o+1):n.fnCommonModal(r,e.message)})}else{var p={id:a.parents("li").attr("reviewId"),field:s};i.setVoteReview(p,function(e){e.success?a.find("u").text(o+1):n.fnCommonModal(r,e.message)})}}).on("click",".jsRevImg",function(){o.init(e(this).parent(),e(this).index())}).off("click",".jsShowCommentbtn").on("click",".jsShowCommentbtn",function(){c.isVideo?s.init(c._products_id,e(this)):a.init(c._products_id,e(this))})},bindToolBarEvent:function(){var t=e("#detailReviews"),i=this;t.on("click",".jsIpsItem",function(){var t=e(this);t.hasClass("active")?(i._tag="",i._fromType=2):(i._tag=t.attr("tag"),i._fromType=4),i._page=1,i._star="",i._filter="",i.isVideo=!1,i.loadReviewsOrVedioViewFn()}).on("click",".jsScaleItem",function(){var t=e(this),n=parseInt(t.attr("star"));i._star=n?n:"",i._fromType=1,i._tag="",i._filter="",i._page=1,i.isVideo=!1,t.parent().hasClass("jsToggle")&&t.hasClass("active")&&(i._star="",i._fromType=2),""==i._star&&(i._fromType=2),i.loadReviewsOrVedioViewFn()}).on("click",".jsRuleItem",function(){i._order=e(this).index()+1,i._page=1,i._filter=i.isVideo?"":i._filter,i.loadReviewsOrVedioViewFn()}).on("click",".jsRevCategoryItem",function(){var t=e(this),n=t.index();_image="",i._page=1,2==n?(i._tag="",i._star="",i.isVideo=!0,i._fromType=5):(i.isVideo=!1,1==n?(i._tag="",i._star="",i._filter=3,i._fromType=3):(i._filter="",i._fromType=2)),i.loadReviewsOrVedioViewFn()}).on("click",".jsLoadMoreTagBtn",function(){var t=e(this),n=80;t.hasClass("up")||(n=t.siblings(".jsIpsList").height()),i.$detailReviews.find(".jsTagWrap").animate({"min-height":n+"px",height:n+"px"}),t.toggleClass("up")})},bindMainDianEvent:function(){var t=e("#detailReviews");t.on("mouseenter",".detailgahover",function(){var t=e.grep(e(this).attr("class").split(" "),function(e){return e.indexOf("180411")>-1?e:void 0});"undefined"!=typeof JGData&&JGData.JGCheckClassName(JGData,t,2,"",e(this).attr("data-point-id"))})},loadReviewsOrVedioViewFn:function(e,t,i,n,a,o,s){var r=this,l={products_id:t||this._products_id,page:e||this._page,order:a||this._order,fromType:s||this._fromType};
r.isVideo?r.loadVedioReviewsFn(l):(l.tag=i||this._tag,l.star=n||this._star,l.filter=o||this._filter,r.loadProductReviewsFn(l))},loadProductReviewsFn:function(e){var t=this;t.needLoading&&n.loading(t.$detailReviews),i.loadProductReviews(e,function(e){t.needLoading=!0,n.removeLoading(),t.$detailReviews.html(e),t.setJsLoadMoreTagBtnFn(),n.lazyloadImg(t.$detailReviews),t.scrollToDRView()})},loadVedioReviewsFn:function(t){var a=this;n.loading(a.$detailReviews),i.loadVideoReviews(t,function(t){n.removeLoading(),e("#jsreviewsListWrap").html(t),n.lazyloadImg(a.$detailReviews),a.scrollToDRView(),a.$detailReviews.find(".jsIpsItem.active").removeClass("active")})},setJsLoadMoreTagBtnFn:function(){var e=this;e.$detailReviews.find(".jsIpsList").height()>80?e.$detailReviews.find(".jsLoadMoreTagBtn").show():e.$detailReviews.find(".jsLoadMoreTagBtn").hide()},scrollToDRView:function(){this.scrollToDR&&(e(window).scrollTop(e("#jsReviewsWrap").offset().top),this.scrollToDR=!1)},scrollLoadingFn:function(){var t=this,i=function(){var i=e(window).scrollTop(),n=i+e(window).height(),a=t.$detailReviews;t.lockLoadingAuto&&t.$detailReviews&&(post=a.offset().top,posb=post+a.height(),(post>i&&n>post||posb>i&&n>posb)&&(t.needLoading=!1,t.loadReviewsOrVedioViewFn(),t.lockLoadingAuto=!1))};i(),e(window).bind("scroll",i)}};return l}),define("modules/wholesaleinquiry",["jquery","modalLayer","modules/detail_common","modules/query_handler"],function(e,t,i,n){var a={fnInit:function(){this.fnClickSelect(),this.fnClickList(),this.fnSubmitForm(),this.fnInputLimitText("#productName"),this.fnSelectBoxSearch(),this.fnDescribeKeyup(),this.fnProductID(),this.fnQuantity(),this.fnMouseTable(),this.fnTargetPrice(),e(document).on("click","#questions_content",function(){e(this).addClass("active")})},fnClickSelect:function(){e(document).on("click",".inquiry_online_box .select_text",function(){e(this).next().is(":visible")?e(this).next().hide():e(this).next().show(),e(document).click(function(t){!e(t.target).parents(".select").length>0&&e(".inquiry_online_box .select .country_box1").hide()})})},fnClickList:function(){e(document).on("click",".inquiry_online_box .select .box li",function(){var t=e(this).html(),i=e(this).attr("cid");e(this).parents(".country_box1").prev().find(".text").html(t),e(this).parents(".country_box1").next().val(i),e(this).parents(".country_box1").hide()})},fnMouseTable:function(){var t=".Wholesale_inquiry .wholesale_table li";e(document).on("mouseenter",t,function(){var t=e(this).index();0!=t&&(e(this).css("background","#f2f2f2"),e(this).parent().siblings().find("li").eq(t).css("background","#f2f2f2"))}),e(document).on("mouseleave",t,function(){var t=e(this).index();0!=t&&(e(this).css("background","none"),e(this).parent().siblings().find("li").eq(t).css("background","none"))})},inputNotice:function(e,t){var i="";"undefined"==typeof type&&(type=!1),1==type&&(i=" tips_ok"),this.removeInputNotice(e),e.parents(".select").length>0?e.parent().parent().after('<span class="tips'+i+'"><i></i>'+t+"</span>"):e.parent().after('<span class="tips'+i+'"><i></i>'+t+"</span>"),e.addClass("normal_error")},removeInputNotice:function(e){e.parents(".select").length>0?e.parent().parent().next(".tips").remove():e.parent().next(".tips").remove(),e.removeClass("normal_error")},fnSubmitForm:function(){var a=this;e(document).on("click",".inquiry_online_box .formsubmit",function(){var o=e(this),s=!1;if(o.hasClass("loading1")||o.hasClass("gray"))return!1;e(".inputbox .tips").remove();{var r=o.parent().parent().find("#productName").val(),l=o.parent().parent().find("#username").val(),c=o.parent().parent().find("#email").val(),d=o.parent().parent().find("#TargetPrice").val(),u=o.parent().parent().find("#country").val(),p=o.parent().parent().find("#InquiryType").val();o.parent().parent().find("questions_content").val(),o.parent().parent().find("source").val()}""==l&&(a.inputNotice(o.parent().parent().find("#username"),o.parent().parent().find("#username").attr("msg")),s=!0);var h=/^\d+(\.\d{1,2})?$/;""!=d&&h.test(d)||(a.inputNotice(o.parent().parent().find("#TargetPrice"),o.parent().parent().find("#TargetPrice").attr("msg")),s=!0);var f=/^[\w-']+([\.\+][\w-']+)*@([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*?\.[a-zA-Z]{2,20}|(\d{1,3}\.){3}\d{1,3})(:\d{4})?$/,m=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9_]+@banggood\.[a-zA-Z]{2,3}$/,_=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9_]+@banggoodauto\.[a-zA-Z]{2,3}$/;(!f.test(c)||m.test(c)||_.test(c))&&(a.inputNotice(o.parent().parent().find("#email"),o.parent().parent().find("#email").attr("msg")),s=!0),""==r&&(a.inputNotice(o.parent().parent().find("#productName"),o.parent().parent().find("#productName").attr("msg")),s=!0);var v=o.parent().parent().find("#skunumber").val(),g=/^[0-9]\d*$/;g.test(v)||""==v||(a.inputNotice(o.parent().parent().find("#skunumber"),o.parent().parent().find("#skunumber").attr("msg")),s=!0);var b=o.parent().parent().find("#quantity").val(),y=/^[0-9]\d*$/;""!=b&&y.test(b)||(a.inputNotice(o.parent().parent().find("#quantity"),o.parent().parent().find("#quantity").attr("msg")),s=!0);var w=parseInt(e("#quantity").val()),x=parseFloat(e("#TargetPrice").val());if("4"!==e("#InquiryType").val()&&parseFloat(w*x)<100&&(i.fnCommonModal(t,"The minimum order amount should be above $100."),s=!0),0==u&&(a.inputNotice(o.parent().parent().find("#country"),o.parent().parent().find("#country").attr("msg")),s=!0),0==p&&(a.inputNotice(o.parent().parent().find("#InquiryType"),o.parent().parent().find("#InquiryType").attr("msg")),s=!0),s)return!1;o.addClass("loading1");var C=homeUrl+"load/wholesale/ajax_inquiry_save.html",k=o.parents(".inquiry_online_box").find("#contactus").serialize();return k=n.attachEncrypt(k),i.fnGetJSONData(C,"post",k,"json",function(n){o.removeClass("loading1"),e('.inquiry_online_box .inputchange:not("#skunumber,#productName"),#questions_content').val(""),e(".meaages_tips_box i").html(0),i.fnCommonModal(t,n.msg.Content),e(".modal_ship .text_msg").before("<h4>"+n.msg.Title+"</h4>")}),!1})},fnInputLimitText:function(t){e(t).each(function(t,i){var n=e(i);n.focus(function(){n.keyup(function(){var e=n.val().length;if(e>100){var t=n.val().substring(0,100);n.val(t)}})})})},fnSelectBoxSearch:function(){e(document).on("input propertychange",".inquiry_online_box .country_search input",function(){var t=e(this).val();e(".inquiry_online_box .select .box li").hide().each(function(){0==e(this).text().toLowerCase().indexOf(t.toLowerCase())&&e(this).show()})}),e(document).on("focus",".inquiry_online_box .country_search input",function(){e(this).addClass("active")}),e(document).on("blur",".inquiry_online_box .country_search input",function(){e(this).removeClass("active")})},fnDescribeKeyup:function(){e("#questions_content").keyup(function(){var t=e(this).val().split(/\s+/).length;if(300>t)e(".meaages_tips_box").html("<i>"+t+"</i>/300"),e(".inquiry_online_box li.btn span").removeClass("gray");else if(t>=300){var i=e(this).val().split(/\s+/).slice(0,300).join(" ");e(".meaages_tips_box").html('<i style="color:#c40000;">300</i>/300'),e(this).val(i)}})},fnProductID:function(){e(document).on("keypress","#skunumber",function(t){if("13"==t.keyCode){var i=e("#skunumber").val();1==i.length?(this.value=this.value.replace(/[^1-9]/g,""),e("#skunumber").val(e("#skunumber").val().replace(/[^1-9]/g,""))):(this.value=this.value.replace(/\D/g,""),e("#skunumber").val(e("#skunumber").val().replace(/\D/g,"")))}}),e(document).on("blur","#skunumber",function(){if(e("#skunumber").attr("readonly"))return!1;var t=e("#skunumber").val();1==t.length?(this.value=this.value.replace(/[^1-9]/g,""),e("#skunumber").val(e("#skunumber").val().replace(/[^1-9]/g,""))):(this.value=this.value.replace(/\D/g,""),e("#skunumber").val(e("#skunumber").val().replace(/\D/g,"")))})},fnQuantity:function(){var t=this;e(document).on("keypress","#quantity",function(i){if("13"==i.keyCode){var n=e("#quantity").val();1==n.length?(this.value=this.value.replace(/[^1-9]/g,""),e("#quantity").val(e("#quantity").val().replace(/[^1-9]/g,""))):(this.value=this.value.replace(/\D/g,""),e("#quantity").val(e("#quantity").val().replace(/\D/g,""))),t.totalAmount()}}),e(document).on("blur","#quantity",function(){if(e("#quantity").attr("readonly"))return!1;var i=e("#quantity").val();1==i.length?(this.value=this.value.replace(/[^1-9]/g,""),e("#quantity").val(e("#quantity").val().replace(/[^1-9]/g,""))):(this.value=this.value.replace(/\D/g,""),e("#quantity").val(e("#quantity").val().replace(/\D/g,""))),t.totalAmount()})},fnTargetPrice:function(){var t=this;e("#TargetPrice").keypress(function(i){if("13"==i.keyCode){var n=e("#TargetPrice").val(),a=/^\d+(\.\d{1,2})?$/g;1==n.length&&(this.value=this.value.replace(/[^1-9]/g,""),e("#TargetPrice").val(e("#TargetPrice").val().replace(/[^1-9]/g,""))),a.test(e("#TargetPrice").val())||(this.value=this.value.replace(/[^\d.]+/g,""),e("#TargetPrice").val(e("#TargetPrice").val().replace(/[^\d.]+/g,""))),t.totalAmount()}}),e(document).on("blur","#TargetPrice",function(){if(e("#TargetPrice").attr("readonly"))return!1;var i=e("#TargetPrice").val(),n=/^\d+(\.\d{1,2})?$/g;1==i.length&&(this.value=this.value.replace(/[^1-9]/g,""),e("#TargetPrice").val(e("#TargetPrice").val().replace(/[^1-9]/g,""))),n.test(e("#TargetPrice").val())||(this.value=this.value.replace(/[^\d.]+/g,""),e("#TargetPrice").val(e("#TargetPrice").val().replace(/[^\d.]+/g,""))),t.totalAmount()})},totalAmount:function(){var n=parseInt(e("#quantity").val()),a=parseFloat(e("#TargetPrice").val());if("4"!==e("#InquiryType").val()&&parseFloat(n*a)<100&&e(".modal_msgbox").length<=0){var o="The minimum order amount should be above $100.";i.fnCommonModal(t,o)}}};return a}),define("modules/vehicle",["jquery","modules/query_handler","scrollLoading"],function(e){var t={isGetData:!1,selectText:e(".Compatibility").attr("data-select-text"),init:function(){var t=this;e(".Compatibility").is(":visible")&&(e(".Compatibility").offset().top<=e(window).scrollTop()?t.fnCompatibilityLogic():e(".Compatibility").scrollLoading(t.fnCompatibilityLogic))},fnGetJSONDate:function(t,i,n,a){e.ajax({url:i,type:t,data:n,dataType:"json",success:function(e){a&&a(e)}})},temparrayCompat:[],fnCompatibilityLogic:function(){function i(){e(document).on("click",".selece_hd .select_box ul li",function(){var t=e(this),i=!1,o=!1,s=!1,r="",l=t.attr("cid"),c="value="+l,d="make",u=".select_make",p=t.text();t.parents(".select_box").next().attr("data-text",p),t.parents(".select_make").length>0?(d="model",u=".select_model"):t.parents(".select_model").length>0?(3==dataObj.vehicleShow?(d="trim",u=".select_trim"):(d="submodel",u=".select_submodele"),i=!0):t.parents(".select_submodele").length>0?2==dataObj.vehicleShow?(o=!0,d="submodel",u=".searchBtn",c=""):(d="submodel",u=""):t.parents(".select_trim").length>0?(d="engine",u=".select_engine "):t.parents(".select_engine").length>0&&(o=!0,d="engine",u=".searchBtn",c=""),r="vehicle-"+d+"-"+l;for(var h,f=0;f<n.temparrayCompat.length;f++)n.temparrayCompat[f].opStr==r&&(s=!0,h=n.temparrayCompat[f].result);""==l?(n.fnTplListHtml(u,"",0,t),e(u).addClass("gray"),e(".selece_hd>ul>li.searchBtn").attr("isClick",0),t.parents(".select_year").length>0&&a.find(".clearAll").hide(),t.parents(".select_model").length>0&&e(".select_submodele,.select_trim").addClass("gray")):s?(n.fnTplListHtml(u,h,1,t),o&&e(".selece_hd>ul>li.searchBtn").removeClass("gray"),1==dataObj.vehicleShow&&i&&n.fnTplListHtml(".select_trim",h,1,t)):(n.fnCompatGetData(d,c,l,function(i){n.fnTplListHtml(u,i,1,t),o&&e(".selece_hd>ul>li.searchBtn").removeClass("gray")}),1==dataObj.vehicleShow&&i&&n.fnCompatGetData("trim",c,l,function(e){n.fnTplListHtml(".select_trim",e,1,t)}))}).on("click",".selece_hd>ul>li.clearAll",function(){})}var n=t;if(n.isGetData)return!1;var a=e(".Compatibility"),o=e("#products_id").val(),s="products_id="+o;t.fnCompatGetData("year",s,"",function(e){n.isGetData=!0,n.fnTplListHtml(".select_year",e,1)}),i(),n.fnClickVehiclesBtn()},fnCompatGetData:function(e,t,i,n){var a=this,o=homeUrl+"load/category/vehicle.html?type="+e;this.fnGetJSONDate("get",o,t,function(t){n&&n(t);var o={opStr:"vehicle-"+e+"-"+i,result:t};a.temparrayCompat.push(o)})},fnTplListHtml:function(t,i,n,a){var o=e(".Compatibility"),s='<li cid="" class="select">'+this.selectText+"</li>";if(1==n&&Array.isArray(i.vehicle)&&i.vehicle.length>0&&e.each(i.vehicle,function(e){s+='<li cid="'+i.vehicle[e].id+'">'+i.vehicle[e].value+"</li>"}),Array.isArray(i.vehicle)&&i.vehicle.length<=0&&(s+='<li cid="0">—</li>'),e(t).find(".select_box ul").html(s),".select_year"!=t)o.find(".clearAll").show(),void 0!=a&&a.parents(".select_submodele").length>0||(void 0!=a&&a.parents(".select_model").length>0?(e(".select_submodele,.select_trim").removeClass("gray").find(".select_text .text").html(this.selectText),e(".select_engine").addClass("gray").find(".select_text .text").html(this.selectText),e(".select_engine").find(".select_box ul .select").remove(),e(".select_engine").find(".select_box ul").html('<li cid="" class="select">'+this.selectText+"</li>"),e(".select_engine").nextAll(":not(.clearAll)").addClass("gray")):(e(t).removeClass("gray"),e(t).nextAll(":not(.clearAll)").addClass("gray"),e(t).find(".select_text .text").html(this.selectText),e(t).nextAll().find(".select_text .text").html(this.selectText),e(t).nextAll().find(".select_box ul .select").remove(),e(t).nextAll().find(".select_box ul").html('<li cid="" class="select">'+this.selectText+"</li>")));else if(".select_year"==t&&Array.isArray(i.history)&&i.history.length>0){var r=i.history,l='<li cid="0" class="select">'+e(".recent_searches").attr("data-select-text")+"</li>";e.each(r,function(e){l+='<li cid="'+r[e].id+'">'+r[e].value+"</li>"}),o.find(".recent_searches").show().find(".select_box ul").html(l)}},vehicleData:[],fnClickVehiclesBtn:function(){function t(t,a,o){var s=e("#products_id").val(),r=homeUrl+"load/product/ajaxProductVehicle.html",l="products_id="+s;l+="&page="+a,l+="&vehicle="+t,"0"==e(".vehicles_hd .vehicles_btn").attr("data-flag")||n.find(".fail_data").is(":visible")?n.addClass("loading_show").find(".loading").show():n.find(".table_bd").css("opacity",.5).siblings(".loading1").show(),i.fnGetJSONDate("get",r,l,function(s){e(".vehicles_hd .vehicles_btn").attr("data-flag",1),n.removeClass("loading_show").find(".loading").hide(),n.find(".table_bd").css("opacity",1).siblings(".loading1").hide();var r={opStr:"vehicle-"+(t||0)+"-page-"+a,result:s};i.vehicleData.push(r),o&&o(),i.fnTableResult(n,s,t)})}var i=this,n=e(".vehicles_data"),a="",o=1;e(document).on("click",".vehicles_hd .vehicles_btn,.selece_hd>ul>li.clearAll",function(){var s=!1,r=e(".vehicles_hd .vehicles_btn"),s=(r.data("flag"),!1),l="";if(e(this).hasClass("clearAll")){e(this).hide();var c=e(".Compatibility"),d='<li cid="" class="select">'+i.selectText+"</li>",u=c.find(".select_year");u.find(".select_text .text").html("Select"),u.find(".select_box ul .select").remove(),u.find(".select_box ul").prepend(d),u.nextAll(":not(.clearAll)").addClass("gray"),u.nextAll().find(".select_text .text").html("Select"),u.nextAll().find(".select_box ul .select").remove(),u.nextAll().find(".select_box ul").html(d),e(".vehicles_hd .vehicles_btn").attr("data-text",""),r.addClass("open"),e("#Year,#Make,#Model,#Submodel,#Trim,#Engine").val(0),e("#Recent_searches").val(0),e("#Recent_searches").attr("data-text",""),e(".recent_searches .select_text .text").html(e("#Recent_searches").attr("data-str")),e(".vehicles_span").show().find(".vehicles_num").html(dataObj.vehicleTotal)}if(r.hasClass("open"))e(".vehicles_data>div").hide(),r.removeClass("open").html(r.data("show")+"<i></i>"),r.parents(".vehicles_hd").show().removeClass("open");else{r.addClass("open").html(r.data("hide")+"<i></i>"),r.parents(".vehicles_hd").addClass("open"),e(".selece_hd>ul>li.searchBtn").hasClass("gray")&&(a=""),e(this).hasClass("clearAll")||"0"==e("#Recent_searches").val()||(a=e("#Recent_searches").val()),l="vehicle-"+(a||0)+"-page-"+o;for(var p,h=0;h<i.vehicleData.length;h++)i.vehicleData[h].opStr==l&&(s=!0,p=i.vehicleData[h].result);s?i.fnTableResult(n,p,a):t(a,o)}}),e(document).on("click",".vehicles_page .jsPageNum",function(){o=parseInt(e(this).html().trim()),t(a,o)}).on("click",".vehicles_page .JsGoToPageBtn",function(){o=parseInt(e(this).siblings(".jsPageIpt").val()),o&&t(a,o)}).on("click",".vehicles_page .jsRatePageBtn",function(){e(this).hasClass(".disabled")||(o=parseInt(e(this).attr("page")),t(a,o))}).on("focus",".vehicles_page .jsPageIpt",function(){e(this).parent().addClass("active")}).on("blur",".vehicles_page .jsPageIpt",function(){""==e(this).val()&&e(this).parent().removeClass("active")}).on("click",".selece_hd>ul>li.searchBtn a",function(){var n=e(this);if(n.parent().hasClass("gray"))return!1;var s=e(".vehicles_hd .vehicles_btn").hasClass("open");s||(e(".vehicles_hd .vehicles_btn").addClass("open"),n.parents(".vehicles_hd").addClass("open")),a=i.fnVehicleData(a,"value"),a=a.substring(0,a.length-1),o=1,t(a,o,function(){e(".vehicles_hd .vehicles_btn").attr("data-text",i.fnVehicleData("","data-text"))})}).on("click",".recent_searches .select_box ul li",function(){var n=e(this),s=n.attr("cid"),r=n.text();n.parents(".select_box").next().attr("data-text",r),"0"==s?(e(".selece_hd>ul>li.searchBtn").hasClass("gray")?e(".vehicles_hd .vehicles_btn").attr("data-text",""):e(".vehicles_hd .vehicles_btn").attr("data-text",i.fnVehicleData("","data-text")),a=""):a=s;var l=e(".vehicles_hd .vehicles_btn").hasClass("open");l||(e(".vehicles_hd .vehicles_btn").addClass("open"),n.parents(".vehicles_hd").addClass("open")),o=1,t(a,o,function(){e(".vehicles_hd .vehicles_btn").attr("data-text",r)})})},fnVehicleData:function(t,i){return t="",t+=e("#Year").attr(i)+"-",t+=e("#Make").attr(i)+"-",t+=e("#Model").attr(i)+"-",t+=e("#Submodel").attr(i)+"-",t+=e("#Trim").attr(i)+"-",t+=e("#Engine").attr(i)+"-"},fnTableResult:function(t,i,n){var a="",o=e(".vehicles_hd .vehicles_btn").attr("data-text"),s=i.list;Array.isArray(s)&&s.length>0?(e.each(s,function(e){a+="<li>";for(var t=0;t<s[e].length;t++)a+="<span><em>"+s[e][t]+"</em></span>"}),t.find(".vehicles_box").show(),""!=n?(e(".vehicles_span").hide(),t.find(".vehicles_box").find(".success").show().find(".success_num").html(i.total).siblings("b").html(o)):(e(".vehicles_span").show(),t.find(".vehicles_box").find(".success").hide()),t.find(".fail_data").hide(),t.find(".vehicles_table").show().find(".table_bd ul").empty().html(a),t.find(".vehicles_page").remove(),e(".Compatibility_info").find(".vehicles_hd").addClass("open").show().find(".vehicles_num").html(i.total),""!=i.pageHtml&&t.append(i.pageHtml)):(t.find(".vehicles_box").show().find(".success").hide(),e(".Compatibility_info").find(".vehicles_hd").hide(),t.find(".vehicles_table").hide().find(".table_bd ul").empty(),t.find(".vehicles_page").remove(),t.find(".fail_data").show().find("em").html(" "+o))}};return t}),define("modules/detail_main",["jquery","modules/magnifier","modalLayer","../../../tools/modules/currency","modules/add_wish","modules/share","modules/bought_together","modules/quantity","modules/add_cart","modules/receive","../../../tools/modules/slide_bar","modules/reviews","jqueryCookie","modules/product_list","modules/wholesaleinquiry","modules/detail_common","jqueryLazyload","modules/query_handler","modules/vehicle"],function($,magnifier,modalLayer,oCurrency,oAddWish,oShare,oBought,oQuantity,oAddCart,oReceive,oSlideBar,reviewsObj,jqueryCookie,oProduct,oInquiry,oCommonFn,jqueryLazyload,queryHandler,OVehicle){var oDetail={timer:null,isPoa:!1,stockMsgCacheArr:[],isV2:1==$("body").attr("data-v2"),shippingAcDsProduct:"",shippingAcDsProductShow:!1,showDiscountTips:!1,isLogin:!1,landingImageOpts:null,fnInit:function(){var e=this;modalLayer.fnInit(),magnifier.fnInit(),oShare.fnShareInit(),reviewsObj.init(),oAddWish.fnInit(),oCurrency.fnInit(),oReceive.fnInit(),oInquiry.fnInit(),this.replaceMatBg(),this.fnLadiesAndDefault(),this.fnGetMainWidth(),$(window).resize(function(){e.fnLadiesAndDefault(),e.fnGetMainWidth()}),e.fnMouseenterAppPrice(),e.fnClickGiftOption(),e.fnClickCloseMask(),e.fnClickWholesale(),e.fnStockMessage(),e.fnClickChoosePoa(),e.fnFashionIninTable(),e.fnReprint(),e.fnMouseHideTitle(),e.fnSizeGuideLogic(),e.fnMouseenterRemind(),e.fnClickOverReduc(),this.clickShipFrom(),oCommonFn.taxincluded(),e.fnClickSnatchRules(),this.emailProving(),this.emailTip(),this.fdGuideWholeSales(),this.countryChange(),this.stateEvent()},replaceMatBg:function(){$(".matbg").each(function(){var e=$(this),t=$.webp.replaceWebpPath(e.attr("data-src")),i=new Image;i.onload=function(){e.attr("src",t),i.onload=null},i.src=t})},fnLadiesAndDefault:function(){var e=this,t=500,i=500,n=$("#landingImage"),a=function(e,t){e!=t?(magnifier.fnChangePic({boxMaxHeight:600,factWidth:450,factHeight:600},.75),$("#small_box, #landingImage").css({maxHeight:"600px",maxWidth:"450px"})):magnifier.fnChangePic({boxMaxHeight:500,factWidth:500,factHeight:500},1)};if(this.landingImageOpts)t=this.landingImageOpts.width,i=this.landingImageOpts.height,a(t,i);else{var o=$.webp.replaceWebpPath(n.attr("data-src")),s=new Image;s.onload=function(){t=s.width,i=s.height,e.landingImageOpts={width:t,height:i},n.attr("src",o),a(t,i),s.onload=null},s.onerror=function(){a(t,i),s.onerror=null},s.src=o}},fnGetMainWidth:function(){var e=$(".item_main_left").width(),t=$(".item_main_left .main_small_box").width(),i=$("#small_box").width(),n=e-(t-i)/2;$(".big-box").css("left",n+10);var a=$("#magnifier").width()-54;if(640>=a){var o=a-20,s=9*o/16;$(".main_viedio .viedio,#viedio_iframe").css({width:o,height:s})}else $(".main_viedio .viedio,#viedio_iframe").css({width:640,height:360})},fnGetJSONDate:function(e,t,i,n){$.ajax({url:t,type:e,data:i,dataType:"json",success:function(e){n&&n(e)}})},stockMessage:function(e,t){var i=this,n=oCurrency.getCookieCurrency(),a=".item_color_box .color_list ul li,.size_bd_box ul li.listSize",o=$(".item_main .item_main_right");$("#curWarehouse").val(e.warehouse),$(".curWarehouse").html(e.warehouse),$("#selPoa").val(e.poa);{var s=parseFloat(oCurrency.getPriceByCurrency(e.final_price,n)),r=(parseFloat(oCurrency.getPriceByCurrency(e.market_price,n)),oCurrency.getPriceByCurrency(e.final_price,n,!0)),l=oCurrency.getPriceByCurrency(e.market_price,n,!0),c=e.attrRange.max>0?oCurrency.getPriceByCurrency(e.attrRange.max,n,!0):0,d=e.attrRange.min>0?oCurrency.getPriceByCurrency(e.attrRange.min,n,!0):0;e.attrRange.max>0?oCurrency.getPriceByCurrency(e.attrRange.max,n):0,e.attrRange.min>0?oCurrency.getPriceByCurrency(e.attrRange.min,n):0}window.sessionStorage.setItem("PRODUCT_PRICE",s),o.find(".item_now_price").attr({oriattrmin:d,oriattrmax:c,noworiprice:e.final_price}),o.find(".item_now_price").attr({oriprice:e.final_price}).html(r),$(".priceAndReview .now_price").attr({oriprice:e.final_price}).html(r),$(".main_plus .hd_price .price_num").attr({oriprice:e.final_price}).html(r),$(".item_bought .item_bought_bd").each(function(){$(this).find(".bought_left .now_price").attr({oriprice:e.final_price}).html(r)}),this.isV2&&$(".item_total_amount").text(r),dataObj.can_buy_stock=e.can_buy_stock,dataObj.hasLogin=e.hasLogin,dataObj.dsLimitBrand=e.dsLimitBrand,dataObj.dsLimitBrandStatus=e.dsLimitBrandStatus,dataObj.hideBuy=e.hideBuy,dataObj.multiDiscountShow=e.multiDiscountShow,dataObj.overReduceProductShow=e.overReduceProductShow,dataObj.freeShipmentProductShow=e.freeShipmentProductShow,dataObj.halfDiscountShow=e.halfDiscountShow,dataObj.installment=e.installment,e.can_buy_stock<=0&&$(".item_quantity .quantity_next").addClass("not_next"),$(".tip_message").html(e.stock_msg),o.find(".item_now_price").attr("oriPrice3",e.price_3),o.find(".item_now_price").attr("oriPrice10",e.price_10),o.find(".item_now_price").attr("oriPrice30",e.price_30),o.find(".item_now_price").attr("oriPrice100",e.price_100);var u=oCurrency.getPriceByCurrency(e.price_3,n),p=oCurrency.getPriceByCurrency(e.price_10,n),h=oCurrency.getPriceByCurrency(e.price_30,n),f=oCurrency.getPriceByCurrency(e.price_100,n);$(".Wholesale").find(".oriprice1").attr({oriprice:e.final_price}).html(s),$(".Wholesale").find(".oriprice3").attr({oriprice:e.price_3}).html(u),$(".Wholesale").find(".oriprice10").attr({oriprice:e.price_10}).html(p),$(".Wholesale").find(".oriprice30").attr({oriprice:e.price_30}).html(h),$(".Wholesale").find(".oriprice100").attr({oriprice:e.price_100}).html(f);var m=oCurrency.getPriceByCurrency(e.final_price,n,!0),_=oCurrency.getPriceByCurrency(e.price_3,n,!0),v=oCurrency.getPriceByCurrency(e.price_10,n,!0),g=oCurrency.getPriceByCurrency(e.price_30,n,!0),b=oCurrency.getPriceByCurrency(e.price_100,n,!0);$(".item_ws_gradient").find(".gradient_price_1 .gradient_price").attr("oriprice",e.final_price).html(m),$(".item_ws_gradient").find(".gradient_price_3 .gradient_price").attr("oriprice",e.price_3).html(_),$(".item_ws_gradient").find(".gradient_price_10 .gradient_price").attr("oriprice",e.price_10).html(v),$(".item_ws_gradient").find(".gradient_price_30 .gradient_price").attr("oriprice",e.price_30).html(g),$(".item_ws_gradient").find(".gradient_price_100 .gradient_price").attr("oriprice",e.price_100).html(b),0==e.edmProductShow&&0!=e.market_price&&e.final_price<e.market_price&&!dataObj.is_param_price?(o.find(".item_old_price").show().attr("oriprice",e.market_price).html(l),o.find(".vipbox .vip_old_price").show().attr("oriprice",e.market_price).html(l),$(".priceAndReview .old_price").show().attr("oriprice",e.market_price).html(l),void 0!=e.discount&&e.discount&&o.find(".item_off_num").show().html("<strong>"+e.discount+"%</strong> Off"),e.is_gst_incl&&$(".item_old_price").before('<div class="item_au_gst"></div>')):(o.find(".item_old_price").hide(),$(".priceAndReview .old_price").hide(),o.find(".item_off_num").hide(),e.is_gst_incl&&$(".item_old_price").before('<div class="item_au_gst only"></div>')),e.valueIds&&e.valueIds.length>0&&(i.fnDefaultPoa(e,a),i.stockMsgCache(e,a));var y=[];$(a).each(function(e,t){$(t).removeClass("lack_stock"),y.push($(t).find("a").attr("value_id"))});var w=i.fnIsChoosePoaArr(e.stockVids,y);$(a).each(function(e,t){for(var i=0;i<w.length;i++)$(t).find("a").attr("value_id")==w[i]&&$(t).removeClass("active").addClass("lack_stock")}),o.find(".list_stocks").find("em").html(e.stocks),e.snatchInfo&&1==e.snatchInfo.snatchType?($(".item_main_right").addClass("item_main_right_snatch"),$(".item_snatch .remainSeconds").text(e.snatchInfo.expiresTime),i.fnCountTimer(e.snatchInfo.expiresTime,1)):$(".item_main_right").removeClass("item_main_right_snatch");var x="",C={};if("undefined"!=typeof dataObj.is_param_price&&1==dataObj.is_param_price?x+='<a href="javascript:;"class="add_to_cart gray">'+DetailLanguage.LA_SNAPUP_SOLD_OUT+"</a>":e.isPreorder?(x+='<a href="javascript:;" data-num="1" class="perorder clickandsend" id="booking">'+DetailLanguage.Perorder+"</a>",C.pointClassName="right_preorder_button_180411 datacube_ac_perorder",C.point_id="18101211582",C.pointClassName_fixed="top_preorder_button_180411 datacube_ac_perorder",C.point_id_fixed="18101211610"):e.alertMeShow?(x+='<a href="javascript:;" data-num="2" class="arrivalnotice clickandsend">'+DetailLanguage.Arrivalnotice+"</a>",C.pointClassName="right_instockalert_button_180411 datacube_ac_presell",C.point_id="18101211581",C.pointClassName_fixed="top_instockalert_button_180411 datacube_ac_presell",C.point_id_fixed="18101211609"):0==e.outStockCanBuy&&0!=e.status?(x+='<a href="javascript:;" data-num="3" class="arrival_alert clickandsend">'+DetailLanguage.ArrivalAlert+"</a>",C.pointClassName="right_arrivalnotice_button_180411",C.point_id="18101211584",C.pointClassName_fixed="top_arrivalnotice_button_180411",C.point_id_fixed="18101211612"):e.snatchInfo&&1==e.snatchInfo.snatchType?(x+='<a href="'+e.snatchInfo.individual_shopping.url+'" data-num="5" class="add_individual_shopping" burying-point-data="middle_individualShopping_button_190603|product|19153043847"><strong>'+e.snatchInfo.formatPrice+"</strong><em>"+e.snatchInfo.individual_shopping.text+"</em></a>",x+='<a href="javascript:;" data-num="5" class="add_social_saving" burying-point-data="middle_snatchNow_button_190603|product|19153043848|1"><strong>'+e.snatchInfo.formatFinalPrice+"</strong><em>"+e.snatchInfo.social_saving.text+"</em></a>"):(x+='<a href="javascript:;" data-num="4" class="add_to_cart add_to_cart_5 clickandsend">'+DetailLanguage.AddToCart+"</a>",C.pointClassName="right_addToCart_button_180411 datacube_ac_cart",C.point_id="18101211579",C.pointClassName_fixed="top_addToCart_button_180411 datacube_ac_cart",C.point_id_fixed="18101211608",$(".Unbeatable .allAddToCart a").removeClass("gray"),x+='<a href="javascript:;" data-num="4" class="add_buy_now add_buy_now_5" burying-point-data="middle_BuyNow_button_190329|prodcut|1987034104|1">'+DetailLanguage.LP_BUY_BUTTON+"</a>"),this.isV2&&(e.isPreorder?(C.pointClassName="middle_Preorder_button_181024 datacube_ac_perorder",C.point_id="18296053913"):e.alertMeShow?(C.pointClassName="middle_InStockAlert_button_181024 datacube_ac_presell",C.point_id="18296053912"):0==e.outStockCanBuy&&0!=e.status?(C.pointClassName="middle_ArrivalNotice_button_181024",C.point_id="18296053918"):e.snatchInfo&&1==e.snatchInfo.snatchType||(C.pointClassName="middle_AddToCart2_button_181024 datacube_ac_cart",C.point_id="18296053917",e.is_dropship&&(C.pointClassName="middle_AddToCart_button_181024 datacube_ac_cart",C.point_id="18296053915")),this.setDefaultWarehouse(e.warehouse)),$(".main_plus .addToCartBtn .not_choose_info,.item_addcart_fixed .not_choose_info").siblings("a").remove(),$(".main_plus .addToCartBtn .not_choose_info,.item_addcart_fixed .not_choose_info").before(x),$(".main_plus .addToCartBtn a").not(".add_buy_now,.add_individual_shopping,.add_social_saving").addClass(C.pointClassName).attr("data-point-id",C.point_id),$(".item_addcart_fixed .addCartBtn a").not(".add_buy_now,.add_individual_shopping,.add_social_saving").addClass(C.pointClassName_fixed).attr("data-point-id",C.point_id_fixed),e.can_buy_stock<=0&&($(".main_plus .addToCartBtn a.perorder").addClass("gray"),$(".item_addcart_fixed .addCartBtn a.perorder").addClass("gray")),e.snatchInfo&&1==e.snatchInfo.snatchType&&0==e.snatchInfo.snatchStatus&&($(".add_social_saving").addClass("gray"),$(".item_snatch .timeShow .timeTitle").text(e.snatchInfo.social_saving.text)),e.snatchInfo&&1==e.snatchInfo.snatchType&&0==e.snatchInfo.expiresTime&&(location.href=e.snatchInfo.individual_shopping.url),1==e.hideBuy?(""!=e.stock_msg&&($(".tip_message").show(),$(".main_plus .addToCartBtn").css("marginTop","9px")),$(".main_plus .addToCartBtn").find("a.add_to_cart").addClass("gray"),$(".item_addcart_fixed .addCartBtn a.add_to_cart").addClass("gray"),$(".main_plus .addToCartBtn").find("a.add_buy_now").addClass("gray"),$(".item_addcart_fixed .addCartBtn a.add_buy_now").addClass("gray")):($(".tip_message").hide(),this.isV2||$(".main_plus .addToCartBtn").css("marginTop","26px"),$(".main_plus .addToCartBtn").find("a.add_to_cart").removeClass("gray"),$(".item_addcart_fixed .addCartBtn a.add_to_cart").removeClass("gray"),$(".main_plus .addToCartBtn").find("a.add_buy_now").removeClass("gray"),$(".item_addcart_fixed .addCartBtn a.add_buy_now").removeClass("gray")),1==e.clearStock&&"undefined"!=typeof oBrazil&&(oBrazil.isclearStock=1),"undefined"!=typeof e.add_to_ebay&&1==e.add_to_ebay&&"ws"!=e.zoneSite&&!e.snatchInfo){"undefined"!=typeof oBrazil&&(oBrazil.is_dropship_for_Brazil=e.is_dropship);var k='<a href="javascript:;" class="ebayCenterBtn clickandsend right_addtoebaycenter_button_180702" data-point-id="18182020623">'+DetailLanguage.AddToEbayCenterBtn+"</a>";this.isV2&&(k='<button type="button" class="ebayCenterBtn add_to_ebay clickandsend middle_AddToEbayCenter_button_181024" data-point-id="18296053914">'+DetailLanguage.AddToEbayCenterBtn+"</button>",$("#newdetailCartForm").addClass("buybox_DS"),"ru-RU"===$.cookie("_bgLang")&&$(".addToWish").css({marginTop:10,marginLeft:0})),$(".ebayCenterBtn").remove(),$(".main_plus .addToCartBtn").find(".add_buy_now").remove(),$(".main_plus .addToCartBtn").addClass("addToCartBtnGray").find("a").before(k),i.fnClickAddEbayBtn()
}oBrazil&&(oBrazil.isDlInterestFree=e.isDlInterestFree,oBrazil.isEIInterestFree=e.isEIInterestFree,oBrazil.init()),1==e.hasShipment?($(".item_ship_box").show(),this.isV2||$(".main_plus .ship_item").show(),$(".item_not_ship").hide(),i.fnDefaultShip(e),this.addLinkBubble()):($(".main_plus .ship_item").hide(),$(".item_ship_box").hide(),$(".item_not_ship").find("span").remove(),$(".item_not_ship").show().find(".not_ship_text").prepend("<span>("+e.warehouse+") </span>")),i.fnDispatch(e),void 0!=e.warehouseList&&e.warehouseList.length>0?i.fnWarehouseList(e,n):$(".warehouse_box").hide(),1==e.is_wholesale_edm&&$('.tabbar_item[aria-links="WholesaleInquiry"]').is(":visible")&&($("#quantity_num").val(3),$(".item_quantity .quantity_prev").removeClass("not_prev")),"undefined"!=typeof e.is_param_price&&1==e.is_param_price||(i.fnPreorderProductShow(e,o),i.fnIsShowAppPrice(e,o),i.fnFlashDealActivity(e,o),i.fnVipActivity(e,o),i.fnItemCouponLogic(e,o),i.fnMultipleDiscounts(e,o),i.fnCnNakdiscount(e,o),i.fnOverReducLogic(e,o),i.fnFreeShipping(e,o),i.addDiscountText(e),i.addCashText(e),i.halfDiscountText(e),i.fnNewUserProductLogic(e,o)),i.fnPushPoaTOtitle(),t||(oBought.fnInit(),oQuantity.fnInit(),oAddCart.fnInit()),i.fnChangeIDUrl(),$(".item_main_right .item_gift_box").each(function(){var t=$(this).attr("warehouse");e.warehouse==t&&$(this).show()}),$(".item_bought .item_bought_bd").each(function(){oProduct.calculateBundlePrice($(this),$(".item_now_price").attr("oriprice"))}),oQuantity.fnAutoSubtotal(n,e),i.isLogin=1!=e.hasLogin?!1:!0,dataObj.guideToWholesaleShow=e.guideToWholesaleShow},snatchSign:function(e){try{var t=e.snatchInfo;t&&1==t.snatchType&&(0==t.draw_type&&$(".main_image_box").append('<span class="draw_sign">Group Draw</span>'),t.draw_type_describe_team&&$(".imgTagWrapperId").append('<div class="draw_describe">'+t.draw_type_describe_team+"</div>"),t.snatchNewUserText&&$(".snap-tips").html(t.snatchNewUserText).show())}catch(i){console.log("detail_main.js:snatchSign() => error!!")}},fnStockMessage:function(){function e(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null}var t=this,i=$("#products_id").val(),n=$(".item_main .item_main_right"),a=$(".snatch-email-alt"),o=[],s=!1,r=".item_color_box .color_list ul li,.size_bd_box ul li.listSize";$(r).each(function(){o.push($(this).find("a").attr("value_id"))});var l=homeUrl+"load/product/ajaxProduct.html",c="products_id="+i,d=t.fnSelectPOA();d.length>0&&$.each(d,function(e,t){s=-1!=$.inArray(t,o)?!0:!1}),s&&(c+="&valueId="+d.join(","));var u=e("cur_warehouse");null!=u&&(c+="&warehouse="+u);var p=e("gmcCountry");null!=p&&(c+="&gmcCountry="+p);var h=e("DsbqgBg23");null!=h&&(c+="&DsbqgBg23="+h);var f=$("#snatch_serial_id").val()||window.snatch_serial_id;f&&(c+="&snatch_serial_id="+f),c=queryHandler.attachEncrypt(c),t.fnGetJSONDate("get",l,c,function(e){function i(e,t,i,n,a){var o=parseInt(e)/t*100;o=o.toFixed(1),i.attr("data-num",o),0==e&&(o=0),i.find(".percent").attr("data-star",e).html(e+" ("+o+"%)"),i.find("a").addClass(n).attr("data-point-id",a)}if($("#curWarehouse").val(e.warehouse),$(".curWarehouse").html(e.warehouse),e.warehouse_list){var o="";$.each(e.warehouse_list,function(e,t){o+='<li data-point-id="18296053909" class="middle_shipfrom_button_181024 clickandsend" data-warehouse="'+t+'">'+t+"</li>"}),o&&$(".item_warehouse_list ul").html(o)}if(t.snatchSign(e),$(".item_now_price").removeClass("ajax_loading"),$("#centerCtrl").attr("isAjax",1),n.find(".write_qa .qa_text").html(e.qaText),t.shippingAcDsProduct=e.shippingAcDsProduct,t.shippingAcDsProductShow=e.shippingAcDsProductShow,t.showDiscountTips=e.showDiscountTips,1==e.isBgAccount?n.find(".list_sku").show().siblings(".list_stocks").show().find("em").html(e.stocks):n.find(".list_sku").hide().siblings(".list_stocks").hide(),e.isPreorder?n.find(".list_sold").hide():e.alertMeShow?n.find(".list_sold").show().html(e.alertMeOrderNums+" "+DetailLanguage.OnAlert):e.soldTotal>0&&$.cookie("bg_email")&&$.cookie("bg_email").indexOf("@banggood.com")>-1?n.find(".list_sold").show().html(DetailLanguage.SoldCapital+": "+e.soldTotal):n.find(".list_sold").hide(),e.sloganData&&!Array.isArray(e.sloganData)){var s=$.cookie("_bgLang"),r=["en-GB","ar-AR"];if(-1!==r.indexOf(s)){var l=e.sloganData,c=t.isV2?"margin-top:14px;":"margin:14px 0 -30px;",d=['<div style="'+c+'" data-api_id="{{id}}">','<a href="{{url}}"                                style="position:relative; display:block; min-width:346px; max-width:874px; height:64px;overflow: hidden"                                class="top_prodcut_image_180801 clickandsend sales_air_slogan"                                data-point-id="18213051541"                            >','<img style="max-width:100%; position:absolute; left:0; top:50%; transform:translateY(-50%)" src="{{bg}}" alt="{{name}}" />','<img style="position:absolute; top: 50%; transform: translateY(-50%); max-width: 100%;" src="{{text}}" alt="{{name}}" />',"</a>","</div>"].join(""),u=function(e,t){return e.replace(/{{([^{}]+)}}/gm,function(e,i){return t&&"undefined"!=typeof t[i]?t[i]:""})};$(".sales_air_slogan").length>0&&$(".sales_air_slogan").off().parent().remove(),$(".item_price_box").before(u(d,{url:l.url||"javascript:;",id:l.id,bg:$.webp.replaceWebpPath(l.logo),text:$.webp.replaceWebpPath(l.logo_2),name:l.acticity_name})),$(".sales_air_slogan").on("mouseenter",function(){ga("send","event","Activity","hover","top_prodcut_image_180801"),"undefined"!=typeof JGData&&JGData.JGCheckClassName(JGData,"top_prodcut_image_180801",1,"","18213051540")}),$(".item_snatch").css("bottom","-14px"),$(".item_snatch .snatch_rules").css("bottom","-108px")}}var p=e.reviews,h=$(".item_review .star_info_box");if($(".item_review .review_num").html(p.average),h.find(".stars_num strong").html(p.average),h.find(".all_reviews em").html(e.reviews.amount),h.find(".praise_rate ul li").each(function(){var e=$(this).attr("data-sart");switch(e=parseInt(e)){case 5:i(p.start5,p.amount,$(this),"right_5star_button_180411","18101211591");break;case 4:i(p.start4,p.amount,$(this),"right_4star_button_180411","18101211592");break;case 3:i(p.start3,p.amount,$(this),"right_3star_button_180411","18101211593");break;case 2:i(p.start2,p.amount,$(this),"right_2star_button_180411","18101211594");break;case 1:i(p.start1,p.amount,$(this),"right_1star_button_180411","18101211595")}}),t.fnClickReviews(),$(".addToWish .wish_num").html(e.wishlistAmount),1==e.isWishlist&&($(".addToWish a").addClass("active"),$(".addToWish .wish_text").text($(".addToWish a").attr("data-wished"))),t.setProdetailAreaDom(e),reviewsObj.resetReviewsNum(e.reviews),dataObj.appOnlyShow=e.appOnlyShow,"undefined"!=typeof e.fdProduct&&(dataObj.fdProduct=e.fdProduct),dataObj.appSuperPriceOri=e.appSuperPriceOri,dataObj.delay_days=e.delay_days,dataObj.alertMeShow=e.alertMeShow,dataObj.curWarehouse=e.warehouse,dataObj.countryLimit=e.countryLimit,dataObj.californiaTips=e.californiaTips,dataObj.isHideBatch=e.isHideBatch,dataObj.newUserProductShow=e.newUserProductShow,dataObj.isWishlist=e.isWishlist,dataObj.is_param_price=e.is_param_price,dataObj.isPreorder=e.isPreorder,dataObj.zoneSite=e.zoneSite,"undefined"!=typeof dataObj.is_param_price&&1==dataObj.is_param_price?($('.tabbar_item[aria-links="WholesaleInquiry"]').hide(),$(".item_ws_gradient").hide()):1==e.isHideBatch?($('.tabbar_item[aria-links="WholesaleInquiry"]').hide(),$(".item_ws_gradient").hide()):($('.tabbar_item[aria-links="WholesaleInquiry"]').css("display","inline-block"),"ws"==e.zoneSite&&($(".item_ws_gradient").show(),$("#quantity_num").val("3"))),t.stockMessage(e,!1),"undefined"!=typeof nDC){try{var f=$.cookie("ab_hotproducts");if(1!=oProduct.getUrlParam("gpla")&&1==window.isTop&&(1==f||0==f)){var m=1==f?"hotproducts1_200528":"hotproducts0_200528";window.dc_test_version=window.dc_test_version+","+m}}catch(_){console.log("ab_hotproducts error:",_)}nDC.analytics()}if(null!=e.activityLabel){var v=$.webp.replaceWebpPath(e.activityLabel.logo);$(".item_main_left").find(".small-box .easter").show().html('<img src="'+v+'" />')}else $(".item_main_left").find(".small-box .easter").hide();if(t.fnIsSizeTipBox(),e.giftProductShow&&t.giftProductInfo(e.giftProduct.gift_tips),"undefined"!=typeof e.vehicleShow&&(dataObj.vehicleShow=e.vehicleShow,dataObj.vehicleTotal=e.vehicleTotal,1==e.vehicleShow?$(".Compatibility").show():2==e.vehicleShow?($(".Compatibility").show().find(".select_trim,.select_engine").hide(),$("#Trim,#Engine").val(0).attr("data-text","")):3==e.vehicleShow?($(".Compatibility").show().find(".select_submodele").hide(),$("#Submodel").val(0).attr("data-text","")):$(".Compatibility").hide(),OVehicle.init(),$(".vehicles_num").html(e.vehicleTotal)),t.fnPaymentItem(e),e.gst&&t.fnGstTips(e.gst),e.show_lucky_draw_tips&&a.show(),t.isLogin=1!=e.hasLogin?!1:!0,dataObj.guideToWholesaleShow=e.guideToWholesaleShow,e.defaultShip&&e.defaultShip.shipTip?($(".cod_ship_tips span").html(e.defaultShip.shipTip),$(".cod_ship_tips").show()):$(".cod_ship_tips").hide(),e.activity_label){var v=$.webp.replaceWebpPath(e.activity_label.period_logo);if($(".activity_set img").attr("src",v),$(".activity_set h3").html(e.activity_label.activity_name),e.activity_label.logo){var g=$.webp.replaceWebpPath(e.activity_label.logo);$(".activity_set_logo").attr("src",g),$(".activity_set_logo").show().siblings("span.price_text").hide()}else $(".activity_set_logo").hide().siblings("span.price_text").show();1!=e.activity_label.countdown&&(e.activity_label.end_time>0?($(".activity_set .activity_time").attr("data-time",e.activity_label.end_time),$(".activity_set .activity_time").show(),t.fnCountTimer(e.activity_label.end_time,2,e.activity_label.countdown)):$(".activity_set .activity_time").hide()),e.activity_label.period_logo&&$(".activity_set").show()}e.one_week_arrive&&$(".item_ship_box .ship_box_center .free_text").after('<span class="one_week_arrive">'+e.one_week_arrive+"</span>"),e.raise_price_tip&&$(".item_price_box").append('<div class="vat_tips"><span>'+e.raise_price_tip+"</span></div>")})},fnChangeIDUrl:function(){var e=decodeURI(location.href),t=e.split("?"),i=t[0],n="",a="";if(t[1]){strs=t[1].split("&"),strlen=strs.length;for(var o=0;strlen>o;o++){var s=strs[o].split("=");"ID"!=s[0]&&"cur_warehouse"!=s[0]&&(n+=void 0!=s[1]?a+s[0]+"="+s[1]:a+s[0],a="&")}}var r=oAddCart.fnGetSelectedOptions();if(0!=r&&void 0!=r.valueIds&&r.valueIds.length>0){for(var l="",o=0;o<r.valueIds.length;o++)l+=r.valueIds[o].length+r.valueIds[o];n+=a+"ID="+l,a="&"}n+=a+"cur_warehouse="+$("#curWarehouse").val(),history.replaceState({},"",i+"?"+n)},fnSelectPOA:function(){var e=new Array,t=".item_color_box,.item_size_box",i=decodeURI(location.href);if(-1!=i.indexOf("ID=")){var n=i.split("ID="),a=n[1].split("&")[0];a.length>0&&$(t).each(function(){var t=a.substring(0,1);a=a.substring(1);var i=a.substring(0,t);a=a.slice(i.length),e.push(i)})}return e},stockMsgCache:function(e,t){var i="stockMsg_"+dataObj.curWarehouse;$(t).each(function(){$(this).hasClass("active")&&(i+="_"+$(this).find("a").attr("value_id"))});for(var n=!1,a=0;a<this.stockMsgCacheArr.length;a++)this.stockMsgCacheArr[a].stockMsg==i&&(n=!0);if(!n){var o={stockMsg:i,data:e};this.stockMsgCacheArr.push(o)}},fnPreorderProductShow:function(e,t){var i=this;if(e.isPreorder)if(t.find(".item_presell").eq(0).show(),t.find(".item_presell").find(".presell_num").html(e.preOrderNum),1==e.preRateShow){t.find(".item_price_box").css("marginTop","24px"),t.find(".item_presell").find(".presell_text1").show().html(e.preRatEndTimeStr),t.find(".item_presell_box").show();var n=e.preRateGrads,a=30*n.length;a>=100&&(a=100);var o=100/n.length,s="",r="",l="",c="";for(var d in n){var u=parseInt(n[d].orders_amt_end),p=oCurrency.getCookieCurrency(),h=oCurrency.getPriceByCurrency(n[d].products_price,p,!0);s+='<span class="price_text" oriprice="'+n[d].products_price+'" style="width:'+o+'%">'+h+"</span>",r+='<span class="pcs_text pcs_text'+(parseInt(d)+1)+'" style="width:'+o+'%"><em>'+u+" "+DetailLanguage.Pcs+"</em></span>"}for(var f=0;f<n.length-1;f++)c+='<span style="width:'+o+'%"></span>';l+='<div class="top_text clearfix" style="width:'+a+'%">'+s+'</div><div class="presell_progress" data-perc="'+e.preRateAvgAll+'" style="width:'+a+'%"><span class="progressbar"></span></div><div class="distance_line" style="width:'+a+'%">'+c+'</div><div class="bottom_text clearfix" style="width:'+a+'%"><span class="pcs_text pcs_text0"><em>0</em></span>'+r+"</div>",$(".item_presell_box").html(l),$(".item_presell_box").find(".pcs_text").each(function(){var e=$(this).find("em").outerWidth();$(this).find("em").css("marginRight",-e/2)}),$(".item_presell_box").find(".pcs_text:last-child em").css("marginRight",0),i.fnProgressAnimation(".item_presell_box .presell_progress")}else t.find(".item_presell_box").hide(),t.find(".item_presell").find(".presell_text1").hide();else t.find(".item_presell").hide()},fnIsShowAppPrice:function(e,t){var i=e,n=oCurrency.getCookieCurrency();if(1==i.appOnlyShow||"undefined"!=typeof i.fdProduct&&1==i.fdProduct.is_app_only){t.find(".item_Nakdiscount").show().find(".Nakdiscount_bd").show();var a=t.find(".item_Nakdiscount .Nakdiscount_bd"),o=a.find(".app_text").text(),s=a.find(".more_app_only a").attr("href"),r=a.find(".more_app_only a").html(),l=a.find(".code_img img").attr("src"),c=!1;if("undefined"!=typeof i.fdProduct&&1==i.fdProduct.is_app_only)a.find(".app_text").html("<i></i>"+i.fdProduct.app_text1),a.find(".app_price i").css({right:"5px","margin-top":"7px"}),a.find(".more_app_only a").attr("href","/Flashdeals.html").html(i.fdProduct.app_text2),a.find(".code_img img").attr("src",l+"&showLogo=1&type=4"),c=!0;else{a.find(".app_text").html("<i></i>"+o),a.find(".app_price i").css({right:"0px","margin-top":"-3px"}),a.find(".more_app_only a").attr("href",s).html(r),a.find(".code_img img").attr("src",l+"&type=4"),c=!1;var d=t.find(".Nakdiscount_bd").find(".app_price em"),u=oCurrency.getPriceByCurrency(i.appSuperPriceOri,n,!0);d.attr("oriprice",i.appSuperPriceOri).html(u);var p=i.appSuperPriceOri+e.poaPrice,h=(oCurrency.getPriceByCurrency(p,n),oCurrency.getPriceByCurrency(p,n,!0));d.attr({oriprice:p}).html(h)}var f=window.QrCode;if(f){var m={},_=l.match(/[?&]([^=&#]+)=([^&#]*)/g);if(_)for(var v in _){var g=_[v].split("="),b=g[0].substr(1),y=g[1];m[b]=m[b]?[].concat(m[b],y):y,m[b]=decodeURIComponent(m[b])}new f({oDom:a.find(".code_img"),urlOrUrlType:"detailAppOnly",logoType:c?"new":"none",params:m})}}else t.find(".item_Nakdiscount").hide().find(".Nakdiscount_bd").hide();"ws"==i.zoneSite&&1==i.isHideBatch&&"undefined"!=typeof i.fdProduct&&1==i.fdProduct.is_app_only&&t.find(".item_Nakdiscount").hide().find(".Nakdiscount_bd").hide()},fnIsChoosePoaArr:function(e,t){for(var i=[],n=[],a=0;a<e.length;a++)i[e[a]]=!0;for(var a=0;a<t.length;a++)i[t[a]]||n.push(t[a]);return n},fnDefaultPoa:function(e,t){for(var i=0;i<e.valueIds.length;i++)$(t).each(function(t,n){{var a=$(n).find("a").attr("value_id");$(n).attr("data-name")}e.valueIds[i]==a&&$(n).addClass("active").siblings().removeClass("active")})},fnIsSizeTipBox:function(){var e=this;$(document).on("mouseenter","#all_country_size .item_size_bd .size_bd_box ul li.listSize",function(){if($(".size_tip_box .size_tip").length>0){var t=!1;if("undefined"!=typeof lingerieSizeUsePlan&&1==lingerieSizeUsePlan&&$('.item_size_box[data-en-name="cup"]').find(".listSize.active").length<=0&&(t=!0),t)return!1;var i=$(this).parents(".size_bd_box").height();$(this).parents(".size_bd_box").css("overflow","visible");var n=$(this).parents(".item_size_box").attr("data-lingerie"),a=$(this).attr("data-name"),o=($(this).outerWidth(),$(this).position().left,$(this).index()),s=!1,r=bandSizePoa="";if("undefined"!=typeof lingerieSizeUsePlan&&1==lingerieSizeUsePlan&&$('.item_size_box[data-en-name="cup"]').length&&(s=!0,r=$('.item_size_box[data-en-name="cup"]').find(".listSize.active").attr("data-old-name"),bandSizePoa=$(this).attr("data-old-name")),$(".size_tip_box .size_tip").eq(o).length>0||s){$(this).parents(".size_bd_box").find(".size_tip").remove();var l=bandSizePoa+r;if($(this).parents(".size_bd_box").append(s&&$("#size_tip_"+l).length?$("#size_tip_"+l).clone().attr("style","display:inline-block;"):$(".size_tip_box .size_tip").eq(o).clone().attr("style","display:inline-block;")),void 0!=n&&"undefined"!=typeof AllCountrySizeToCountryCore){var c=$(this).parents(".item_size_box").find(".size_left").attr("data-cid"),d=$('.item_size_box[data-en-name="cup"]').find(".listSize.active").attr("data-name");void 0!=d&&(a+=d),$(this).parents(".size_bd_box").find(".fit_size").html(c+" "+a)}if($(this).parents(".size_bd_box").find(".size_tip").css({top:i+10}),e.isV2){var u=$(this).parents("#all_country_size").find(".select_prompt").is(":visible"),p=$(this).parents(".size_bd_box").find(".size_tip").height();u&&(p+=24),$(this).parents(".item_size_box").css("paddingBottom",p)}}}});var t=function(){$("#all_country_size .item_size_bd .size_bd_box ul li.listSize").each(function(){$(this).hasClass("active")&&$(this).trigger("mouseenter")})};$(document).on("mouseleave",".size_bd_box ul li.listSize",function(){t()}),t()},fnDispatch:function(e){var t=this,i=$(".item_main .item_main_right");queryString("gmcCountry")?i.find(".item_stock_box").hide():(i.find(".stock_box_hd").html(""==e.processingTime?"<strong>"+e.stockMessage+"</strong>":e.lockdownCountryTip?'<div class="lock_down_tips">'+e.lockdownCountryTip+"</div>":"<strong>"+e.stockMessage+"</strong> "+DetailLanguage.ProcessiongTime+":"+e.processingTime),i.find(".item_stock_box").show()),""!=e.delayExplain&&t.fnNewAddShipTips(i.find(".stock_box_hd"),e.delayExplain,!1)},fnDefaultShip:function(data){var _this=this,element=$(".item_main .item_main_right");element.find(".free_country").html(223==data.countryId&&(data.zone_id||$(".shipp_wrap .filter_block .state_list .active span").attr("data-id"))?data.zone_name:data.countryName),$(".shipping_list_dialog .country_list .active span").attr("data-id",data.countryId),$(".shipping_list_dialog .country_list .active span").html(data.countryName),$(".shipp_wrap .filter_block .state_list .active span").attr("data-id",data.zone_id),$(".shipp_wrap .filter_block .state_list .active span").html(data.zone_name),_this.stateDownAjax(),$(".filter_block_house a").attr("data-house",dataObj.curWarehouse).html(dataObj.curWarehouse);var defaultShip=data.defaultShip;_this.fnShowShipInfo(defaultShip.code,defaultShip.price,defaultShip.shipCost,defaultShip.name,defaultShip.deliveryDays,defaultShip.prompt),$(".main_plus .stock_text strong").html(data.stockMessage);var clickStr=".ship_box_center .free_ship,.free_ship_text .via_text a",listStr="";$.each(data.shipmentList,function(e){var t="",i="";"undefined"!=typeof data.shipmentList[e].prompt&&""!=data.shipmentList[e].prompt&&(i=data.shipmentList[e].prompt.split("<em")[0],t='<span class="cart_title_india"><i class="india_icon"></i> '+data.shipmentList[e].prompt+"</span>"),listStr+='<li data-code="'+data.shipmentList[e].code+'" oriprice="'+data.shipmentList[e].price+'" data-name="'+data.shipmentList[e].name+'" data-days="'+data.shipmentList[e].deliveryDays+'" data-shipCost="'+data.shipmentList[e].shipCost+'" data-prompt="'+i+'">                    <div class="list_cell list_name"><label></label><span>'+data.shipmentList[e].name+'</span></div>                    <div class="list_cell list_shipcost"><span class="now_price" oriprice="'+data.shipmentList[e].price+'">'+data.shipmentList[e].shipCost+'</span></div>                    <div class="list_cell list_days">'+data.shipmentList[e].deliveryDays+'</div>                    <div class="list_cell list_track '+(0==data.shipmentList[e].trackNewStatus?"not_tracked":"")+'"></div>                </li>'}),$(".item_ship_mask .shipp_list ul").html(listStr);var code=element.find(".ship_box_center .free_text").attr("data-code"),list_index=0;$(".item_ship_mask .shipp_list ul").find("li").each(function(){$(this).attr("data-code")==code&&(list_index=$(this).index())}),$(".item_ship_mask .shipp_list ul").find("li").eq(list_index).addClass("active");var lastZoneId="";$(document).on("click",clickStr,function(){var e=$("#snatch_serial_id").val()||window.snatch_serial_id;if(e)return!1;if(!oAddCart.fnValidateSelOptions($(".addToCartBtn")))return!1;var t=$(".top .shipto strong em img").attr("src"),i=$(".top .shipto strong em").text().split(",")[0];modalLayer.fnModalBg(),$(".modal_container").addClass("module_detail").html($(".item_ship_mask").html()),$(".module_detail").find(".item_dia_country img").attr("src",t),$(".module_detail").find(".item_dia_country strong").html(i),t&&$(".shipping_list_dialog .country_list .active .country-flag").attr("class","country-flag icon-flag-"+t.replace(/.+\/(.+)\.(.+)/,"$1")),$(".shipping_list_dialog .country_list .active span").html(data.countryName).attr("data-id",data.countryId);var n=$(".ship_box_center .free_ship .free_country").attr("data-id")||data.zone_id,a=$(".ship_box_center .free_ship .free_country").html()||data.zone_name;return $(".shipp_wrap .filter_block .state_list .active span").html(a).attr("data-id",n),$(".js-apply-shipp").show(),lastZoneId=n,223==data.countryId?$(".shipp_wrap .filter_block .state_list").show():$(".shipp_wrap .filter_block .state_list").hide(),modalLayer.fnModalAdd(),_this.addModalBubble(),!1}),$(document).on("click",".module_detail .shipp_list ul li",function(){$(this).addClass("active").siblings().removeClass("active"),oDetail.fbSendPoint("product","click","middle_selectShippingment_datalist_190309","1967001331")}),$(document).on("click",".module_detail .js-apply-shipp",function(){if(!$(this).hasClass("loadingList")){var oParent=$(this).closest(".shipping_list_dialog").find(".shipp_list ul li.active"),index=0,code,nowPrice,shipCost,name,deliveryDays;index=oParent.index(),code=oParent.attr("data-code"),nowPrice=oParent.attr("oriprice"),shipCost=oParent.find(".now_price").html(),name=oParent.attr("data-name"),deliveryDays=oParent.attr("data-days");var prompt=oParent.attr("data-prompt"),regionalArr=["SG","ID","MY","TH","VN","PH","IN","ZA"];"undefined"!=typeof $.cookie("countryCookie")&&(eval("var countryCookie = "+$.cookie("countryCookie")+";"),"undefined"!=typeof countryCookie.name&&"undefined"!=typeof countryCookie.code&&-1!=$.inArray(countryCookie.code,regionalArr)&&""!=prompt&&(prompt+="ZA"==countryCookie.code?'<em class="mail_price" oriprice="59.99"></em>':'<em class="mail_price" oriprice="39.99"></em>')),_this.fnShowShipInfo(code,nowPrice,shipCost,name,deliveryDays,prompt),"mid_east_dt_mail"==code?$(".cod_ship_tips").show():$(".cod_ship_tips").hide(),$(".item_ship_mask .shipp_list ul").html($(".module_detail .shipp_list ul").html()),$(".item_ship_mask .shipp_list ul li").eq(index).addClass("active").siblings().removeClass("active"),_this.addLinkBubble();var countryId=$(".shipping_list_dialog .country_list .active span").attr("data-id"),zoneId=$(".shipp_wrap .filter_block .state_list .active span").attr("data-id"),zoneName=$(".shipp_wrap .filter_block .state_list .active span").html();$(".ship_box_center .free_ship .free_country").html(zoneName).attr("data-id",zoneId);for(var j=0;j<_this.stockMsgCacheArr.length;j++)_this.stockMsgCacheArr[j].data.zone_name&&(_this.stockMsgCacheArr[j].data.zone_name=zoneName,_this.stockMsgCacheArr[j].data.zone_id=zoneId);data.countryId!=countryId||223==data.countryId&&lastZoneId!=zoneId?_this.getShipmentsByShipZone(1):modalLayer.fnModalRemove()}})},fnShowShipInfo:function(e,t,i,n,a,o){var s=$(".item_main .item_main_right");if($(".mail_span").remove(),"undefined"!=typeof o&&""!=o&&dataObj.freeShipmentProductShow&&0==dataObj.freeShipmentProductShow){var r='<span class="mail_span">'+o+"</span>";s.find(".free_text").hide().attr({"data-code":e,oriprice:t}).html(i).parents(".ship_box_center").css("marginTop",0).before(r),$(".main_plus .free_ship_text strong").hide().attr({"data-code":e,oriprice:t}).html(i).siblings(".via_text").before(r);var l=oCurrency.getCookieCurrency();$(".mail_span").each(function(){oCurrency.autoChangePrice($(this).find(".mail_price"),l,!0)})}else this.isV2?s.find(".ship_box_center").css("marginTop",6):s.find(".ship_box_center").css("marginTop",10),s.find(".free_text").show().attr({"data-code":e,oriprice:t}).html(i),$(".main_plus .free_ship_text strong").show().attr({"data-code":e,oriprice:t}).html(i);s.find(".air_parcel").html(n+"<i></i>"),$(".main_plus .free_ship_text .via_text a").html(n+"<i></i>"),s.find(".ship_time em").html(DetailLanguage.ShippingTime+":"+a)},fnNewAddShipTips:function(e,t,i){var n="middle_delayexplain_button_181001|product||18273054432";i&&(n="right_delayexplain_button_181001|product||18273054433");var a='<div class="item_snap_up" burying-point-data="'+n+'"><div class="snap_up_remind"><span class="remind_icon"></span><div class="remind_info_box"><div class="remind_info arrow_info"><i><i></i></i><span class="close"></span><span class="text">'+t+"</span></div></div></div></div>";return i?a:(e.find(".item_snap_up").remove(),void e.append(a))},fnMouseenterRemind:function(){$(document).on("mouseenter",".item_snap_up .snap_up_remind",function(){if($(this).parents(".MoneyOff").length>0)return!1;$(this).find(".remind_info_box").outerWidth();if($(this).find(".remind_info_box").stop(!0).fadeIn(100),$(this).parents(".warehouse_box").length>0){var e=$(this).parents(".item_snap_up").position().left+8;e=258-e-12,"undefined"!=typeof currentLang&&"ar-AR"==currentLang&&(e=$(this).parents(".item_snap_up").position().left),$(this).parents(".item_snap_up").find(".arrow_info>i").css("right",e)}}),$(document).on("mouseleave",".item_snap_up .snap_up_remind",function(){$(this).parents(".MoneyOff").length<=0&&$(this).find(".remind_info_box").fadeOut(300)}),$(document).on("click",".item_snap_up .snap_up_remind .close",function(){$(this).parents(".MoneyOff").length>0?$(this).parents(".item_snap_up").fadeOut(300):$(this).parents(".remind_info_box").fadeOut(300)})},fnClickCloseMask:function(){var e=this;$(document).on("click",'.modal_ship .close,.modal_ship .cancle,.modal_container:not(".module_detail") .modal_ship_btn .ok,.commonly_mask .ok,.modal_ship .later',function(){modalLayer.fnModalRemove(),e.addLinkBubble()})},fnWarehouseList:function(e,t){for(var i=e.warehouseList,n="",a=0;a<i.length;a++){var o=oCurrency.getPriceByCurrency(i[a].final_price,t,!0),s=1==i[a].hideBuy?"gray":"",r=i[a].can_buy_stock<=0?"gray":"",l="";"undefined"!=typeof dataObj.is_param_price&&1==dataObj.is_param_price?l+='<a href="javascript:;"class="add_to_cart gray">'+DetailLanguage.LA_SNAPUP_SOLD_OUT+"</a>":l=i[a].isPreorder?'<a href="javascript:;" class="perorder clickandsend right_preorder2_button_180411 '+r+'" dada-sub="1" data-point-id="18101211587">'+DetailLanguage.Perorder+"</a>":i[a].alertMeShow?'<a href="javascript:;" class="arrivalnotice clickandsend right_instockalert2_button_180411" dada-sub="1" data-point-id="18101211586">'+DetailLanguage.Arrivalnotice+"</a>":0==i[a].outStockCanBuy&&0!=e.status?'<a href="javascript:;" class="arrival_alert clickandsend right_arrivalnotice2_button_180411'+s+'" dada-sub="1" data-point-id="18101211589">'+DetailLanguage.ArrivalAlert+"</a>":'<a href="javascript:;" class="add_cart right_addToCart2_button_180411 clickandsend datacube_ac_cart '+s+'" dada-sub="1" data-point-id="18101211585">'+DetailLanguage.AddToCart+"</a>";var c=i[a].defaultShip.oriShipCost>0?"Shipping":"",d="";if(i[a].overReduceProductShow&&1==i[a].overReduceProductShow){var u=i[a].overReduceProduct,p=u.view_more?', <a href="'+u.over_reduction_url+'" burying-point-data="right_moneyoffviewmore_button_181001|product|18273054428">'+u.go_to_see_text+" <i></i></a>":".",h=u.per_limit_msg?"<p><i></i>"+DetailLanguage.Tips+": "+u.per_limit_msg+"</p>":"",f="";if("undefined"!=typeof u.over_reduction_content_msg&&Array.isArray(u.over_reduction_content_msg)){var m=u.over_reduction_content_msg;$.each(m,function(e){e<m.length-1?f+="<b>"+m[e]+"</b>":e==m.length-1&&(f+='<b style="display:inline-block;">'+m[e]+"</b>")})}d+='<span class="over_reduc_list"><em class="em1" burying-point-data="right_moneyoff_button_181001|product||18273054427">'+DetailLanguage.MoneyOff+' <i></i></em><span class="span_cod_box item_info_tips"><span class="span_cod_info"><span class="arrow_b"><i><i></i></i></span><strong>'+f+p+"</strong>"+h+"</span></span></span>"}var _="";""!=i[a].delayExplain&&(_=this.fnNewAddShipTips("",i[a].delayExplain,!0));var v="";1==i[a].fdProductShow&&(v='<span class="ships_from_text1">'+i[a].fdProduct.leftText+"</span>"),n+='<li warehouse="'+i[a].warehouse+'"><span class="now_price" oriprice="'+i[a].final_price+'">'+o+"</span>"+d+'<span class="within_text">+ <em class="oriShipCost" oriprice="'+i[a].defaultShip.oriShipCost+'">'+i[a].defaultShip.shipCost+"</em> "+c+'</span><span class="days_text">'+i[a].defaultShip.deliveryDays+_+'</span><span class="ships_from_text1">'+i[a].shipsFromWarehouse+"</span>"+v+'<span class="tip_msg">'+i[a].stock_msg+'</span><span class="addBtn" max-stock="'+i[a].can_buy_stock+'" warehouse="'+i[a].warehouse+'">'+l+'<div class="not_choose_info"><span class="close"></span><span class="text_info"><i></i></span><span class="arror_l"><i></i></span></div></span></li>'}$(".warehouse_box").show().find(".bd ul").html(n);var g="";$(".warehouse_box").find(".bd ul li").each(function(e,t){var i=$(t).attr("warehouse");$(".item_main_right .item_gift_box").each(function(e,n){$(n).attr("warehouse")==i&&(g=$(n).clone(!0),$(t).find(".tip_msg").before(g),$(t).find(".item_gift_box").show(),$(t).find(".gift_box").each(function(e,t){var i=$(t).find("ul.clearfix").width();$(t).find(".option_list").css("undefined"!=typeof currentLang&&"ar-AR"==currentLang?{right:"auto",left:-(258-i)}:{left:"auto",right:-(258-i)}),$(t).find("label").removeClass("right_giftselect_button_180411").attr("burying-point-data","right_giftselect_button_181001|product|18273054437")}))})})},fnSelectAttributesInit:function(e,t){{var i=this,n=[],a=$("#products_id").val(),o=$("#curWarehouse").val(),s=".item_color_box .color_list ul li,.size_bd_box ul li.listSize";$(".item_main .item_main_right")}t.hasClass("active")?t.removeClass("active"):t.addClass("active").siblings().removeClass("active");var r=oAddCart.fnValidateSelOptions($(".addToCartBtn"));if(r){if(i.isPoa)return!1;var l=!1,c="stockMsg_"+dataObj.curWarehouse,d={};$(s).each(function(e,t){$(t).hasClass("active")&&(n.push($(t).find("a").attr("value_id")),c+="_"+$(t).find("a").attr("value_id"))});for(var u=0;u<i.stockMsgCacheArr.length;u++)i.stockMsgCacheArr[u].stockMsg==c&&(l=!0,d=i.stockMsgCacheArr[u].data);if(l)i.isPoa=!1,i.fnClickPoaCallback(d,e,t);else{n=n.join(",");var p=homeUrl+"load/product/selectAttributes.html",h="products_id="+a+"&warehouse="+o+"&valueId="+n;dataObj.delay_days>0&&(p+="&delay_days="+dataObj.delay_days);var f=oProduct.getUrlParam("gmcCountry");null!=f&&(h+="&gmcCountry="+f);var m=oProduct.getUrlParam("DsbqgBg23");null!=m&&(h+="&DsbqgBg23="+m);var _=$("#snatch_serial_id").val()||window.snatch_serial_id;_&&(h+="&snatch_serial_id="+_),h=queryHandler.attachEncrypt(h),i.fnGetJSONDate("get",p,h,function(n){i.isPoa=!1,i.fnClickPoaCallback(n,e,t)})}}else i.isPoa=!0,i.fnCheckAttrStock(t)},fnClickPoaCallback:function(e,t){var i=$("#quantity_num").val();dataObj.can_buy_stock=e.can_buy_stock,$(".not_choose_info").hide();var n=parseFloat($("#quantity_num").val()||0),a=parseInt(dataObj.can_buy_stock);a>0&&0>=n&&$("#quantity_num").val(1),oQuantity.checkQuantityNum(i,"show"),this.stockMessage(e,t),oBought.fnUnbeatableBtnShow()},fnCheckAttrStock:function(e){var t=this,i=$("#products_id").val(),n=$("#curWarehouse").val(),a="",o=homeUrl+"ajax/checkAttrStockInfo/"+i+"/"+n+".html";a+="&this_value_ids="+$(e).find("a").attr("value_id"),a+="&this_option_ids="+$(e).find("a").attr("option_id");var s=$(".item_color_box,.item_size_box"),r=new Array,l=new Array;if(s.each(function(){var e=$(this).attr("option_id"),t=0;$(this).find("li").each(function(){var e=$(this).hasClass("active");e&&(t=$(this).find("a").attr("value_id"))}),r.push(e),l.push(t)}),l&&l.length>0)for(var c=0;c<l.length;c++)0!=l[c]&&(a+="&option_ids[]="+r[c],a+="&value_ids[]="+l[c]);
if($(e).parents(".size_bd_box").length>0)var d=$(e).parents(".item_size_box").attr("option_id");else var d=$(e).parents(".item_color_box").attr("option_id");$.ajax({url:o,type:"get",data:a,dataType:"json",success:function(i){if(t.isPoa=!1,1==i.allShow)return!0;var n=".item_color_box .color_list ul li,.size_bd_box ul li.listSize";return $(n).each(function(t,n){if($(e).parents(".size_bd_box").length>0)var a=$(n).parents(".item_size_box").attr("option_id");else var a=$(n).parents(".item_color_box").attr("option_id");d!=a&&(-1!=$.inArray($(n).find("a").attr("value_id"),i)?$(n).removeClass("lack_stock"):$(n).removeClass("active").addClass("lack_stock"))}),oAddCart.fnValidateSelOptions($(".addToCartBtn"))?void 0:!1}})},fnClickChoosePoa:function(){function e(e){var t=new Image;e=$.webp.replaceWebpPath(e),t.src=e;var i=t.width,n=t.height,a=$("#small_box").width(),o=$("#small_box").height();i>a&&n>o&&($(".thumbnail-box .list .item-cur").removeClass("item-cur"),$("#landingImage, #zoomWindow img").attr("src",e))}var t=this,i=($(".item_main .item_main_right"),".item_color_box .color_list ul li,.size_bd_box ul li.listSize");$(document).on("click",i,function(){var e=$(this);return e.hasClass("lack_stock")?!1:void t.fnSelectAttributesInit(!0,e)}),$(document).on("mouseenter",".item_color_box .color_list ul li",function(){if($(this).hasClass("lack_stock"))return!1;$(".main_small_box").show().siblings(".main_viedio").hide(),t.fnLadiesAndDefault();var i=$(this).attr("data-large");e(i)}),$(document).on("mouseleave",".item_color_box .color_list ul li",function(){return $(this).hasClass("lack_stock")?!1:($(".main_small_box").show().siblings(".main_viedio").hide(),t.fnLadiesAndDefault(),void $(".item_color_box .color_list ul li").each(function(){if($(this).hasClass("active")){var t=$(this).attr("data-large");e(t)}}))})},fnProgressAnimation:function(e){$(e).each(function(){var e=$(this).attr("data-perc");$(this).find(".progressbar").animate({width:e+"%"},1e3)})},fnClickReviews:function(){var e=this;$(document).on("mouseenter",".item_review .star_box",function(){if($(this).hasClass("open"))return!1;var t=$(this).parents(".infoList").height();$(this).parents(".infoList").css({height:t,overflow:"visible"}),$(".praise_rate ul li").each(function(e,t){$(t).find(".progress_bar .progressbar").css({width:0})}),$(this).addClass("open").find(".star_info_box").show();var i=[];$(".praise_rate ul li").each(function(){i.push($(this).outerWidth()+2)});var n=Math.max.apply(null,i);$(".praise_rate ul").css("width",n),e.fnProgressAnimation(".praise_rate ul li")}),$(document).on("mouseleave",".item_review .star_box",function(){$(this).removeClass("open").find(".star_info_box").hide(),$(this).parents(".infoList").css({height:"auto",overflow:"hidden"})}),$(document).on("click",".item_review .star_info .praise_rate ul li",function(){var e=$(this).attr("data-sart"),t=$("#jsReviewsWrap").offset().top-40;$("html,body").animate({scrollTop:t},500,function(){reviewsObj.resetStar(e)})})},fnMouseenterAppPrice:function(){$(document).on("mouseenter",".Nakdiscount_bd .Nakdiscount_bd_in",function(){$(this).find(".Nakdiscount_list_box").show()}),$(document).on("mouseleave",".Nakdiscount_bd .Nakdiscount_bd_in",function(){$(this).find(".Nakdiscount_list_box").hide()})},fnClickGiftOption:function(){var e=".option_list .list_size ul li, .option_list .list_color ul li";$(document).on("click",".item_gift_box ul li.gift_option",function(e){e.stopPropagation();var t=$(this).find(".option_list .close"),i=$(this).find(".list_btn"),n=t[0]===e.target,a=$.contains(t[0],e.target)||n,o=i[0]===e.target,s=$.contains(i[0],e.target)||o;a||s||$(this).addClass("gift_option_active").find(".option_list").show()}),$(document).click(function(){$(".gift_option").removeClass("gift_option_active").find(".option_list").hide()}),$(document).on("click",".gift_text label",function(){var e=$(this).hasClass("checkbox_active1");e?$(this).addClass("checkbox_on1").removeClass("checkbox_active1"):$(this).addClass("checkbox_active1").removeClass("checkbox_on1")}),$(document).on("click",e,function(){$(this).addClass("active").siblings().removeClass("active")}),$(document).on("click",".option_list .list_btn a,.option_list .close",function(){$(this).parents(".gift_option").removeClass("gift_option_active").find(".option_list").hide()})},fnClickSnatchRules:function(){$(".item_snatch .rules_btn").click(function(){modalLayer.fnModalBg(),$(".modal_container").html($(".snatch_rules_html").html()),modalLayer.fnModalAdd()})},fnCountTimer:function(e,t,i){clearInterval(this.timer),this.timer=setInterval(function(){var n=0,a=0,o=0,s=0;e>0&&(n=Math.floor(e/86400),a=Math.floor(e/3600)-24*n,o=Math.floor(e/60)-24*n*60-60*a,s=Math.floor(e)-24*n*60*60-60*a*60-60*o);var r=n,l=a;9>=n&&(n="0"+n),9>=a&&(a="0"+a),9>=o&&(o="0"+o),9>=s&&(s="0"+s),1==t?$(".item_snatch .timeShow .remainTime").html('<span class="day">'+n+'</span>                                    <i></i>                                    <span class="hour">'+a+'</span>                                    <i></i>                                    <span class="mini">'+o+'</span>                                    <i></i>                                <span class="sec">'+s+"</span>"):2==t?3==i?(r&&(a=l+24*r),$(".activity_set .activity_time").html("<label>Ends in</label><span>"+a+"</span>:<span>"+o+"</span>:<span>"+s+"</span>")):$(".activity_set .activity_time").html(4==i?"<label>Ends in</label><span>"+n+"</span>d":"<label>Ends in</label><span>"+n+"</span>d<span>"+a+"</span>:<span>"+o+"</span>:<span>"+s+"</span>"):$(".item_flash_deals .ac_time_box").html(r>0?'<em class="day"><span>'+n+"</span> days</em>":'<em class="hour"><span>'+a+'</span> :</em> <em class="minute"><span>'+o+'</span> :</em> <em class="second"><span>'+s+"</span></em> "),e--},1e3)},fnFashionIninTable:function(){var _this=this;if("undefined"!=typeof AllCountrySize&&AllCountrySize.length>0){var element=$("#all_country_size");element.find(".item_size_hd .size_left").addClass("size_left_b right_size_button_180411 detailgahover nocountclick homehover").attr("data-point-id","18101211561");var size_item_name=$("#all_country_size").find(".size_left_text").text(),size_clone_html=size_item_name.split(")")[0].split("(")[1],size_text=$("#all_country_size").attr("data-text"),tpl_html='<span class="arrow_r"></span><div class="size_list_box"><div class="size_list"><ul>';$.each(AllCountrySize,function(i){if("undefined"==typeof lingerieSizeUsePlan||1!=lingerieSizeUsePlan&&2!=lingerieSizeUsePlan||"undefined"==typeof AllCountrySizeToCountryCore)size_clone_html==AllCountrySize[i].country&&element.find(".item_size_hd .size_left_b").attr({"data-name":AllCountrySize[i].value_name,"data-cid":AllCountrySize[i].country}),tpl_html+='<li cid="'+AllCountrySize[i].country+'" data-name="'+AllCountrySize[i].value_name+'">'+size_text+" <span>("+AllCountrySize[i].country+")</span></li>";else if("undefined"!=typeof $.cookie("countryCookie")){if(eval("var countryCookie = "+$.cookie("countryCookie")+";"),"undefined"!=typeof countryCookie.code)for(k in AllCountrySizeToCountryCore)countryCookie.code==k&&(size_clone_html=AllCountrySizeToCountryCore[k]);size_clone_html==AllCountrySize[i].country&&element.find(".item_size_hd .size_left_b").attr({"data-name":AllCountrySize[i].value_name,"data-cid":AllCountrySize[i].country}),tpl_html+='<li cid="'+AllCountrySize[i].country+'" data-name="'+AllCountrySize[i].value_name+'">'+size_text+" <span>("+AllCountrySize[i].country+")</span></li>";var size_clone_dom=$(".size_left[data-cid="+size_clone_html+"]"),sizeArr=size_clone_dom.attr("data-name");if(void 0!=sizeArr){sizeArr=sizeArr.split(",");for(var j=0;j<sizeArr.length;j++)size_clone_dom.closest(".item_size_box").find(".size_bd_box li.listSize").eq(j).attr("data-name",sizeArr[j]),$(".item_size_box .listSize").each(function(){$(this).find("a").html(size_clone_html+" "+$(this).attr("data-name"))});_this.fnPushPoaTOtitle()}}}),tpl_html+="</ul></div></div>",element.find(".item_size_hd .size_left").append(tpl_html),"ar-AR"==currentLang&&$(".item_size_hd .size_left").parents(".item_size_box").css("z-index",3)}else $("#all_country_size").find(".item_size_hd .size_left").removeClass("size_left_b");if($(document).on("mouseenter",".item_size_hd .size_left_b",function(){$(this).addClass("size_left_active")}),$(document).on("mouseleave",".item_size_hd .size_left_b",function(){$(this).removeClass("size_left_active")}),$(document).on("click",".size_left .size_list ul li",function(){var e=$(this).attr("cid"),t=$(this).attr("data-name"),i=$(this).text();$(this).parents(".size_left").attr({"data-name":t,"data-cid":e}).removeClass("size_left_active").find(".size_left_text em").html(i);for(var n=$(this).parents(".size_left").attr("data-name").split(","),a=0;a<n.length;a++){if($(this).closest(".item_size_box").find(".size_bd_box li.listSize").eq(a).attr("data-name",n[a]),$(this).closest(".item_size_box").find(".size_bd_box li.listSize").eq(a).find("a").html(n[a]),$(this).closest(".item_size_box").find(".size_bd_box ul li.listSize").eq(a).hasClass("active")){$(this).closest(".item_size_box").find(".size_bd_box ul li.active").find("a").html()}"undefined"==typeof lingerieSizeUsePlan||1!=lingerieSizeUsePlan&&2!=lingerieSizeUsePlan||"undefined"==typeof AllCountrySizeToCountryCore||$(".item_size_box .listSize").each(function(){$(this).find("a").html(e+" "+$(this).attr("data-name"))})}_this.fnPushPoaTOtitle()}),!$(".size_bd_box ul li.size_table").is(":hidden"))if($(".new_size_item").length<=0){var size_chart_str=$(".size_bd_box ul li.size_table a em").text(),size_chart_str_data=$(".size_bd_box ul li.size_table").find("a").attr("data"),size_chart_str_data_1=$(".size_bd_box ul li.size_table").find("a").attr("vdata"),size_chart_str_data_2=$(".size_bd_box ul li.size_table").find("a").attr("ndata"),size_chart_str_data_3=$(".size_bd_box ul li.size_table").find("a").attr("mdata"),size_chart_str_data_4=$(".size_bd_box ul li.size_table").find("a").attr("ldata"),size_chart_str_data_5=$(".size_bd_box ul li.size_table").find("a").attr("wdata"),size_chart_str_data_6=$(".size_bd_box ul li.size_table").find("a").attr("hdata"),size_chart_str_data_7=$(".size_bd_box ul li.size_table").find("a").attr("idata"),size_chart_list=$(".good_tabs_box").find(".list").eq(0);size_chart_list.find("strong").each(function(){var e=$(this).text();(size_chart_str_data==e||size_chart_str==e||size_chart_str_data_1==e||size_chart_str_data_2==e||size_chart_str_data_3==e||size_chart_str_data_4==e||size_chart_str_data_5==e||size_chart_str_data_6==e||size_chart_str_data_7==e)&&$(this).before('<div id="Size_Chart"></div>')})}else $(document).on("click",".size_table .size_select",function(){if($(".new_size_item").length<=0)return!1;modalLayer.fnModalBg();var e='<div class="modal_ship"><span class="close"></span><div class="modal_ship_hd">'+DetailLanguage.SizeChart+"</div>"+$(".new_size_item").html()+"</div>";$(".modal_container").addClass("size_table_mask").html(e),$(".size_table_mask").find(".sizechart_item").remove();var t=$(".size_table_mask").find("tr").eq(0).find("td").length;$(".size_table_mask").find(".modal_ship").css("width",100*t+60+"px"),modalLayer.fnModalAdd()}),$(document).on("click",".size_table_mask .incheschange li",function(){$(this).addClass("active").siblings().removeClass("active"),$(this).parents(".size_table_mask").find(".list").hide(),$(this).parents(".size_table_mask").find(".list").eq($(this).index()).show()})},fnClickWholesale:function(){$(".Wholesale .wholesale_more a").addClass("right_wholesaleinquiry_button_180411").attr("data-point-id","18101211590"),$(".main_plus .hd_price .price_text a").attr("href","javascript:;"),$(document).on("click",".item_ensure ul li.Wholesale>span",function(){$(this).siblings(".wholesale_box").show()}),$(document).on("click",".wholesale_item .close",function(){$(this).parents(".wholesale_box").hide()})},setProdetailAreaDom:function(e){var t=e.couponBanner;if(t&&t.img&&null==oProduct.getUrlParam("semads")){var i=($.webp.replaceWebpPath(t.img),'<a href="'+t.url+'"><img src="'+t.img+'" style="margin-bottom:20px;"></a>');$("#coupon_banner").html(i)}e.californiaTips&&$("#jspromsgwrap").find(".list[aria-cont=productdetails]").append('<div class="en_warning_wrap">'+e.californiaTips+"</div>")},jQuery_isTagName:function(e){e=$.event.fix(e);var t=e.target||e.srcElement,i=t.tagName.toString().toLowerCase();return"img"==i||"a"==i&&$(t).children("img").length>0?!1:!0},fnReprint:function(){var e=this;if($(document).on("contextmenu dragstart",".good_tabs_box .list,.thumbnail-box .list .wrapper,.main_small_box .small-box,.good_photo_zoom_box",function(t){return e.jQuery_isTagName(t)?!0:(t.preventDefault(),!1)}),$("#specification").length>0){var t=$("#specification").css("marginTop","20px").clone();$("#specification").remove(),$("#imgBox").after(t),$("#specification img.bg_lazy").lazyload({placeholder:"https://img.staticbg.com/newimages/grey.gif",effect:"fadeIn"})}},fnMouseHideTitle:function(){var e=".thumbnail-box .list .item img,.main_small_box .small-box .dynamic-image,.imageMask .good_photo_zoom_list ul li img,.imageMask .good_photo_zoom span img,.good_tabs_box .list img";$(document).on("mouseenter",e,function(){var e=$(this).attr("title");void 0!=e&&$(this).attr({title:"",title1:e})}),$(document).on("mouseleave",e,function(){var e=$(this).attr("title1");void 0!=e&&$(this).attr({title:e,title1:""})}),this.fnMouseCODLabel()},fnPushPoaTOtitle:function(){var e=$(".item_main_right .title_hd h2 .title_strong"),t=e.parent().attr("data-oldtext"),i=[],n=".item_color_box .color_list ul li,.size_bd_box ul li.listSize";$(n).each(function(){$(this).hasClass("active")&&i.push($(this).attr("data-name"))}),e.html(i.length?t+" - "+i.join(" ")+" ":t+" ")},fnMouseCODLabel:function(){$(document).on("mouseenter",".title_hd .span_cod,.over_reduc_list .em1",function(){if($(this).parents(".title_hd").length>0){var e=$(this).data("title"),t=e.split("|")[0],i=e.split("|")[1];$(this).find(".span_cod_box .span_cod_info strong").html(t),$(this).find(".span_cod_box .span_cod_info p").html(i),$(this).find(".span_cod_box").stop(!0).fadeIn(100)}else{var n=$(this).outerWidth(!0);"undefined"!=typeof currentLang&&"ar-AR"==currentLang?($(this).parents(".over_reduc_list").find(".item_info_tips").css({right:"auto",left:"-1px"}),$(this).parents(".over_reduc_list").find(".span_cod_info .arrow_b").css({right:"auto",left:"215px"})):$(this).parents(".over_reduc_list").find(".span_cod_info .arrow_b").css({left:"auto",right:258-n-4}),$(this).parents(".over_reduc_list").find(".span_cod_box").stop(!0).fadeIn(100),"undefined"!=typeof JGData&&JGData.JGCheckClassName(JGData,"",2,$(this),"")}}),$(document).on("mouseleave",".title_hd .span_cod,.over_reduc_list",function(){$(this).find(".span_cod_box").fadeOut(200)}),$(document).on("click",".item_info_tips .span_cod_info .close",function(){$(this).parents(".span_cod_box").fadeOut(200)})},fnClickAddEbayBtn:function(){var e=this;$(document).on("click",".ebayCenterBtn",function(){var t=$(this),i=$("#products_id").val();if("1"==t.attr("ajaxClick"))return!1;if(t.attr("ajaxClick",1),dataObj.dsLimitBrand){if(2==dataObj.dsLimitBrandStatus||3==dataObj.dsLimitBrandStatus)oCommonFn.fnCommonModal(modalLayer,dataObj.dsLimitBrand);else{modalLayer.fnModalBg();var n='<div class="modal_ship modal_brand_apply"><span class="close"></span><div class="text_msg">'+dataObj.dsLimitBrand+'</div><div class="modal_ship_btn"><a href="javascript:;" class="brand_apply_btn">Apply</a><a href="javascript:;" class="brand_apply_no">No</a></div>';$(".modal_container").html(n),modalLayer.fnModalAdd(),$(document).on("click",".brand_apply_no",function(){modalLayer.fnModalRemove()}).on("click",".brand_apply_btn",function(){window.location.href="/index.php?com=account&t=dropshipBrandApply"})}return t.attr("ajaxClick",0),!1}var a=null,o=homeUrl+"load/account/addToEbayCenter.html",s="products_id="+i;modalLayer.fnModalBg(),s=queryHandler.attachEncrypt(s),e.fnGetJSONDate("get",o,s,function(e){t.attr("ajaxClick",0),modalLayer.fnModalRemove();var i="";"Failure"==e.code&&(i="0 -657px"),"Success"==e.code&&(i="0 -727px"),oCommonFn.fnCommonModal(modalLayer,e.msg,!0,i),clearTimeout(a),a=setTimeout(function(){modalLayer.fnModalRemove()},3e3)})})},fnHideWholesaleInquiry:function(){$('.tabbar_item[aria-links="WholesaleInquiry"]').hide()},fnVipActivity:function(e,t){var i=this;if(t.removeClass("event-bomb"),$(".item_event_price").remove(),e.explosive_plan&&!$.isArray(e.explosive_plan)&&($(".item_event_price").remove(),t.find(".item_vip_box").remove(),t.find(".item_price_box").after('<div class="item_event_price">                    <span class="sign">'+e.explosive_plan.label+'</span>                    <a burying-point-data="top_getbottomprice_link_191021|product|19293072201" href="'+e.explosive_plan.url+'">'+e.explosive_plan.text+" &gt;&gt;</a>                </div>"),3==e.explosive_plan.type&&$(".item_event_price").find("a").attr("burying-point-data","top_getbottomprice_link_191105|product|19308013705")),1==e.vipProductShow){var n=e.vipProduct;if(1==n.type)if(i.fnHideWholesaleInquiry(),t.find(".item_vip_box").remove(),(!e.explosive_plan||$.isArray(e.explosive_plan))&&$(".item_event_price").remove(),1==n.growthPriceMeet){t.find(".item_price_box .vip_label").remove(),t.find(".satisfyVip").remove(),t.find(".item_price_box").css("marginTop","-6px"),t.find(".vipbox").show();var a='<span class="vip_label">'+n.growthPriceTitle+"</span>";t.find(".item_price_box .price_text").hide().after(a);var o='<div class="satisfyVip">'+n.growthPriceText2+"</div>";t.find(".item_off_num").after(o),t.find(".item_old_price").hide().siblings(".item_off_num").hide()}else{t.find(".vipbox").hide(),t.find(".item_price_box .vip_label").remove(),t.find(".satisfyVip").remove(),t.find(".item_price_box").css("marginTop",0),t.find(".item_price_box .price_text").show(),0==e.edmProductShow&&0!=e.market_price&&e.final_price<e.market_price&&!dataObj.is_param_price&&(t.find(".item_old_price").show(),void 0!=e.discount&&e.discount&&t.find(".item_off_num").show());var o='<div class="item_vip_box"><div class="item_vip_hd"><span class="vip_label">'+n.growthPriceTitle+'</span><div class="item_vip_text"><span class="vip_price_text">'+n.growthPriceText1+'</span><span class="vip_price_text">'+n.growthPriceText2+"</span></div></div></div>";t.find(".item_price_box").after(o)}else(2==n.type||3==n.type)&&($(".item_event_price").remove(),t.find(".item_vip_box").remove(),t.addClass("event-bomb").find(".item_price_box").after('<div class="item_event_price">                        <span class="sign">'+n.growthPriceLabel+"</span>                    </div>"),t.find(".item_off_num").hide(),3==n.type&&$(".item_event_price").find(".sign").css({fontSize:"12px"}))}else t.find(".item_vip_box").hide(),t.find(".vipbox").hide(),t.find(".item_price_box .vip_label").remove(),t.find(".satisfyVip").remove(),t.find(".item_price_box").css("marginTop",0),t.find(".item_price_box .price_text").show(),0==e.edmProductShow&&0!=e.market_price&&e.final_price<e.market_price&&!dataObj.is_param_price&&(t.find(".item_old_price").show(),void 0!=e.discount&&e.discount&&t.find(".item_off_num").show())},fnFlashDealActivity:function(e,t){var i=this;if(1==e.fdProductShow){t.find(".item_flash_deals").remove(),i.fnHideWholesaleInquiry();var n="<strong>"+(e.fdProduct.flash_progress.app_text4?e.fdProduct.flash_progress.app_text4:DetailLanguage.FlashDeals)+"</strong>";e.fdProduct.flash_progress.app_text3&&(n='<div class="text">'+(e.fdProduct.flash_progress.app_text4?e.fdProduct.flash_progress.app_text4:DetailLanguage.FlashDeals)+'</div><div class="pcs_left"><div class="process_bg"><div class="process" style="width: '+100*e.fdProduct.flash_progress.sale_proportion+'%;"></div></div>'+e.fdProduct.flash_progress.flash_left+" "+e.fdProduct.flash_progress.app_text3+"</div>");var a='<div class="item_flash_deals common_time_box"><div class="deals_label special_bg">'+n+'</div><div class="deals_time_box"><div class="time_ends_text">'+DetailLanguage.EndsIn+'</div><span class="ac_time_box"></span></div></div>';t.find(".centerCtrlInfo").after(a),$(".item_flash_deals .deals_time_box").attr("data-timer",e.fdProduct.remainTime),i.fnCountTimer(e.fdProduct.remainTime)}else t.find(".item_flash_deals").remove()},fnMultipleDiscounts:function(e,t){var i=this;if(1==e.multiDiscountShow){t.find(".item_discount").remove();var n=oCurrency.getCookieCurrency();i.fnHideWholesaleInquiry();var a=e.multiDiscount,o="",s="",r="",l=a.discount,c="";$.each(l,function(e){var t=(oCurrency.getPriceByCurrency(l[e].total_price,n,!0),oCurrency.getPriceByCurrency(l[e].price,n,!0),"");list_hide="",0==e?o+='<li max="'+l[0].quantity+'" each-price="'+l[0].price+'"><span class="table_cell"><span class="price_blod">'+a.LBuy+" "+l[0].quantity+a.LPcs+" "+a.Lget+'</span> <span class="easprice"><em class="discount-off" oriprice="'+l[0].price+'">'+l[0].discount+"%</em> "+a.Loff+"</span>"+t+"</span></li>":s+='<li max="'+l[e].quantity+'" each-price="'+l[e].price+'"><span class="table_cell"><span class="price_blod">'+a.LBuy+" "+l[e].quantity+a.LPcs+" "+a.Lget+'</span> <span class="easprice"><em class="discount-off" oriprice="'+l[e].price+'">'+l[e].discount+"%</em> "+a.Loff+"</span>"+t+"</span></li>"}),l.length>1&&""!=s&&(r="discount_list_show_num",c+='<div class="discount_list_div"><div class="discount_list_hide"><i class="arrow-top"><i></i></i><span class="close"></span><ul class="clearfix discount_ul_hide">'+s+"</ul></div></div>");var d='<div class="item_discount"><span class="item_discount_text">'+DetailLanguage.LA_PROMO+':</span><div class="item_discount_left"><span class="sale-icon">SALE</span></div><div class="item_discount_right clearfix"><div class="discount_right_text"><div class="discount_list_show '+r+'"><ul class="clearfix discount_ul_show">'+o+"</ul>"+c+"</div></div></div></div>";t.find(".item_Nakdiscount").after(d),$(".main_plus").find(".addonemore").remove(),$("#newdetailCartForm").append('<input type="hidden" id="buymoresavemore_item">');var u=(oCurrency.getPriceByCurrency(a.discount[0].off,n,!0),a.LAdd);u=u.replace(/%s/,'<b class="getnum">'+(a.discount[0].quantity-1)+"</b>"),u=u.replace(/%s/,'<b class="getprice">'+a.discount[0].discount+"%</b>");var p='<div class="addonemore productslist" id="addonemore_'+e.warehouse+'"><span class="get">'+u+'</span><span class="enough"><b class="getprice">'+a.discount[0].discount+"%</b> "+e.multiDiscount.Loff+"</span></div>";$(".main_plus .item_quantity").after(p),t.find(".item_now_price").eq(0).attr("oldoriprice",t.find(".item_now_price").eq(0).attr("oriprice")),i.fnBuyMoreSaveMore($("#quantity_num").val()),i.fnClickDiscountsList()}else t.find(".item_discount").hide().remove()},fnCreateBuyMore:function(){var e={};return e.filterBuyMoreSaveMoreNum=[],e.filterBuyMoreSaveMorePrice=[],$(".item_discount_right ul li").each(function(){var t=$(this).attr("max"),i=$(this).attr("each-price");e.filterBuyMoreSaveMoreNum.push(t),e.filterBuyMoreSaveMorePrice.push(i)}),e},fnBuyMoreSaveMore:function(e){for(var t=this,i=oCurrency.getCookieCurrency(),n=parseInt(e),a=t.fnCreateBuyMore().filterBuyMoreSaveMoreNum,o=t.fnCreateBuyMore().filterBuyMoreSaveMorePrice,s=0;s<a.length;s++){if(a[s]>n){if(0==s)$(".addonemore .getnum").html(a[s]-n),$(".addonemore .enough").hide().siblings(".get").show(),$(".addonemore .getprice").html($('.item_discount_right ul li[each-price="'+o[s]+'"]').find(".easprice .discount-off").html()),"undefined"!=typeof oBrazil&&oBrazil.BrazilInterestRate($(".item_now_price").eq(0).attr("oriprice"),n);else{$(".addonemore .getnum").html(a[s]-n),$(".addonemore .enough").hide().siblings(".get").show(),$(".addonemore .getprice").html($('.item_discount_right ul li[each-price="'+o[s+1]+'"]').find(".easprice .discount-off").html());var r=oCurrency.getPriceByCurrency(o[s-1],i,!0);$(".item_now_price").html(r),$(".item_now_price").eq(0).attr("oriprice",o[s-1]),"undefined"!=typeof oBrazil&&oBrazil.BrazilInterestRate(o[s-1],n)}break}if(a[s]==n){a[a.length-1]>n?($(".addonemore .getnum").html(a[s+1]-n),$(".addonemore .enough").hide().siblings(".get").show(),$(".addonemore .getprice").html($('.item_discount_right ul li[each-price="'+o[s+1]+'"]').find(".easprice .discount-off").html())):$(".addonemore .enough").hide().siblings(".get").hide(),t.fnCheckBuyOneGetOne(i,o,n,s);break}$(".addonemore .enough").hide().siblings(".get").hide();var l=o.length-1,c=a[l];t.fnCheckBuyOneGetOne(i,o,c,l)}if(a[0]>n){var d=oCurrency.getPriceByCurrency($(".item_now_price").eq(0).attr("oldoriprice"),i,!0);$(".item_now_price").eq(0).attr("oriprice",$(".item_now_price").eq(0).attr("oldoriprice")).html(d)}},fnCheckBuyOneGetOne:function(e,t,i,n){var a=($(".addonemore"),oCurrency.getPriceByCurrency(t[n],e,!0));$(".item_now_price").attr("oriprice",t[n]).html(a),"undefined"!=typeof oBrazil&&oBrazil.BrazilInterestRate(t[n],i)},fnClickDiscountsList:function(){var e=this;$(document).off("click.discountsList"),$(document).off("mouseenter.discountsList"),$(document).on("click.discountsList",".item_discount .item_discount_right ul li .table_cell span",function(){var t=oCurrency.getCookieCurrency();if($(this).parents("li").siblings().hasClass("twinkling")||$(this).parents("li").hasClass("twinkling"))return!1;var i=$(this).parents("li"),n=$("#quantity_num").val(),a=i.attr("max"),o=a;parseInt(a)>dataObj.can_buy_stock&&(a=dataObj.can_buy_stock),parseInt(a)>parseInt(n)&&$(".item_quantity .quantity_prev").removeClass("not_prev"),$("#quantity_num").val(a).addClass("twinkling"),i.addClass("twinkling"),e.fnBuyMoreSaveMore(a),oQuantity.checkQuantityNum(o,"show"),oQuantity.fnAutoSubtotal(t),setTimeout(function(){$("#quantity_num,.item_discount_right ul li").removeClass("twinkling")},300)}).on("mouseenter.discountsList",".discount_list_show_num",function(){$(this).find(".discount_list_div").stop().fadeIn(100)}).on("mouseleave",".discount_list_show_num",function(){$(this).find(".discount_list_div").fadeOut(300)}).on("click",".discount_list_hide .close",function(){$(this).parents(".discount_list_div").fadeOut(300)})},fnCnNakdiscount:function(e,t){var i=this;if(1==e.timeDiscountShow){i.fnHideWholesaleInquiry(),t.find(".Nakdiscount_hd").remove(),i.fnHideWholesaleInquiry();var n=e.timeDiscount,a="",o="none";1==n.hasLeftPercent&&(o="block"),100==n.percent&&(a="progress_in_all"),t.find(".item_Nakdiscount").show();var s='<div class="Nakdiscount_hd"><spna class="text">'+n.timePercentMsg+'</spna><div class="progress_bar" style="display:'+o+'"><span class="progress_in '+a+'" data-perc="'+n.percent+'"><i class="progressbar"></i></span><span class="progress_num"><em>'+n.left+"</em> "+n.pcsLeft+"</span></div></div>";t.find(".item_Nakdiscount").prepend(s),i.fnProgressAnimation(".Nakdiscount_hd .progress_bar .progress_in")}else t.find(".Nakdiscount_hd").remove()},fnOverReducLogic:function(e){var t=this;if(e.overReduceProductShow&&1==e.overReduceProductShow){t.fnHideWholesaleInquiry(),$(".item_overReduc").remove();var i=e.overReduceProduct,n=i.view_more?'<div class="view_more"><a href="'+i.over_reduction_url+'" burying-point-data="middle_moneyoffviewmore_button_181001|product|18273054424">'+i.go_to_see_text+" <i></i></a></div>":"",a="",o="",s=first_over_reduc_list="";if(i.per_limit_msg&&(o='<div class="over_reduc_limit_msg">'+i.per_limit_msg+"</div>"),"undefined"!=typeof i.over_reduction_content_msg&&Array.isArray(i.over_reduction_content_msg)){var r=i.over_reduction_content_msg;(r.length>1||i.per_limit_msg)&&(a="MoneyOffText-active"),r.length<=1&&i.per_limit_msg&&(o='<div class="over_reduc_limit_msg not_margin">'+i.per_limit_msg+"</div>"),$.each(r,function(e){0==e?first_over_reduc_list+=r[e]:s+='<div class="hd_text">'+r[e]+"</div>"})}var l='<div class="item_overReduc activity_js_text"><span class="item_overReduc_text">'+DetailLanguage.LA_PROMO+':</span><div class="over_reduc_hd"><div class="MoneyOff" burying-point-data="middle_MNsale_help_181022|product||18294050151"><span class="sale-icon">SALE</span><div class="MoneyOffText '+a+'"><span class="MoneyOffText-span">'+first_over_reduc_list+'</span><div class="over_reduc_box"><div class="over_reduc"><i class="arrow-top"><i></i></i><span class="close"></span>'+s+o+"</div></div></div></div>"+n+"</div></div>";$(".item_Nakdiscount").after(l)}else $(".item_overReduc").hide().remove()},fnClickOverReduc:function(){$(document).off("mouseenter.overReduc"),$(document).on("mouseenter.overReduc",".MoneyOffText-active",function(){$(this).find(".over_reduc_box").stop(!0).fadeIn(100)}).on("mouseleave",".MoneyOffText-active",function(){$(this).find(".over_reduc_box").fadeOut(300)}).on("click",".over_reduc_box .close",function(){$(this).parents(".over_reduc_box").fadeOut(300)})},fnItemCouponLogic:function(e,t){var i=this,n="";if(t.find(".item_coupon_box").remove(),"undefined"!=typeof e.new_customer&&1==e.new_customer){var a="",o="";e.isGetNewuserCoupon&&1==e.isGetNewuserCoupon?o="new-user-gray":a='<div class="new-user-box">                        <div class="new-user-info arrow-info"><i><i></i></i><span class="text">'+(DetailLanguage.LA_NEW_ZONE_RECEIVE_COUPON||"Receive your $20 all categories coupons.")+"</span>                        </div>                    </div>",n+='<li class="new-user-list '+o+'">                    <a href="javascript:;" burying-point-data="middle_newuserCoupon_button_20190220|product|1949223606|1">                        <span class="dot dot-left"><i></i><i></i><i></i></span>                        <span class="dot dot-right"><i></i><i></i><i></i></span>                        <span class="coupon_list_text">'+(DetailLanguage.LA_BG_PC_FOR_NEW_USER||"$20 for New User")+'</span>                        <span class="coupon_list_get"></span>                    </a>                    '+a+"                </li>"}if("undefined"!=typeof e.coupons&&e.coupons.length){var s=e.coupons;$.each(s,function(e){var t="";1==s[e].is_get&&(t="gray"),n+='<li class="coupon_list '+t+'" data-coupon-code="'+s[e].coupon_code+'" data-coupon-id="'+s[e].coupon_id+'">                        <span class="dot dot-left"><i></i><i></i><i></i></span>                        <span class="dot dot-right"><i></i><i></i><i></i></span>                        <span class="coupon_list_text">'+s[e].off_amount_product_detail+"</span>                    </li>"})}var r='<div class="item_coupon_box">                <span class="item_coupon_text">'+DetailLanguage.LA_COUPON+':</span>                <div class="item_coupon_list">                    <ul>'+n+'</ul>                </div>                <div class="user-coupon-box">                <div class="user-coupon-sale">                    <p class="user-coupon-txt">New User Coupon</p>                    <ul class="user-coupon">                        <li>                            <p>$<b>3</b></p>                            <p>$20 - $3<br />all categories</p>                        </li>                        <li>                            <p>$<b>5</b></p>                            <p>$50 - $5<br />all categories</p>                        </li>                        <li>                            <p>$<b>12</b></p>                            <p>$50 - $12<br />fashion</p>                        </li>                        <li>                            <span>Received</span>                        </li>                    </ul>                </div>            </div>            </div>';("undefined"!=typeof e.coupons&&e.coupons.length||"undefined"!=typeof e.new_customer&&1==e.new_customer)&&($(".item_discount").length?$(".item_discount").after(r):$(".item_Nakdiscount").after(r),i.fnItemCouponClick())},fnItemCouponClick:function(){var e=this,t=0,i=null,n=null,a=null;if($(document).on("click",".item_coupon_list ul .coupon_list",function(){clearInterval(t);var o=$(this);if(o.hasClass("gray")){if(i==o)return;if(!a){var s=DetailLanguage.LA_COUPONS_RECEIVED||"This coupon has already been received.";a=$('<div class="my_coupon_tip">'+s+"</div>"),$("body").append(a)}var r=o.offset(),l=r.left-parseInt((a.outerWidth(!0)-o.outerWidth(!0))/2,10),c=r.top+o.outerHeight(!0)+12;
return a.css({left:l,top:c}),clearTimeout(n),n=setTimeout(function(){$(".my_coupon_tip").remove(),a=null},1500),!1}var d=o.attr("data-coupon-code"),s="",u=o.attr("data-coupon-id");if(1!=dataObj.hasLogin)location.href=homeUrl+"login.html";else{var p=homeUrl+"load/account/ajaxGetCoupon.html",h="coupon_id="+u;modalLayer.fnModalBg(),"undefined"!=typeof queryHandler&&(h=queryHandler.attachEncrypt(h)),e.fnGetJSONDate("get",p,h,function(i){modalLayer.fnModalRemove(),1==i.code?(o.addClass("gray"),s=DetailLanguage.COUPON_SUCCESS,ga("send","event","product","click","middle_commonCoupon_button_20190220"),"undefined"!=typeof JGData&&JGData.JGCheckClassName(JGData,"middle_commonCoupon_button_20190220",0,"","1949223815")):s=i.msg,e.fnItemCouponModal(s,d),t=setInterval(function(){$(".modal_code_right").removeClass("modal_code_click").find(".copy_success").hide(),clearInterval(t),modalLayer.fnModalRemove()},8e3)})}}).on("click",".new-user-list a",function(){function t(){var e=$.Deferred();return $(".item_main_right").append('<div class="user-coupon-animate"><div class="animate-sprite"></div></div>'),setTimeout(function(){$(".user-coupon-animate").addClass("animate-tf"),e.resolve()},3800),e.promise()}function i(){var e=$.Deferred();return $(".snatch-toast").html("Received  Successfully").fadeIn(),setTimeout(function(){$(".snatch-toast").fadeOut(),e.resolve()},1e3),e.promise()}function n(){var e=$.Deferred();return setTimeout(function(){$(".new-user-list").addClass("new-user-gray"),e.resolve()},500),e.promise()}function a(){var e=$.Deferred();return $(".user-coupon-box").fadeIn(1e3),setTimeout(function(){$(".user-coupon-box").fadeOut(),e.resolve()},5e3),e.promise()}var o=$(this);if(1!=dataObj.hasLogin&&(location.href=homeUrl+"login.html"),o.parent().hasClass("new-user-gray"))return!1;var s=homeUrl+"ajax/event/getNewZoneCoupons.html";e.fnGetJSONDate("get",s,"",function(e){1==e.send_state?t().then(function(){return i()}).then(function(){return n()}).then(function(){return a()}):oCommonFn.fnCommonModal(modalLayer,e.message)})}).on("mouseenter",".new-user-list a",function(){var e=$(this);e.parent().hasClass("new-user-gray")?$(".user-coupon-box").slideDown(100):e.parent().find(".new-user-box").stop(!0).fadeIn(100)}).on("mouseleave",".user-coupon-box",function(){$(".user-coupon-box").slideUp(300)}).on("mouseleave",".new-user-list",function(){$(this).find(".new-user-box").fadeOut(300)}),"undefined"!=typeof Clipboard){var o=new Clipboard(".modal_code_right .copy_btn",{text:function(){return $(".modal_code_right").find(".copy_box").find("em").html()}});o.on("success",function(e){$(".modal_code_right").addClass("modal_code_click").find(".copy_success").show(),e.clearSelection()}),o.on("error",function(e){e.clearSelection()})}},fnItemCouponModal:function(e,t){modalLayer.fnModalBg();var i='<div class="modal_ship">                <span class="close"></span>                <span class="icon_info" style="background-position:0 -727px"></span>                <span class="text_msg">'+e+'</span>                <div class="coupon_modal_code clearfix">                    <span class="code_text">Code:</span>                    <div class="modal_code_right clearfix">                        <span class="copy_box"><em>'+t+'</em></span>                        <span class="copy_success">'+DetailLanguage.LA_SUCCESSFUL_COPY+'</span>                        <span class="copy_btn">'+DetailLanguage.LA_AFFILIATE_COPY+"</span>                    </div>                </div>            </div>";$(".modal_container").addClass("common_modal coupon_modal").html(i),modalLayer.fnModalAdd()},fnNewUserProductLogic:function(e,t){if(1==e.newUserProductShow){var i=e.newUserProduct;t.find(".item_new_user").remove();var n='<div class="item_new_user common_time_box"><span class="deals_label special_bg"><strong>'+i.LPNewUserExclusive+'</strong> <i></i></span><div class="deals_time_box"><span class="time_ends_text">'+i.LPNewUserPriceForBg+"</span></div></div>";t.find(".centerCtrlInfo").after(n),t.find(".item_price_box .price_text").css("top","1px").html(i.LPNewUserPrice+":")}},fnSizeGuideLogic:function(){function e(e){var i=e.find(".filter_size_right"),n=$("#all_country_size").attr("data-text");if("undefined"!=typeof AllCountrySize&&AllCountrySize.length>0){i.show();var a=$("#all_country_size").find(".size_left_text").text(),o=a.split(")")[0].split("(")[1],s=o+" "+n,r="";$.each(AllCountrySize,function(e){o==AllCountrySize[e].country&&i.find(".select_text .text").attr({"data-name":AllCountrySize[e].value_name,"data-cid":AllCountrySize[e].country}).html(n+" ("+AllCountrySize[e].country+")"),r+='<li cid="'+AllCountrySize[e].country+'" data-name="'+AllCountrySize[e].value_name+'">'+n+" <span>("+AllCountrySize[e].country+")</span></li>"}),i.find(".srot_box .select .select_box ul").html(r),t(o,s)}}function t(e,t){for(var i=$(".modal_size_guide .conversion"),n=AllCountrySize[0].value_name.split(","),a=[],o=0;o<AllCountrySize.length;o++)n.length&&AllCountrySize[o].country==e&&(a=AllCountrySize[o].value_name.split(","),i.find(".conversion_table_bd").each(function(){$(this).find(".table_hd").find("span.us_size").html(t);for(var e=0;e<a.length;e++)if("undefined"!=typeof lingerieSizeUsePlan&&1==lingerieSizeUsePlan&&$('.item_size_box[data-en-name="cup"]').length)for(var i=0;i<n.length;i++)e==i&&$(this).find('li:not(".table_hd")').find("span[data-us-size="+n[i]+"]").html(a[e]);else{var o=$(this).find(".table_hd").find("span.us_size").index();$(this).find('li:not(".table_hd")').eq(e).find("span").eq(o).html(a[e])}}))}function i(e,t){$(document).on("click",e,function(){var e=$(this),i=e.parent().index();return e.parent().hasClass("active")?!1:(e.parent().addClass("active").siblings().removeClass("active"),$(t).hide(),void $(t).eq(i).show())})}function n(e,t){var i=e.index();0==t?(e.removeClass("active").siblings(".table_size").removeClass("active"),e.prevAll().css("background","none"),e.parent().prevAll().each(function(){$(this).hasClass("table_hd")||$(this).find("span").eq(i).css("background","none")}),e.parents(".conversion_table_bd").find("li.table_hd span").eq(i).removeClass("active")):(e.addClass("active").siblings(".table_size").addClass("active"),e.prevAll().css("background","#D9D9D9"),e.parent().prevAll().each(function(){$(this).hasClass("table_hd")||$(this).find("span").eq(i).css("background","#D9D9D9")}),e.parents(".conversion_table_bd").find("li.table_hd span").eq(i).addClass("active"))}$(document).on("click",".size_guide .size_select",function(){modalLayer.fnModalBg(),$(".modal_container").addClass("modal_size_guide").html($("#modal_size_guide").html());var t=$(".modal_size_guide");t.find(".size_guide_hd ul li").eq(0).addClass("active"),t.find(".conversion").length>0?(t.find(".conversion").show(),e(t)):t.find(".international").length>0?t.find(".international").show():t.find(".measure").show(),modalLayer.fnModalAdd()}),$(document).on("click",".filter_size_right .select_box ul li",function(){var e=$(this).attr("cid"),i=$(this).data("name"),n=$("#all_country_size").attr("data-text"),a=e+" "+n;$(this).parents(".srot_box").find(".select_text .text").css({"data-name":i,"data-cid":e}),t(e,a)}),i(".size_guide_hd ul li a",".modal_size_guide .size_guide_bd .size_guide_data"),i(".conversion .filter_size_left ul li a",".modal_size_guide .conversion .conversion_table_bd"),$(document).on("mouseenter",'.size_guide_data:not(".measure") .conversion_table_bd ul li:not(".table_hd") span:not(".table_size")',function(){n($(this),1)}),$(document).on("mouseleave",'.size_guide_data:not(".measure") .conversion_table_bd ul li:not(".table_hd") span:not(".table_size")',function(){n($(this),0)})},loadFBCheckBox:function(){window.BOTHUB={facebook_page_id:0x7dc0ba1b1094,language:"en_US",entrance:{fb_messenger_checkbox_ref:{gateway:"engagement",code:"8iq",psid:"0"}}},function(e,t,i){e.id=t,e.src=i,window[t]||document.body.appendChild(e)}(document.createElement("script"),"bothub-sdk","//sdk.bothub.ai/bothub.js")},bindFBEvent:function(){window.bhAsyncInit=function(){FB.init({appId:"246353225430376",version:"v2.3",status:!0,cookie:!0}),FB.Event.subscribe("messenger_checkbox",function(e){if("rendered"==e.event){$(".fb_checkbox_title").removeClass("hide"),oDetail.isFBCheckboxShow()&&oDetail.fbSendPoint("product","show","right_messengerhide_button_180919","18269035859"),$(window).on("scroll",function(){oDetail.isFBCheckboxShow()&&oDetail.fbSendPoint("product","show","right_messengerhide_button_180919","18269035859")});var t=".addToCartBtn .perorder,.warehouse_box .bd ul li .addBtn .perorder,.addToCartBtn .add_to_cart,.warehouse_box .bd ul li .addBtn .add_cart";$(document).on("click",t,function(){var e=$(this);e.hasClass("gray")||(window.isFBCheckboxShow&&oDetail.fbSendPoint("product","click","right_messengerhide_button_180919","18269035857"),window.isFBCheckboxCheck&&BOTHUB.Marketing.logEvent("bind_fb_to_cid"))})}else if("checkbox"==e.event){var i;window.isFBCheckboxCheck=i="checked"===e.state?!0:!1,i&&window.isFBCheckboxShow&&oDetail.fbSendPoint("product","click","right_messengerhide_button_180919","18269035858")}})}},isFBCheckboxShow:function(){var e,t=$("#bothub-messenger-checkbox"),i=$(window).height(),n=$(document).scrollTop(),a=t.height(),o=t.offset().top;return e=i+n>=a+o,e&&(window.isFBCheckboxShow=e,oDetail.isFBCheckboxShow=function(){}),e},fbSendPoint:function(e,t,i,n){ga("send","event",e,t,i),"undefined"!=typeof JGData&&JGData.JGCheckClassName(JGData,i,"show"===t?2:0,"",n)},handlePageMark:function(e){"undefined"!=typeof nDC&&(window.dc_test_version=window.dc_test_version+","+e,nDC.analytics())},fnPaymentItem:function(result){var _this=this,codCode=["MY","TH","ID","SG","VN"],UkraineCode=["UA","MD","PK","BY"],BelgiumCode=["AT","BE"];if("undefined"!=typeof $.cookie("countryCookie")){eval("var countryCookie = "+$.cookie("countryCookie")+";");var snatch_serial_id=$("#snatch_serial_id").val()||window.snatch_serial_id;if("undefined"!=typeof countryCookie.code&&"BR"!=countryCookie.code&&"MX"!=countryCookie.code||snatch_serial_id){var cur_country=countryCookie.code;"undefined"==typeof LS_PAYMENT&&(LS_PAYMENT="Payment:");var classNameArr=["visa","mastercard","paypal"],tempArr=[];switch(-1!=$.inArray(cur_country,codCode)?classNameArr.push("cod"):-1!=$.inArray(cur_country,UkraineCode)?(classNameArr=["paypal","visa","mastercard"],classNameArr.unshift("webmoney")):-1!=$.inArray(cur_country,BelgiumCode)&&(classNameArr=["paypal","visa","mastercard"]),cur_country){case"PH":classNameArr=classNameArr=["paypal","cod","adyen_dragonpay_ebanking","dragonpay_convenience"];break;case"IN":classNameArr=["paytm_in","dlocal_rupay_in","dlocal_upi_in","in_cod"],tempArr=["paypal_em","visa_em","mastercard_em","dlocal_icici_em","hdfc_em","scb_bank_em","axis_em","kotak_em","yes_bank_em"];break;case"KZ":classNameArr=["qiwi","paypal","visa","mastercard"];break;case"RU":classNameArr=["qiwi","webmoney","paypal","visa","mastercard"],["RUB","USD","EUR"].indexOf($.cookie("currency"))>-1&&getPriceByCurrency(result.final_price,"RUB")<25e4&&classNameArr.push("adyen_yandex");break;case"MX":classNameArr=["oxxo","paypal","visa","mastercard"];break;case"NL":classNameArr=["paypal","visa","mastercard","ideal"];break;case"PL":classNameArr=["paypal","visa","mastercard","dotpay"];break;case"DE":classNameArr=["sofort","giropay","paypal","visa","mastercard"];break;case"FR":classNameArr=["paypal","visa","mastercard","cart_blue"];break;case"TR":classNameArr=["visa","mastercard","troy","payu_bkm"],!result.is_dropship&&classNameArr.push("payu_installment_tr");break;case"US":classNameArr=["paypal","paypalcredit","visa","mastercard"];break;case"IT":classNameArr=["paypal","postepay","visa","mastercard"];break;case"PT":classNameArr=["visa","mastercard","paypal","multibanco"]}(window.location.host.indexOf("jp.banggood")>-1||window.location.host.indexOf("jppre")>-1||"jp-JP"==$.cookie("_bgLang"))&&classNameArr.push("konbini"),"BY"==cur_country&&["RUB","USD","EUR"].indexOf($.cookie("currency"))>-1&&getPriceByCurrency(result.final_price,"RUB")<25e4&&classNameArr.push("adyen_yandex"),result.isBankTransferValidCountry&&classNameArr.push("bank_transfer"),result.snatchInfo&&1==result.snatchInfo.snatchType&&(classNameArr=["bgpay","pointspay"],"TR"!=cur_country&&classNameArr.unshift("paypal"),tempArr=[]);var tpl_html=_this.fnPaymentHtml(classNameArr,tempArr),html='<div class="item_payment" style="display:block;">                        <span class="payment_text">'+LS_PAYMENT+'</span>                        <div class="payment_box">                            '+tpl_html+"                        </div>                    </div>";$(".item_policy").show().after(html),classNameArr.indexOf("payu_installment_tr")>-1&&oBrazil.turkeyInterestRateHandler()}}},fnPaymentHtml:function(e,t){var i="",n="";if($.each(e,function(t){n+='<li class="'+e[t]+'"></li>'}),t.length<=0)i='<div class="payment_box">                    <div class="payment_box_item">                        <ul>'+n+"</ul>                    </div>                </div>";else{var a="";$.each(t,function(e){a+='<em class="'+t[e]+'"></em>'}),i+='<div class="payment_box_in">                    <div class="payment_in_show">                        <ul>'+n+'</ul>                    </div>                    <div class="payment_in_more">                        <div class="item_snap_up">                            <div class="snap_up_remind">                                <span class="Viewmore">'+DetailLanguage.LP_VIEW_MORE+'</span>                                <span class="remind_icon"></span>                                <div class="remind_info_box">                                    <div class="remind_info arrow_info"><i><i></i></i><span class="close"></span>                                        <span class="payment_in_img">'+a+"</span>                                    </div>                                 </div>                            </div>                        </div>                    </div>                </div>"}return i},fnFreeShipping:function(e,t){if(t.find(".item_free_shipping").remove(),e.freeShipmentProductShow&&1==e.freeShipmentProductShow){var i='<div class="item_free_shipping activity_js_text">                    <span class="free_promo_text">'+DetailLanguage.LA_PROMO+':</span>                    <div class="item_free_text">'+e.freeShipmentProduct.free_shipment_prompt+"</div>                </div>";if(e.overReduceProductShow&&1==e.overReduceProductShow||e.multiDiscountShow&&1==e.multiDiscountShow){var i='<div class="item_free_shipping item_free_shipping1 activity_js_text">                        <div class="item_free_text">'+e.freeShipmentProduct.free_shipment_prompt+"</div>                    </div>";$(".item_discount,.activity_js_text:last").after(i)}else $(".item_Nakdiscount").after(i);e.freeShipmentProduct.free_shipment_prompt_new&&$(".item_free_shipping .item_free_text").html(e.freeShipmentProduct.free_shipment_prompt_new)}},halfDiscountText:function(e){$(".halfDiscount").remove();var t=e.freeShipmentProductShow&&1==e.freeShipmentProductShow||e.multiDiscountShow&&1==e.multiDiscountShow||e.overReduceProductShow&&1==e.overReduceProductShow||e.shippingAcDsProductShow||e.cashbackShow,i=0;if(e.halfDiscountShow){var n=e.halfDiscount,a=t?"":'<span class="promo_text">'+DetailLanguage.LA_PROMO+":</span>",o='<div class="halfDiscount activity_js_text">'+a+'<span class="sale-icon">SALE</span>                                <span class="half_text" burying-point-data="middle_halfPriceInfo_text_191102|product|19306214722">'+n.prompt+' <a href="/muti-discount-list.html?tp=2">Go to see &gt;</a></span>                            </div>';t?$(".item_discount,.activity_js_text:last").after(o):$(".item_Nakdiscount").after(o),$(".halfDiscount .half_text").click(function(){var e=oCurrency.getCookieCurrency(),t=$("#quantity_num").val(),n=2>dataObj.can_buy_stock?dataObj.can_buy_stock:2;parseInt(n)>parseInt(t)&&$(".item_quantity .quantity_prev").removeClass("not_prev"),$("#quantity_num").val(n).addClass("twinkling"),oQuantity.checkQuantityNum(n,"show"),oQuantity.fnAutoSubtotal(e),clearTimeout(i),i=setTimeout(function(){$("#quantity_num").removeClass("twinkling")},300)})}},clickShipFrom:function(){function e(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null}$(".item_warehouse_list").on("click","li",function(){if(!$(this).hasClass("active")){var t=e("cur_warehouse"),i=$(this).attr("data-warehouse"),n=window.location.href;n=t?n.replace(/cur_warehouse=([^&]*)(&|$)/,"cur_warehouse="+i):n+"&cur_warehouse="+i,n=n.replace(/ID=([^&]*)(&|$)/,""),location.href=n}})},setDefaultWarehouse:function(e){$(".item_warehouse_list li").each(function(t,i){var n=$(i),a=n.attr("data-warehouse");n.removeClass("active"),e===a&&n.addClass("active")})},giftProductInfo:function(e){$(".title_strong").before('<span class="span_gift"><span class="span_gift_info">'+e+"</span></span>")},addLinkBubble:function(){"european_ry_dt_mail"!==$(".ship_box_center strong").attr("data-code")&&this.shippingAcDsProductShow&&this.showDiscountTips&&addBubble({left:0,top:25,close:1,target:$(".ship_via_box"),width:290,em:DetailLanguage.enjoy+" "+this.shippingAcDsProduct+" "+DetailLanguage.discount,text:DetailLanguage.choose})},addModalBubble:function(){var e=$('.shipping_list_dialog li[data-code="european_ry_dt_mail"]');this.shippingAcDsProductShow&&e.is(":visible")&&(e.addClass("slot"),addBubble({left:18,bottom:6,close:0,target:e,padding:"3px 10px",em:DetailLanguage.enjoy+" "+this.shippingAcDsProduct+" "+DetailLanguage.discount,text:DetailLanguage.mailing}))},addDiscountText:function(e){if(!$(".sku_free_shipping").get(0)){var t=e.freeShipmentProductShow&&1==e.freeShipmentProductShow||e.multiDiscountShow&&1==e.multiDiscountShow||e.overReduceProductShow&&1==e.overReduceProductShow,i=t?"":'<span class="promo_text">'+DetailLanguage.LA_PROMO+":</span>",n='<div class="sku_free_shipping activity_js_text">'+i+"<em>"+DetailLanguage.enjoy+' <span style="display: inline-block; direction: ltr;">'+this.shippingAcDsProduct+"</span> "+DetailLanguage.discount+"</em> "+DetailLanguage.choose+"</div>";this.shippingAcDsProductShow&&(t?$(".item_discount,.activity_js_text:last").after(n):$(".item_Nakdiscount").after(n))}},fnGstTips:function(e){var t='<div class="item_gst"><span class="item_gst_text">'+DetailLanguage.LP_GST_TEXT4+':</span><div class="item_gst_box">'+e+"</div></div>";$(".item_warehouse").after(t)},addCashText:function(e){if(!$(".cashback").get(0)){var t=e.freeShipmentProductShow&&1==e.freeShipmentProductShow||e.multiDiscountShow&&1==e.multiDiscountShow||e.overReduceProductShow&&1==e.overReduceProductShow||e.shippingAcDsProductShow;if(e.cashbackShow){var i=e.cashbackProduct,n=t?"":'<span class="promo_text">'+DetailLanguage.LA_PROMO+":</span>",a='<div class="sku_free_shipping cashback activity_js_text">'+n+'<span class="cashback_text">'+DetailLanguage.LA_CASH+"</span>                                <span>"+i.title+'</span>                                <div class="cashback-detail"><a class="cashback-detail-btn" href="javascript:;">Detail</a></div>                            </div>';if(t?$(".item_discount,.activity_js_text:last").after(a):$(".item_Nakdiscount").after(a),i.rule){var o="";$.each(i.rule,function(e,t){var i="";$.each(t.text,function(e,t){i+="<dd>"+t+"</dd>"}),o+='<li>                            <div class="img"><img src="'+t.payment_url+'"></div>                            <div class="text">                                <h3><strong>'+t.payment+"</strong> ("+t.cashback_time+")</h3>                                <dl>"+i+'</dl>                                <a class="view-all" style="display:'+(t.text.length>2?"inline-block":"none")+';" href="javascript:;">View All</a>                            </div>                        </li>'}),$(".cashback-detail-pop .list ul").html(o)}}$(".cashback_pop_close").click(function(){$(this).parent().hide()}),$(".cashback .trangle").mouseover(function(){$(this).children().show()}),$(".cashback-detail-btn").click(function(){modalLayer.fnModalBg(),$(".modal_container").html($(".cashback-detail-tpl").html()),modalLayer.fnModalAdd()}),$(document).off("click.viewall").on("click.viewall",".view-all",function(){$(this).hasClass("show")?($(this).text("View All").removeClass("show"),$(this).siblings("dl").find("dd:gt(1)").hide()):($(this).text("View Less").addClass("show"),$(this).siblings("dl").find("dd").show())})}},getCashbackPopHtml:function(e){var t=e.rule.map(function(e){return"<ul>                            <li>"+e.payment+"</li>                            "+e.text.map(function(e){return"<li>"+e+"</li>"}).join("")+"                        </ul>"}).join(""),i='<div class="cashback_pop"><i class="cashback_pop_close"></i>'+t+"</div>";return i},emailProving:function(){var e=this,t=$(".snatch-email-alt"),i=$(".snatch-email-btn"),n=$(".snatch-toast"),a={},o=homeUrl+"index.php?com=account&t=ajaxSendConfirmEmail";i.on("click","a",function(i){i.preventDefault(),e.fnGetJSONDate("POST",o,a,function(e){t.hide(),n.html(e.msg).fadeIn(),setTimeout(function(){n.fadeOut()},2500)})})},emailTip:function(){var e=$(".snatch-email-alt");e.on("click",".close",function(){$(this).parents(".snatch-email-alt").hide()})},fdGuideWholeSales:function(){var e=this;$(".guide_wholesale_tips_wrap .guide_wholesale_tips a").click(function(){if(e.isLogin){modalLayer.fnModalBg();var t='<div class="modal_ship"><span class="close"></span><div class="modal_ship_hd"><div class="modal_ship_info"><div class="guide_content"><p class="title">'+DetailLanguage.LP_WHOLESALE_INQUIRY_TIP_3+'</p><p class="info">'+DetailLanguage.LP_WHOLESALE_INQUIRY_TIP_4+'</p></div><div class="guide_btn"><a href="javascript:;" class="later">'+DetailLanguage.LP_WHOLESALE_INQUIRY_TIP_5+'</a><a href="javascript:;" class="send send_btn">'+DetailLanguage.LP_WHOLESALE_INQUIRY_TIP_6+"</a></div></div></div></div>";$(".modal_container").addClass("guide_wholesale_tips_pop").html(t),modalLayer.fnModalAdd()}else location.href=homeUrl+"login.html"}),$(document).on("click",".guide_wholesale_tips_pop .guide_btn .send_btn",function(){modalLayer.fnModalRemove();var e=$("#products_id").val();$.ajax({url:"/load/product/wholesaleInquiryNotice.html?products_id="+e,type:"Get",dataType:"json",success:function(e){if(200==e.code){modalLayer.fnModalBg();var t='<div class="modal_ship"><span class="close"></span><div class="modal_ship_hd"><div class="modal_ship_info"><div class="guide_content"><p class="title">'+DetailLanguage.LP_WHOLESALE_INQUIRY_TIP_3+'</p><p class="send_email">'+DetailLanguage.LP_WHOLESALE_INQUIRY_TIP_7+'</p><p class="info">'+DetailLanguage.LP_WHOLESALE_INQUIRY_TIP_8+'</p></div><div class="guide_btn"><a href="javascript:;" class="later">'+DetailLanguage.LP_WHOLESALE_INQUIRY_TIP_5+'</a><a href="https://wholesale.banggood.com/" class="send">'+DetailLanguage.LP_WHOLESALE_INQUIRY_TIP_9+"</a></div></div></div></div>";$(".modal_container").addClass("guide_wholesale_tips_pop").html(t),modalLayer.fnModalAdd()}else modalLayer.fnModalBg(),$(".modal_container").html(e.msg),modalLayer.fnModalAdd()}})})},stateDownAjax:function(){var e=this,t=$(".shipping_list_dialog .country_list .active span").attr("data-id");"223"!=t||$(".shipp_wrap .filter_block .state_list .state_box ul").find("li").length?$(".shipp_wrap .filter_block .state_list").hide():($(".ship_box_center .free_ship .free_country").html($(".shipp_wrap .filter_block .state_list .active span").html()),e.getShipmentsByShipZone(),$.ajax({url:homeUrl+"load/account/getZonesOp.html",data:{cid:t,isNew:2},type:"POST",dataType:"html",success:function(e){$(".shipp_wrap .filter_block .state_list .state_box ul").html(e),$(".shipp_wrap .filter_block .state_list").show()},error:function(){console.log("network error, try again.")}}))},stateEvent:function(){var e=this;$(document).on("click",".module",function(){$(".state_box").hide()}),$(document).on("click",".shipp_wrap .filter_block .state_list .active",function(e){$(".state_box").toggle(),e.stopPropagation()}),$(document).on("click",".shipp_wrap .filter_block .state_box li",function(){$(".shipp_wrap .filter_block .state_list .active span").html($(this).html()),$(".shipp_wrap .filter_block .state_list .active span").attr("data-id",$(this).attr("cid")),$(".shipp_wrap .filter_block .state_box").hide(),e.getShipmentsByShipZone()}),$(document).on("input propertychange click",".shipp_wrap .filter_block .state_search input",function(e){var t=$(this).val();t!=$(this).attr("dvalue")&&$(".shipp_wrap .filter_block .state_box li").hide().each(function(){0==$(this).text().toLowerCase().indexOf(t.toLowerCase())&&$(this).show()}),e.stopPropagation()})},getShipmentsByShipZone:function(e){var t=this,i=$("#products_id").val(),n="",a=$(".shipping_list_dialog .country_list .active span").attr("data-id"),o=$(".shipp_wrap .filter_block .state_list .active span").attr("data-id"),s=getUrlParam("cur_warehouse"),r=[],l=!1,c=".item_color_box .color_list ul li,.size_bd_box ul li.listSize",d=$(".module_detail .shipp_wrap .shipp_list ul li.active").attr("data-code");$(c).each(function(){r.push($(this).find("a").attr("value_id"))});var u=t.fnSelectPOA();u.length>0&&$.each(u,function(e,t){l=-1!=$.inArray(t,r)?!0:!1}),l&&(n=u.join(","));var p="products_id="+i+"&valueId="+n+"&warehouse="+s+"&country_id="+a;223==a&&(p+="&zone_id="+o),e?(modalLayer.fnModalRemove(),modalLayer.fnModalBg(),p+="&ship_code="+d+"&apply=1"):(p+="&apply=0",$(".shipp_list,.js-apply-shipp").addClass("loadingList")),$.ajax({url:"/index.php?com=product&t=getShipmentsByShipZone",type:"get",data:queryHandler.attachEncrypt(p),dataType:"json",success:function(t){if($(".shipp_list,.js-apply-shipp").removeClass("loadingList"),1==t.hasShipment){var i="";$.each(t.shipmentList,function(e){var n="";"undefined"!=typeof t.shipmentList[e].prompt&&""!=t.shipmentList[e].prompt&&(n=t.shipmentList[e].prompt.split("<em")[0],india_tpl_html='<span class="cart_title_india"><i class="india_icon"></i> '+t.shipmentList[e].prompt+"</span>"),i+='<li data-code="'+t.shipmentList[e].code+'" oriprice="'+t.shipmentList[e].price+'" data-name="'+t.shipmentList[e].name+'" data-days="'+t.shipmentList[e].deliveryDays+'" data-shipCost="'+t.shipmentList[e].shipCost+'" data-prompt="'+n+'">                                <div class="list_cell list_name"><label></label><span>'+t.shipmentList[e].name+'</span></div>                                <div class="list_cell list_shipcost"><span class="now_price" oriprice="'+t.shipmentList[e].price+'">'+t.shipmentList[e].shipCost+'</span></div>                                <div class="list_cell list_days">'+t.shipmentList[e].deliveryDays+'</div>                                <div class="list_cell list_track '+(0==t.shipmentList[e].trackNewStatus?"not_tracked":"")+'"></div>                            </li>'}),$(".module_detail .shipp_list ul").html(i);var n=t.defaultShip.code,a=0;$(".module_detail .shipp_list ul").find("li").each(function(){$(this).attr("data-code")==n&&(a=$(this).index())}),$(".module_detail .shipp_list ul").find("li").eq(a).addClass("active"),$(".module_detail .shipp_list_no").hide(),$(".module_detail .shipp_list").show(),$(".js-apply-shipp").show()}else $(".module_detail .shipp_list").hide(),$(".module_detail .shipp_list_no .urlWarehouse").remove(),$(".module_detail .shipp_list_no").prepend('<span class="urlWarehouse">('+s+") </span>"),$(".module_detail .shipp_list_no").show(),$(".js-apply-shipp").hide();e&&window.location.reload()}})},countryChange:function(){var e=this;$(document).on("click",".shipping_list_dialog .country_list .active",function(e){$(".state_box").hide(),$(".shipping_list_dialog .country_box").toggle(),e.stopPropagation()}).on("click",".shipping_list_dialog .country_search",function(e){e.stopPropagation()}).on("click",".shipping_list_dialog .country_box li",function(){var t=$(this).attr("sel");$(".shipping_list_dialog .country_list .active span").html($(this).text()).attr("data-id",t),$(".shipping_list_dialog .country_list .active .country-flag").attr("class",$(this).find(".country-flag").attr("class")),$(".shipping_list_dialog .country_box").hide(),223==t?$.ajax({url:homeUrl+"load/account/getZonesOp.html",data:{cid:t,isNew:2},type:"POST",dataType:"html",success:function(t){$(".state_list .state_box ul").html(t),$(".state_list .active span").attr("data-id",205).html($('.state_list .state_box ul li[cid="205"]').html()),$(".state_list").show(),e.getShipmentsByShipZone()},error:function(){console.log("network error, try again.")}}):($(".state_list").hide(),e.getShipmentsByShipZone())}).on("input propertychange",".shipping_list_dialog .country_search input",function(){var e=$(this).val();e!=$(this).attr("dvalue")&&$(".country_box li").hide().each(function(){0==$(this).text().toLowerCase().indexOf(e.toLowerCase())&&$(this).show()})}).on("click",".shipping_list_dialog .state_list .active",function(){$(".shipping_list_dialog .country_box").hide()}).click(function(){$(".shipping_list_dialog .country_box").hide()})}};return oDetail}),define("modules/question",["jquery","scrollLoading","modules/detail_common","modules/query_handler"],function(e,t,i,n){var a={isCan:!0,fnQaInit:function(){var t=this;e(".questionAnswerList").scrollLoading(t.getProductQuestionAnswer),e(document).on("input propertychange",".qa_search .qa_search_keyword",function(e){t.fnKeywordQuestion(this,e)}),e("#questionForm").on("submit",function(e){e.preventDefault()}),e(document).on("click",".answerList_left .topBtn",function(){return e(this).hasClass("notClick")?!1:void t.fnAddVote(this)}),e(document).on("click",".answerList_left .bottomBtn",function(){return e(this).hasClass("notClick")?!1:void t.fnReduceVote(this)}),e(document).on("click","#askSubmit",function(){t.fnSubmitQuestion()}),e(document).on("click",".view_more a",function(){t.fnSeeMoreBtn1(this)}),e(document).on("click",".view_hide a",function(){t.fnSeeMoreBtn2(this)}),e(document).on("click",".answer_text_1 .see_more",function(){t.fnClickSeeMoreText(this)}),e(document).on("click",".answer_text_1 .see_less",function(){t.fnClickStopMoreText(this)}),e(document).on("click","#questionNew",function(){if(1!=dataObj.hasLogin)window.location.href=homeUrl+"login.html";else{var i=e("#question_content");i.val(e("#ask_content").val()),i.trigger("keyup"),t.delInputNotice(i),e("#questionNewPop").show().children().removeClass("fail success"),e("#askSubmit").removeProp("disabled")}}),e(document).on("click","#questionPopClose",function(){e("#questionNewPop").hide()}),e(document).on("keyup","#question_content",function(){var t=e(this).val().length;t>=4800?e("#askNumber").css("color","#c40000"):e("#askNumber").removeAttr("style"),e("#askNumber").text(t)}),e(document).ready(function(){setTimeout(function(){e(".isShowMessage").fadeOut(1e3).removeClass("isShowMessage")},3e3)}),e(document).on("click",".helpful_btn",function(){t.helpful(this)})},helpful:function(t){var i=e(t).attr("data-id"),n="answer_id="+i,a=homeUrl+"load/qanswer/helpfulAnswer.html";e.ajax({url:a,type:"get",data:n,dataType:"json",success:function(i){if(2==i.code)window.location.href=homeUrl+"login.html";else if(1==i.code){var n=e(t).find("em"),a=1*i.total||0;n.text(a),0>=a?n.closest("i").hide():n.closest("i").show()}}})},inputNotice:function(e,t,i){var n="";"undefined"==typeof i&&(i=!1),1==i&&(n=" tips_ok"),e.after('<span class="tips'+n+'"><i></i>'+t+"</span>"),e.addClass("normal_error")},delInputNotice:function(e){e.nextAll(".tips").remove(),e.removeClass("normal_error")},fnKeywordQuestion:function(t,i){i.preventDefault();var n=i.keyCode;if(13==n)return!1;var a=e(t),o=a.val(),s=e(".J_qa_many");e(".vote_result").remove();var r=e(".item_QAproduct .qa_search .focus_text");if(1!=r.attr("data-index")&&r.attr("data-index",1).css("display","block"),o.length<1)e(".searchResult .resultArea").empty(),e("#question_list").show(),e(".searchResult .resultArea").hide(),r.css("display","none"),r.attr("data-index",0),s.hide();else{e("#question_list").hide(),e(".searchResult .resultArea").show(),s.show();
var l=a.data("pid"),c=homeUrl+"ajax/keywordQuestion/"+l+".html";e.ajax({type:"get",url:c,data:{keyword:o},success:function(t){e(".searchResult .resultArea").html(t),r.css("display","none")},error:function(){e(".searchResult .resultArea").html(""),r.css("display","none")}})}},fnAddVote:function(e){this.fnQuestionVoteItem(e,1)},fnReduceVote:function(e){this.fnQuestionVoteItem(e,-1)},fnQuestionVoteItem:function(t,i){var n=this;if(!n.getCanSend())return!1;n.setCanSend(!1);var a=e(t),o=a.parent().data("num"),s=a.parent().data("qid"),r=e("#QAtocken").val(),l=e("#QAdisplay").val(),c="",d=e(".answer-tips-toast");return a.hasClass("active")?(n.setCanSend(!0),!1):(-1==i?(o--,c=homeUrl+"ajax/reduceQaVote/"+s+".html"):(o++,c=homeUrl+"ajax/addQaVote/"+s+".html"),void e.ajax({type:"post",url:c,data:{QAtocken:r,QAdisplay:l},dataType:"json",success:function(e){if(n.setCanSend(!0),-1==e.code)window.location.href=homeUrl+"login.html";else if(3==e.code){clearTimeout(t),d.fadeIn();var t=setTimeout(function(){d.fadeOut()},2e3)}else{a.parent().find("span").removeClass("active"),a.addClass("active");var i=n.fnVotesFormat(o);a.siblings(".num").html(i),a.parent().data("num",o)}},error:function(){n.setCanSend(!0)}}))},fnVotesFormat:function(e){if(parseInt(e)>=1e3){var t=1e3==e?"k":"k+";e=(e/1e3).toFixed(1)+t}return e},fnSubmitQuestion:function(){var t=this;if(!t.getCanSend())return!1;t.setCanSend(!1);var i=e("#question_content"),n=e("#askSubmit"),a=e("#askResult"),o=e("#questionNewPop"),s=t.fnContentFilter(e.trim(i.val())),r=e("#products_id").val(),l=homeUrl+"load/qanswer/askQuestion.html",c=!0;return t.delInputNotice(i),o.children().removeClass("fail"),s.length?(s.length<2||s.length>5e3)&&(t.setCanSend(!0),t.inputNotice(i,i.attr("msg")),c=!1):(t.setCanSend(!0),t.inputNotice(i,i.attr("msg2")),c=!1),c?(n.prop("disabled","disabled"),void e.ajax({type:"post",url:l,data:{question_content:s,products_id:r},dataType:"json"}).done(function(s){s.error?2==s.error?window.location.href=homeUrl+"login.html":3==s.error?(t.inputNotice(i,s.message),n.removeProp("disabled")):(o.children().addClass("fail"),n.removeProp("disabled")):(o.children().addClass("success"),i.val(""),e("#askResultLink").attr("href",s.url)),a.text(s.message),t.setCanSend(!0)})):!1},fnContentFilter:function(e){var t=/<\/?[^>]*>/g,i=/[ | ]*\n/g,n=/&nbsp;/gi,a=e.replace(t,"");return a=e.replace(i,""),a=e.replace(n,"")},getCanSend:function(){var e=this;return e.isCan},setCanSend:function(e){this.isCan=e},fnSeeMoreBtn1:function(t){var i=e(t).parent(),n=i.closest(".answer_text"),a=n.find(".answer_list").length;if(1>=a)return!1;var o=parseInt(i.attr("data-index"))+2,s=2*o;i.attr("data-index",o),n.find(".answer_list:lt("+s+")").show(),i.siblings(".view_hide").show(),s>=a&&(i.siblings(".view_all").show(),i.hide()),this.fnAskQuestionV2()},fnSeeMoreBtn2:function(t){var i=e(t).parent(),n=i.closest(".answer_text");n.find(".answer_list").hide(),n.find(".answer_list:lt(1)").show(),i.hide().siblings(".view_all").hide().siblings(".view_more").attr("data-index",0).show(),this.fnAskQuestionV2()},fnClickSeeMoreText:function(t){e(t).hide().siblings(".ellipsis").hide().siblings(".see_more_text").show().siblings(".see_less").show()},fnClickStopMoreText:function(t){e(t).hide().siblings(".see_more_text").hide().siblings(".see_more").show().siblings(".ellipsis").show()},fnAskQuestionV2:function(){e(".qa_answerList ol li").each(function(t){this.onclick=function(){var i=e(".qa_answerList ul li").eq(t).outerHeight();e(".qa_answerList ul").css("height",i+10)},e(this).hasClass("active")&&e(".qa_answerList ul").css("height",e(".qa_answerList ul li").eq(t).outerHeight()+10)})},getProductQuestionAnswer:function(){var t=e("#products_id").val(),o=homeUrl+"load/product/loadCustomerQA.html",s="products_id="+t+"&lang="+i.getCookie("_bgLang");s=n.attachEncrypt(s),e.ajax({url:o,type:"get",data:s,dataType:"html",success:function(t){e("#questionAnswerList").find(".loading").hide(),e("#questionAnswerList").append(t),i.fnScrollPlay(".item_QAproduct",1,function(){var t=e("#customerQA").offset().top-40;e("html,body").animate({scrollTop:t},500)}),e("#questionAnswerList").find("ol li i").addClass("down_QApage_button_180411").attr("data-point-id","18101211660");var n=e(".qa_answerList ul li").eq(0).outerHeight();e(".qa_answerList ul").css({height:n+10,overflow:"hidden"}),a.fnAskQuestionV2()}})}};return a}),define("modules/pro_desc",["jquery","modules/httpserver","jqueryCookie","modules/query_handler"],function(e,t,i,n){var a={$jspromsgwrap:e("#jspromsgwrap"),$jstabbar:null,_products_id:e("#products_id").val(),_highLightItem:"productdetails",init:function(){this.$jstabbar=this.$jspromsgwrap.find(".jsTabBarList"),this.showSpecificationItem(),this.setTableBorder(),this.addCountrySize(),this.bindEvent()},bindEvent:function(){var t=this;e(document).on("click",".is_all",function(){this.onoff?e(".list_is_cnt tr:gt(9)").addClass("is_hide"):e(".list_is_cnt tr").removeClass("is_hide"),this.onoff=!this.onoff}),t.$jstabbar.on("click","li",function(){{var i=e(this),n=i.attr("aria-links"),a=0;i.siblings(".active").attr("aria-cont")}i.addClass("active").siblings().removeClass("active"),"jsReviewsWrap"!=n&&"customerQA"!=n&&(t.$jspromsgwrap.find(".jslist[aria-cont="+n+"]").show().siblings().hide(),a=i.hasClass("jsSpecificationItem")?e("#specification").offset().top-t.$jstabbar.height():e("#jspromsgwrap").offset().top+20,t._highLightItem=n,e(window).scrollTop(a))}),e(window).scroll(function(){var i=e(window).scrollTop(),n=t.$jspromsgwrap.find(".jsTabBarList li[aria-links="+t._highLightItem+"]").first(),a=!1;e(".detailpage").offset().top-i+10<0?(e(".item_addcart_fixed").show(),e("#jspromsgwrap").find(".tabbar_wrap").addClass("tabbar_wrap_fixed"),e("#jspromsgwrap").find(".jstabbar").show(),n=e("#specification").length>0&&e("#specification").offset().top-i<=50?t.$jspromsgwrap.find(".jsSpecificationItem[aria-links="+t._highLightItem+"]"):t.$jspromsgwrap.find(".jsTabBarList li[aria-links="+t._highLightItem+"]").first(),a=e("#JsEndQA").offset().top-i<50?!0:!1):a=!0,a&&(e(".item_addcart_fixed").hide(),e(".tabbar_wrap").removeClass("tabbar_wrap_fixed"),e("#jspromsgwrap").find(".jstabbar").hide()),e("#jsReviewsWrap").offset().top-i<60&&(n=t.$jspromsgwrap.find(".jsTabBarList li[aria-links=jsReviewsWrap]")),e("#customerQA").offset().top-i<60&&(n=t.$jspromsgwrap.find(".jsTabBarList li[aria-links=customerQA]")),n.addClass("active").siblings().removeClass("active")}),t.bindSizeChartEvent(),t.bindShoesSizeChartEvent(),t.bindShipAndPayMentChangeShipTo(),e("#centerCtrl").on("click",".rating_value",function(){e(".jsReviewItem").addClass("active").siblings().removeClass("active")}),e(".item_ws_gradient .gradient_request a").click(function(){e(".tabbar_item_wholesale").trigger("click")})},bindSizeChartEvent:function(){function t(){var t=e("#table_inch"),n=t.width(),a=t.find("td:last").attr("colspan"),o=0;o=n>900?200:150;var s=Math.floor((n-o)/(a-1));i.$jspromsgwrap.find(".new_size_item .size_title").width(o+"px"),i.$jspromsgwrap.find(".new_size_item .size_content").width(s+"px")}var i=this;i.$jspromsgwrap.on("click",".new_size_item .incheschange li",function(){e(this).siblings().removeClass("active"),e(this).addClass("active");var t=e(this).index();e(".new_size_item .list").hide(),e(".new_size_item .list").eq(t).show()}).on("mouseover",".new_size_item table td",function(){var t=e(this).index();t>0&&e(this).parents("table").find("tr").each(function(){e(this).find("td").eq(t).css({"background-color":"#f2f2f2",color:"#fff"})})}).on("mouseout",".new_size_item table td",function(){e(this).parents("table").find("td").css({"background-color":"#fff",color:"#656d78"})}).on("mouseover",".sizechart_item",function(){e(this).find("ul").addClass("active")}).on("mouseout",".sizechart_item",function(){e(this).find("ul").removeClass("active")}).on("click",".sizechart_item li",function(){var t=e(this).attr("data-size"),n=e(this).html();e(".sizechart_item span.text").html(n),e(this).parent().removeClass("active");for(var a=[],o=0;o<AllCountrySize.length;o++)AllCountrySize[o].country==t&&(a=AllCountrySize[o].value_name.split(","),i.$jspromsgwrap.find(".new_size_box table").each(function(){e(this).find("tr").eq(1).find("td").eq(0).html(n);for(var t=0;t<a.length;t++)e(this).find("tr").eq(1).find("td").eq(t+1).html(a[t])}))}),t()},showSpecificationItem:function(){var t=this;e("#specification").length>0?t.$jstabbar.find(".jsSpecificationItem").removeClass("specification_item"):t.$jstabbar.find(".jsSpecificationItem").remove()},addCountrySize:function(){if("undefined"!=typeof AllCountrySize&&AllCountrySize.length>0&&e("#all_country_size").length>0){for(var t=e("#all_country_size").find(".size_left_text").text(),i=t.split(")")[1].split(":")[0],n="",a=0;a<AllCountrySize.length;a++)if(AllCountrySize[a].value_name){var o='<li data-size="'+AllCountrySize[a].country+'"><b>('+AllCountrySize[a].country+")</b> "+i+"</li>";n+=o}e(".detailpage .good_tabs_box .sizechart_item .text").html(t),e(".detailpage .good_tabs_box .sizechart_item ul").html(n);var s=e(".sizechange_item .sizename").outerWidth();s>60&&e(".sizechange_item").css("width",s+31),e(".sizechart_item").show()}},setTableBorder:function(){var t=e("#jspromsgwrap").attr("isSpeWomen");1!=t&&0==e(".good_intimate").length&&e("#jspromsgwrap .good_tabs_box table").each(function(){var t=e(this);t.attr("style")&&t.attr("style").indexOf("border-collapse: inherit;")>-1?t.css("border","1px solid #dddddd"):((void 0===t.attr("border")||t.attr("border")===!1)&&t.attr("border","1"),(void 0===t.attr("cellpadding")||t.attr("cellpadding")===!1)&&t.attr("cellpadding","5"))})},bindShoesSizeChartEvent:function(){if(e(".good_photo_max_fashion").length>0&&e(".detailpage .good_tabs_box .list:first-child").find("table").css({"border-spacing":"2px","border-collapse":"inherit",width:"100%"}),"is_children_shoes"==e(".size_chart").attr("child_data")||e(".today_recommend").length>0&&0==e(".good_photo_max_fashion").length&&0==e(".good_photo_max_fashion_450").length){var t=e(".detailpage .good_tabs_box .list:first-child").find("table");t.each(function(){var t=e(this).find("tr").length,i=e(this).find("tr:last td").attr("colspan"),n=e(this).find("tr:last td").length;t>3&&(i>0&&1==n?e(this).addClass("charts_hover"):n>4&&e(this).addClass("charts_hover"))})}e(document).on("mouseenter",".charts_hover td",function(){var t=e(this),i=t.parents(".charts_hover"),n=i.find("td").attr("colspan");i.find(".active").removeClass("active"),n>0?(t.addClass("active").parent().children().eq(0).addClass("active"),"is_children_shoes"==e(".size_chart").attr("child_data")?(t.addClass("active").parent().children().eq(4).addClass("active"),t.addClass("active").parent().children().eq(5).addClass("active")):(t.addClass("active").parent().children().eq(6).addClass("active"),t.addClass("active").parent().children().eq(7).addClass("active")),i.find("tr:eq(1)").children().eq(t.index()).addClass("active"),i.find("tr:first").addClass("tr_first"),i.find("tr:last").addClass("tr_last")):(t.addClass("active").parent().children().eq(0).addClass("active"),i.find("tr:eq(0)").children().eq(t.index()).addClass("active"),i.hasClass("is_ring_product")&&t.index()>0&&t.addClass("active").parent().children().eq(1).addClass("active"))})},bindShipAndPayMentChangeShipTo:function(){function i(i,a,o){if(e("#jspromsgwrap").length){var a=(e.cookie("countryCookie")||{},a||e("#spWarehouse").find("span[sel]").attr("sel")),s=e(".top .shipto em").text().split(",")[0].replace(/\s$/,""),r=i;if(r&&"top"!=o||e("#spCountry .sp_country_box li").each(function(){if(e(this).text()==s){r=e(this).attr("sel");var t=e(this).find("img").eq(0).attr("src");t=e.webp.replaceWebpPath(t),e("#spCountry .sp_country_list .active span").html(e(this).text()),e("#spCountry .sp_country_list .active img").attr("src",t)}}),r){var l=homeUrl+"load/ajax/getShippingData.html",c="country_name_id="+r+"&warehouse_id="+a;c=n.attachEncrypt(c),t.httpGet(l,c,"json",function(t){if(0!=t.code){e(".shipping_payment_box .shipping_table").prev(".shipping_table_none").hide(),e(".shipping_payment_box .shipping_table tr:gt(0)").remove();var i="";e.each(t,function(e,t){i+="<tr><td>"+t.shipping_method+"</td><td>"+t.shipping_time+"</td><td>"+t.tracking_number+"</td></tr>"}),e(".shipping_payment_box .shipping_table").append(i).show()}else e(".shipping_payment_box .shipping_table").hide().prev(".shipping_table_none").show()})}}}e(document).on("click.shipping_payment_box",function(){e(".shipping_payment_box .sp_country_box").hide()}),e(".shipping_payment_box .sp_country_search").click(function(){return!1}),e(".shipping_payment_box .sp_country_list .active").click(function(){return e(this).next(".sp_country_box").show(),!1}),e(".shipping_payment_box .sp_country_box li").click(function(){var t=e(this).find("em").attr("class"),n=e(this).attr("sel");e(this).parents(".sp_country_box").prev(".active").children("span").html(e(this).text()).attr("sel",n),e(this).parents(".sp_country_box").prev(".active").children("em").attr("class",t),e(this).parents(".sp_country_box").hide();var a=e("#spWarehouse").find("span[sel]").attr("sel"),o=e("#spCountry").find("span[sel]").attr("sel");return i(o,a),!1}),e(".shipping_payment_box .sp_country_search input").attr("autocomplete","off").on("input propertychange","",function(){var t=e(this).val();t!=e(this).attr("dvalue")&&e(this).parents(".sp_country_box").find("li").hide().each(function(){0==e(this).text().toLowerCase().indexOf(t.toLowerCase())&&e(this).show()})}),i("","","top")}};a.init()}),define("js/main",["modules/detail_main","modules/question","modules/pro_desc","modules/reviews"],function(e,t){function i(){e.fnInit(),t.fnQaInit()}return i}),require.config({paths:{jquery:"js/jquery-1.9.1.min",scrollLoading:"js/scrollLoading",modalLayer:"js/jq.modal.layer",jqueryCookie:"js/jq.cookie",jqueryLazyload:"js/jq.lazyload",jqueryZoom:"js/jquery.zoom",bxSlider:"js/jquery.bxslider",lzString:"../../js/lzstring/lz-string.min"},shim:{scrollLoading:{deps:["jquery"],exports:"scrollLoading"},modalLayer:{deps:["jquery"],exports:"modalLayer"},jqueryCookie:{deps:["jquery"],exports:"jqueryCookie"},jqueryLazyload:{deps:["jquery"],exports:"jqueryLazyload"},jqueryZoom:{deps:["jquery"],exports:"jqueryZoom"},bxSlider:{deps:["jquery"],exports:"bxSlider"},lzString:{deps:["jquery"],exports:"lzString"}}}),require(["js/main"],function(e){e()}),define("init",function(){});